const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browser-BJ3a1_DI.js","assets/vendor-oqta4lwB.js"])))=>i.map(i=>d[i]);
var XA=Object.defineProperty;var Qp=e=>{throw TypeError(e)};var QA=(e,t,n)=>t in e?XA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Pr=(e,t,n)=>QA(e,typeof t!="symbol"?t+"":t,n),qc=(e,t,n)=>t.has(e)||Qp("Cannot "+n);var Z=(e,t,n)=>(qc(e,t,"read from private field"),n?n.call(e):t.get(e)),We=(e,t,n)=>t.has(e)?Qp("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Me=(e,t,n,r)=>(qc(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),jt=(e,t,n)=>(qc(e,t,"access private method"),n);var xl=(e,t,n,r)=>({set _(s){Me(e,t,s,n)},get _(){return Z(e,t,r)}});import{j as u,V as Lx,R as jx,A as Fx,C as Bx,T as Ux,D as Hx,P as JA,a as Fe,u as On,c as Dn,b as Ke,d as ta,e as Ee,f as kr,g as Hu,h as ZA,i as $x,S as Vx,k as wf,l as Er,m as eN,n as Tf,o as _f,p as $u,q as Hr,r as tN,s as Vu,t as zx,I as qx,v as Gx,w as nN,L as Wx,x as Yx,y as Kx,z as rN}from"./ui-BK2SFP_A.js";import{a as zu,r as b,R as K,v as sN,g as iN,c as $t,u as En,d as Yo,L as it,e as Xx,f as Ko,h as aN,B as oN,i as lN,j as ft,N as Xd}from"./vendor-oqta4lwB.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Qx,Jp=zu;Qx=Jp.createRoot,Jp.hydrateRoot;const uN=1,cN=1e6;let Gc=0;function dN(){return Gc=(Gc+1)%Number.MAX_SAFE_INTEGER,Gc.toString()}const Wc=new Map,Zp=e=>{if(Wc.has(e))return;const t=setTimeout(()=>{Wc.delete(e),no({type:"REMOVE_TOAST",toastId:e})},cN);Wc.set(e,t)},hN=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,uN)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Zp(n):e.toasts.forEach(r=>{Zp(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Vl=[];let zl={toasts:[]};function no(e){zl=hN(zl,e),Vl.forEach(t=>{t(zl)})}function fN({...e}){const t=dN(),n=s=>no({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>no({type:"DISMISS_TOAST",toastId:t});return no({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function mN(){const[e,t]=b.useState(zl);return b.useEffect(()=>(Vl.push(t),()=>{const n=Vl.indexOf(t);n>-1&&Vl.splice(n,1)}),[e]),{...e,toast:fN,dismiss:n=>no({type:"DISMISS_TOAST",toastId:n})}}function Jx(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Jx(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Zx(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Jx(e))&&(r&&(r+=" "),r+=t);return r}const eg=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,tg=Zx,pa=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return tg(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=t,a=Object.keys(s).map(d=>{const c=n==null?void 0:n[d],h=i==null?void 0:i[d];if(c===null)return null;const m=eg(c)||eg(h);return s[d][m]}),o=n&&Object.entries(n).reduce((d,c)=>{let[h,m]=c;return m===void 0||(d[h]=m),d},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((d,c)=>{let{class:h,className:m,...f}=c;return Object.entries(f).every(g=>{let[y,x]=g;return Array.isArray(x)?x.includes({...i,...o}[y]):{...i,...o}[y]===x})?[...d,h,m]:d},[]);return tg(e,a,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ev=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...o},l)=>b.createElement("svg",{ref:l,...gN,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:ev("lucide",s),...o},[...a.map(([d,c])=>b.createElement(d,c)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=(e,t)=>{const n=b.forwardRef(({className:r,...s},i)=>b.createElement(yN,{ref:i,iconNode:t,className:ev(`lucide-${pN(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=qe("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=qe("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=qe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=qe("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=qe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=qe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=qe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=qe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=qe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=qe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=qe("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=qe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=qe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=qe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=qe("CornerRightUp",[["polyline",{points:"10 9 15 4 20 9",key:"1lr6px"}],["path",{d:"M4 20h7a4 4 0 0 0 4-4V4",key:"1plgdj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=qe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=qe("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=qe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=qe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=qe("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=qe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ou=qe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=qe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=qe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=qe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=qe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=qe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Af=qe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=qe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=qe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=qe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=qe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=qe("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=qe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=qe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Nf="-",FN=e=>{const t=UN(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{const o=a.split(Nf);return o[0]===""&&o.length!==1&&o.shift(),rv(o,t)||BN(a)},getConflictingClassGroupIds:(a,o)=>{const l=n[a]||[];return o&&r[a]?[...l,...r[a]]:l}}},rv=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?rv(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(Nf);return(a=t.validators.find(({validator:o})=>o(i)))==null?void 0:a.classGroupId},sg=/^\[(.+)\]$/,BN=e=>{if(sg.test(e)){const t=sg.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},UN=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return $N(Object.entries(e.classGroups),n).forEach(([i,a])=>{Jd(a,r,i,t)}),r},Jd=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:ig(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(HN(s)){Jd(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,a])=>{Jd(a,ig(t,i),n,r)})})},ig=(e,t)=>{let n=e;return t.split(Nf).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},HN=e=>e.isThemeGetter,$N=(e,t)=>t?e.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,o])=>[t+a,o])):i);return[n,s]}):e,VN=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(i,a)=>{n.set(i,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set(i,a){n.has(i)?n.set(i,a):s(i,a)}}},sv="!",zN=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],i=t.length,a=o=>{const l=[];let d=0,c=0,h;for(let x=0;x<o.length;x++){let E=o[x];if(d===0){if(E===s&&(r||o.slice(x,x+i)===t)){l.push(o.slice(c,x)),c=x+i;continue}if(E==="/"){h=x;continue}}E==="["?d++:E==="]"&&d--}const m=l.length===0?o:o.substring(c),f=m.startsWith(sv),g=f?m.substring(1):m,y=h&&h>c?h-c:void 0;return{modifiers:l,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:y}};return n?o=>n({className:o,parseClassName:a}):a},qN=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},GN=e=>({cache:VN(e.cacheSize),parseClassName:zN(e),...FN(e)}),WN=/\s+/,YN=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,i=[],a=e.trim().split(WN);let o="";for(let l=a.length-1;l>=0;l-=1){const d=a[l],{modifiers:c,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:f}=n(d);let g=!!f,y=r(g?m.substring(0,f):m);if(!y){if(!g){o=d+(o.length>0?" "+o:o);continue}if(y=r(m),!y){o=d+(o.length>0?" "+o:o);continue}g=!1}const x=qN(c).join(":"),E=h?x+sv:x,v=E+y;if(i.includes(v))continue;i.push(v);const w=s(y,g);for(let T=0;T<w.length;++T){const S=w[T];i.push(E+S)}o=d+(o.length>0?" "+o:o)}return o};function KN(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=iv(t))&&(r&&(r+=" "),r+=n);return r}const iv=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=iv(e[r]))&&(n&&(n+=" "),n+=t);return n};function XN(e,...t){let n,r,s,i=a;function a(l){const d=t.reduce((c,h)=>h(c),e());return n=GN(d),r=n.cache.get,s=n.cache.set,i=o,o(l)}function o(l){const d=r(l);if(d)return d;const c=YN(l,n);return s(l,c),c}return function(){return i(KN.apply(null,arguments))}}const st=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},av=/^\[(?:([a-z-]+):)?(.+)\]$/i,QN=/^\d+\/\d+$/,JN=new Set(["px","full","screen"]),ZN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,e2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,t2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,n2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,r2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Or=e=>Li(e)||JN.has(e)||QN.test(e),Jr=e=>ga(e,"length",d2),Li=e=>!!e&&!Number.isNaN(Number(e)),Yc=e=>ga(e,"number",Li),Oa=e=>!!e&&Number.isInteger(Number(e)),s2=e=>e.endsWith("%")&&Li(e.slice(0,-1)),Be=e=>av.test(e),Zr=e=>ZN.test(e),i2=new Set(["length","size","percentage"]),a2=e=>ga(e,i2,ov),o2=e=>ga(e,"position",ov),l2=new Set(["image","url"]),u2=e=>ga(e,l2,f2),c2=e=>ga(e,"",h2),Da=()=>!0,ga=(e,t,n)=>{const r=av.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},d2=e=>e2.test(e)&&!t2.test(e),ov=()=>!1,h2=e=>n2.test(e),f2=e=>r2.test(e),m2=()=>{const e=st("colors"),t=st("spacing"),n=st("blur"),r=st("brightness"),s=st("borderColor"),i=st("borderRadius"),a=st("borderSpacing"),o=st("borderWidth"),l=st("contrast"),d=st("grayscale"),c=st("hueRotate"),h=st("invert"),m=st("gap"),f=st("gradientColorStops"),g=st("gradientColorStopPositions"),y=st("inset"),x=st("margin"),E=st("opacity"),v=st("padding"),w=st("saturate"),T=st("scale"),S=st("sepia"),C=st("skew"),D=st("space"),j=st("translate"),F=()=>["auto","contain","none"],V=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto",Be,t],P=()=>[Be,t],W=()=>["",Or,Jr],Q=()=>["auto",Li,Be],te=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Y=()=>["start","end","center","between","around","evenly","stretch"],O=()=>["","0",Be],_=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[Li,Be];return{cacheSize:500,separator:":",theme:{colors:[Da],spacing:[Or,Jr],blur:["none","",Zr,Be],brightness:ee(),borderColor:[e],borderRadius:["none","","full",Zr,Be],borderSpacing:P(),borderWidth:W(),contrast:ee(),grayscale:O(),hueRotate:ee(),invert:O(),gap:P(),gradientColorStops:[e],gradientColorStopPositions:[s2,Jr],inset:z(),margin:z(),opacity:ee(),padding:P(),saturate:ee(),scale:ee(),sepia:O(),skew:ee(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",Be]}],container:["container"],columns:[{columns:[Zr]}],"break-after":[{"break-after":_()}],"break-before":[{"break-before":_()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...te(),Be]}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Oa,Be]}],basis:[{basis:z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Be]}],grow:[{grow:O()}],shrink:[{shrink:O()}],order:[{order:["first","last","none",Oa,Be]}],"grid-cols":[{"grid-cols":[Da]}],"col-start-end":[{col:["auto",{span:["full",Oa,Be]},Be]}],"col-start":[{"col-start":Q()}],"col-end":[{"col-end":Q()}],"grid-rows":[{"grid-rows":[Da]}],"row-start-end":[{row:["auto",{span:[Oa,Be]},Be]}],"row-start":[{"row-start":Q()}],"row-end":[{"row-end":Q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Be]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Be]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...Y()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Y(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Y(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[D]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[D]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Be,t]}],"min-w":[{"min-w":[Be,t,"min","max","fit"]}],"max-w":[{"max-w":[Be,t,"none","full","min","max","fit","prose",{screen:[Zr]},Zr]}],h:[{h:[Be,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Be,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Be,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Be,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Zr,Jr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Yc]}],"font-family":[{font:[Da]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Be]}],"line-clamp":[{"line-clamp":["none",Li,Yc]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Or,Be]}],"list-image":[{"list-image":["none",Be]}],"list-style-type":[{list:["none","disc","decimal",Be]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Or,Jr]}],"underline-offset":[{"underline-offset":["auto",Or,Be]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Be]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Be]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...te(),o2]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",a2]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},u2]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:L()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[Or,Be]}],"outline-w":[{outline:[Or,Jr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[Or,Jr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Zr,c2]}],"shadow-color":[{shadow:[Da]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...U(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":U()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Zr,Be]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Be]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",Be]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",Be]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[Oa,Be]}],"translate-x":[{"translate-x":[j]}],"translate-y":[{"translate-y":[j]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Be]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Be]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Be]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Or,Jr,Yc]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},p2=XN(m2);function I(...e){return p2(Zx(e))}const g2=JA,lv=b.forwardRef(({className:e,...t},n)=>u.jsx(Lx,{ref:n,className:I("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));lv.displayName=Lx.displayName;const y2=pa("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),uv=b.forwardRef(({className:e,variant:t,...n},r)=>u.jsx(jx,{ref:r,className:I(y2({variant:t}),e),...n}));uv.displayName=jx.displayName;const b2=b.forwardRef(({className:e,...t},n)=>u.jsx(Fx,{ref:n,className:I("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));b2.displayName=Fx.displayName;const cv=b.forwardRef(({className:e,...t},n)=>u.jsx(Bx,{ref:n,className:I("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:u.jsx(Gu,{className:"h-4 w-4"})}));cv.displayName=Bx.displayName;const dv=b.forwardRef(({className:e,...t},n)=>u.jsx(Ux,{ref:n,className:I("text-sm font-semibold",e),...t}));dv.displayName=Ux.displayName;const hv=b.forwardRef(({className:e,...t},n)=>u.jsx(Hx,{ref:n,className:I("text-sm opacity-90",e),...t}));hv.displayName=Hx.displayName;function x2(){const{toasts:e}=mN();return u.jsxs(g2,{children:[e.map(function({id:t,title:n,description:r,action:s,...i}){return u.jsxs(uv,{...i,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(dv,{children:n}),r&&u.jsx(hv,{children:r})]}),s,u.jsx(cv,{})]},t)}),u.jsx(lv,{})]})}var ag=["light","dark"],v2="(prefers-color-scheme: dark)",E2=b.createContext(void 0),w2={setTheme:e=>{},themes:[]},T2=()=>{var e;return(e=b.useContext(E2))!=null?e:w2};b.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:a,attrs:o,nonce:l})=>{let d=i==="system",c=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${o.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=s?ag.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(g,y=!1,x=!0)=>{let E=a?a[g]:g,v=y?g+"|| ''":`'${E}'`,w="";return s&&x&&!y&&ag.includes(g)&&(w+=`d.style.colorScheme = '${g}';`),n==="class"?y||E?w+=`c.add(${v})`:w+="null":E&&(w+=`d[s](n,${v})`),w},f=e?`!function(){${c}${m(e)}}()`:r?`!function(){try{${c}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${d})){var t='${v2}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${m(a?"x[e]":"e",!0)}}${d?"":"else{"+m(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${c}var e=localStorage.getItem('${t}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${m(a?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${h}}catch(t){}}();`;return b.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:f}})});var _2=e=>{switch(e){case"success":return A2;case"info":return k2;case"warning":return N2;case"error":return I2;default:return null}},S2=Array(12).fill(0),C2=({visible:e,className:t})=>K.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},K.createElement("div",{className:"sonner-spinner"},S2.map((n,r)=>K.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),A2=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),N2=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),k2=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),I2=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),R2=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},K.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),K.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),P2=()=>{let[e,t]=K.useState(document.hidden);return K.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},Zd=1,O2=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Zd++,i=this.toasts.find(o=>o.id===s),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(o=>o.id===s?(this.publish({...o,...e,id:s,title:n}),{...o,...e,id:s,dismissible:a,title:n}):o):this.addToast({title:n,...r,dismissible:a,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0,i,a=r.then(async l=>{if(i=["resolve",l],K.isValidElement(l))s=!1,this.create({id:n,type:"default",message:l});else if(M2(l)&&!l.ok){s=!1;let d=typeof t.error=="function"?await t.error(`HTTP error! status: ${l.status}`):t.error,c=typeof t.description=="function"?await t.description(`HTTP error! status: ${l.status}`):t.description;this.create({id:n,type:"error",message:d,description:c})}else if(t.success!==void 0){s=!1;let d=typeof t.success=="function"?await t.success(l):t.success,c=typeof t.description=="function"?await t.description(l):t.description;this.create({id:n,type:"success",message:d,description:c})}}).catch(async l=>{if(i=["reject",l],t.error!==void 0){s=!1;let d=typeof t.error=="function"?await t.error(l):t.error,c=typeof t.description=="function"?await t.description(l):t.description;this.create({id:n,type:"error",message:d,description:c})}}).finally(()=>{var l;s&&(this.dismiss(n),n=void 0),(l=t.finally)==null||l.call(t)}),o=()=>new Promise((l,d)=>a.then(()=>i[0]==="reject"?d(i[1]):l(i[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:o}:Object.assign(n,{unwrap:o})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||Zd++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},rn=new O2,D2=(e,t)=>{let n=(t==null?void 0:t.id)||Zd++;return rn.addToast({title:e,...t,id:n}),n},M2=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",L2=D2,j2=()=>rn.toasts,F2=()=>rn.getActiveToasts(),se=Object.assign(L2,{success:rn.success,info:rn.info,warning:rn.warning,error:rn.error,custom:rn.custom,message:rn.message,promise:rn.promise,dismiss:rn.dismiss,loading:rn.loading},{getHistory:j2,getToasts:F2});function B2(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}B2(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function vl(e){return e.label!==void 0}var U2=3,H2="32px",$2="16px",og=4e3,V2=356,z2=14,q2=20,G2=200;function Un(...e){return e.filter(Boolean).join(" ")}function W2(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var Y2=e=>{var t,n,r,s,i,a,o,l,d,c,h;let{invert:m,toast:f,unstyled:g,interacting:y,setHeights:x,visibleToasts:E,heights:v,index:w,toasts:T,expanded:S,removeToast:C,defaultRichColors:D,closeButton:j,style:F,cancelButtonStyle:V,actionButtonStyle:z,className:P="",descriptionClassName:W="",duration:Q,position:te,gap:L,loadingIcon:U,expandByDefault:Y,classNames:O,icons:_,closeButtonAriaLabel:ee="Close toast",pauseWhenPageIsHidden:ie}=e,[k,ge]=K.useState(null),[Re,Ae]=K.useState(null),[G,ce]=K.useState(!1),[de,be]=K.useState(!1),[we,Te]=K.useState(!1),[Xe,Tt]=K.useState(!1),[St,dn]=K.useState(!1),[wn,Yr]=K.useState(0),[Tn,M]=K.useState(0),$=K.useRef(f.duration||Q||og),X=K.useRef(null),fe=K.useRef(null),he=w===0,ue=w+1<=E,B=f.type,J=f.dismissible!==!1,pe=f.className||"",Ce=f.descriptionClassName||"",Ve=K.useMemo(()=>v.findIndex(De=>De.toastId===f.id)||0,[v,f.id]),ht=K.useMemo(()=>{var De;return(De=f.closeButton)!=null?De:j},[f.closeButton,j]),_n=K.useMemo(()=>f.duration||Q||og,[f.duration,Q]),Ot=K.useRef(0),Lt=K.useRef(0),or=K.useRef(0),lt=K.useRef(null),[lr,Jt]=te.split("-"),Kp=K.useMemo(()=>v.reduce((De,Ze,at)=>at>=Ve?De:De+Ze.height,0),[v,Ve]),Xp=P2(),YA=f.invert||m,zc=B==="loading";Lt.current=K.useMemo(()=>Ve*L+Kp,[Ve,Kp]),K.useEffect(()=>{$.current=_n},[_n]),K.useEffect(()=>{ce(!0)},[]),K.useEffect(()=>{let De=fe.current;if(De){let Ze=De.getBoundingClientRect().height;return M(Ze),x(at=>[{toastId:f.id,height:Ze,position:f.position},...at]),()=>x(at=>at.filter(jn=>jn.toastId!==f.id))}},[x,f.id]),K.useLayoutEffect(()=>{if(!G)return;let De=fe.current,Ze=De.style.height;De.style.height="auto";let at=De.getBoundingClientRect().height;De.style.height=Ze,M(at),x(jn=>jn.find(Fn=>Fn.toastId===f.id)?jn.map(Fn=>Fn.toastId===f.id?{...Fn,height:at}:Fn):[{toastId:f.id,height:at,position:f.position},...jn])},[G,f.title,f.description,x,f.id]);let Kr=K.useCallback(()=>{be(!0),Yr(Lt.current),x(De=>De.filter(Ze=>Ze.toastId!==f.id)),setTimeout(()=>{C(f)},G2)},[f,C,x,Lt]);K.useEffect(()=>{if(f.promise&&B==="loading"||f.duration===1/0||f.type==="loading")return;let De;return S||y||ie&&Xp?(()=>{if(or.current<Ot.current){let Ze=new Date().getTime()-Ot.current;$.current=$.current-Ze}or.current=new Date().getTime()})():$.current!==1/0&&(Ot.current=new Date().getTime(),De=setTimeout(()=>{var Ze;(Ze=f.onAutoClose)==null||Ze.call(f,f),Kr()},$.current)),()=>clearTimeout(De)},[S,y,f,B,ie,Xp,Kr]),K.useEffect(()=>{f.delete&&Kr()},[Kr,f.delete]);function KA(){var De,Ze,at;return _!=null&&_.loading?K.createElement("div",{className:Un(O==null?void 0:O.loader,(De=f==null?void 0:f.classNames)==null?void 0:De.loader,"sonner-loader"),"data-visible":B==="loading"},_.loading):U?K.createElement("div",{className:Un(O==null?void 0:O.loader,(Ze=f==null?void 0:f.classNames)==null?void 0:Ze.loader,"sonner-loader"),"data-visible":B==="loading"},U):K.createElement(C2,{className:Un(O==null?void 0:O.loader,(at=f==null?void 0:f.classNames)==null?void 0:at.loader),visible:B==="loading"})}return K.createElement("li",{tabIndex:0,ref:fe,className:Un(P,pe,O==null?void 0:O.toast,(t=f==null?void 0:f.classNames)==null?void 0:t.toast,O==null?void 0:O.default,O==null?void 0:O[B],(n=f==null?void 0:f.classNames)==null?void 0:n[B]),"data-sonner-toast":"","data-rich-colors":(r=f.richColors)!=null?r:D,"data-styled":!(f.jsx||f.unstyled||g),"data-mounted":G,"data-promise":!!f.promise,"data-swiped":St,"data-removed":de,"data-visible":ue,"data-y-position":lr,"data-x-position":Jt,"data-index":w,"data-front":he,"data-swiping":we,"data-dismissible":J,"data-type":B,"data-invert":YA,"data-swipe-out":Xe,"data-swipe-direction":Re,"data-expanded":!!(S||Y&&G),style:{"--index":w,"--toasts-before":w,"--z-index":T.length-w,"--offset":`${de?wn:Lt.current}px`,"--initial-height":Y?"auto":`${Tn}px`,...F,...f.style},onDragEnd:()=>{Te(!1),ge(null),lt.current=null},onPointerDown:De=>{zc||!J||(X.current=new Date,Yr(Lt.current),De.target.setPointerCapture(De.pointerId),De.target.tagName!=="BUTTON"&&(Te(!0),lt.current={x:De.clientX,y:De.clientY}))},onPointerUp:()=>{var De,Ze,at,jn;if(Xe||!J)return;lt.current=null;let Fn=Number(((De=fe.current)==null?void 0:De.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Xr=Number(((Ze=fe.current)==null?void 0:Ze.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ps=new Date().getTime()-((at=X.current)==null?void 0:at.getTime()),Bn=k==="x"?Fn:Xr,Qr=Math.abs(Bn)/Ps;if(Math.abs(Bn)>=q2||Qr>.11){Yr(Lt.current),(jn=f.onDismiss)==null||jn.call(f,f),Ae(k==="x"?Fn>0?"right":"left":Xr>0?"down":"up"),Kr(),Tt(!0),dn(!1);return}Te(!1),ge(null)},onPointerMove:De=>{var Ze,at,jn,Fn;if(!lt.current||!J||((Ze=window.getSelection())==null?void 0:Ze.toString().length)>0)return;let Xr=De.clientY-lt.current.y,Ps=De.clientX-lt.current.x,Bn=(at=e.swipeDirections)!=null?at:W2(te);!k&&(Math.abs(Ps)>1||Math.abs(Xr)>1)&&ge(Math.abs(Ps)>Math.abs(Xr)?"x":"y");let Qr={x:0,y:0};k==="y"?(Bn.includes("top")||Bn.includes("bottom"))&&(Bn.includes("top")&&Xr<0||Bn.includes("bottom")&&Xr>0)&&(Qr.y=Xr):k==="x"&&(Bn.includes("left")||Bn.includes("right"))&&(Bn.includes("left")&&Ps<0||Bn.includes("right")&&Ps>0)&&(Qr.x=Ps),(Math.abs(Qr.x)>0||Math.abs(Qr.y)>0)&&dn(!0),(jn=fe.current)==null||jn.style.setProperty("--swipe-amount-x",`${Qr.x}px`),(Fn=fe.current)==null||Fn.style.setProperty("--swipe-amount-y",`${Qr.y}px`)}},ht&&!f.jsx?K.createElement("button",{"aria-label":ee,"data-disabled":zc,"data-close-button":!0,onClick:zc||!J?()=>{}:()=>{var De;Kr(),(De=f.onDismiss)==null||De.call(f,f)},className:Un(O==null?void 0:O.closeButton,(s=f==null?void 0:f.classNames)==null?void 0:s.closeButton)},(i=_==null?void 0:_.close)!=null?i:R2):null,f.jsx||b.isValidElement(f.title)?f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title:K.createElement(K.Fragment,null,B||f.icon||f.promise?K.createElement("div",{"data-icon":"",className:Un(O==null?void 0:O.icon,(a=f==null?void 0:f.classNames)==null?void 0:a.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||KA():null,f.type!=="loading"?f.icon||(_==null?void 0:_[B])||_2(B):null):null,K.createElement("div",{"data-content":"",className:Un(O==null?void 0:O.content,(o=f==null?void 0:f.classNames)==null?void 0:o.content)},K.createElement("div",{"data-title":"",className:Un(O==null?void 0:O.title,(l=f==null?void 0:f.classNames)==null?void 0:l.title)},typeof f.title=="function"?f.title():f.title),f.description?K.createElement("div",{"data-description":"",className:Un(W,Ce,O==null?void 0:O.description,(d=f==null?void 0:f.classNames)==null?void 0:d.description)},typeof f.description=="function"?f.description():f.description):null),b.isValidElement(f.cancel)?f.cancel:f.cancel&&vl(f.cancel)?K.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||V,onClick:De=>{var Ze,at;vl(f.cancel)&&J&&((at=(Ze=f.cancel).onClick)==null||at.call(Ze,De),Kr())},className:Un(O==null?void 0:O.cancelButton,(c=f==null?void 0:f.classNames)==null?void 0:c.cancelButton)},f.cancel.label):null,b.isValidElement(f.action)?f.action:f.action&&vl(f.action)?K.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||z,onClick:De=>{var Ze,at;vl(f.action)&&((at=(Ze=f.action).onClick)==null||at.call(Ze,De),!De.defaultPrevented&&Kr())},className:Un(O==null?void 0:O.actionButton,(h=f==null?void 0:f.classNames)==null?void 0:h.actionButton)},f.action.label):null))};function lg(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function K2(e,t){let n={};return[e,t].forEach((r,s)=>{let i=s===1,a=i?"--mobile-offset":"--offset",o=i?$2:H2;function l(d){["top","right","bottom","left"].forEach(c=>{n[`${a}-${c}`]=typeof d=="number"?`${d}px`:d})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(d=>{r[d]===void 0?n[`${a}-${d}`]=o:n[`${a}-${d}`]=typeof r[d]=="number"?`${r[d]}px`:r[d]}):l(o)}),n}var X2=b.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:a,className:o,offset:l,mobileOffset:d,theme:c="light",richColors:h,duration:m,style:f,visibleToasts:g=U2,toastOptions:y,dir:x=lg(),gap:E=z2,loadingIcon:v,icons:w,containerAriaLabel:T="Notifications",pauseWhenPageIsHidden:S}=e,[C,D]=K.useState([]),j=K.useMemo(()=>Array.from(new Set([r].concat(C.filter(ie=>ie.position).map(ie=>ie.position)))),[C,r]),[F,V]=K.useState([]),[z,P]=K.useState(!1),[W,Q]=K.useState(!1),[te,L]=K.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),U=K.useRef(null),Y=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),O=K.useRef(null),_=K.useRef(!1),ee=K.useCallback(ie=>{D(k=>{var ge;return(ge=k.find(Re=>Re.id===ie.id))!=null&&ge.delete||rn.dismiss(ie.id),k.filter(({id:Re})=>Re!==ie.id)})},[]);return K.useEffect(()=>rn.subscribe(ie=>{if(ie.dismiss){D(k=>k.map(ge=>ge.id===ie.id?{...ge,delete:!0}:ge));return}setTimeout(()=>{sN.flushSync(()=>{D(k=>{let ge=k.findIndex(Re=>Re.id===ie.id);return ge!==-1?[...k.slice(0,ge),{...k[ge],...ie},...k.slice(ge+1)]:[ie,...k]})})})}),[]),K.useEffect(()=>{if(c!=="system"){L(c);return}if(c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?L("dark"):L("light")),typeof window>"u")return;let ie=window.matchMedia("(prefers-color-scheme: dark)");try{ie.addEventListener("change",({matches:k})=>{L(k?"dark":"light")})}catch{ie.addListener(({matches:ge})=>{try{L(ge?"dark":"light")}catch(Re){console.error(Re)}})}},[c]),K.useEffect(()=>{C.length<=1&&P(!1)},[C]),K.useEffect(()=>{let ie=k=>{var ge,Re;s.every(Ae=>k[Ae]||k.code===Ae)&&(P(!0),(ge=U.current)==null||ge.focus()),k.code==="Escape"&&(document.activeElement===U.current||(Re=U.current)!=null&&Re.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",ie),()=>document.removeEventListener("keydown",ie)},[s]),K.useEffect(()=>{if(U.current)return()=>{O.current&&(O.current.focus({preventScroll:!0}),O.current=null,_.current=!1)}},[U.current]),K.createElement("section",{ref:t,"aria-label":`${T} ${Y}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},j.map((ie,k)=>{var ge;let[Re,Ae]=ie.split("-");return C.length?K.createElement("ol",{key:ie,dir:x==="auto"?lg():x,tabIndex:-1,ref:U,className:o,"data-sonner-toaster":!0,"data-theme":te,"data-y-position":Re,"data-lifted":z&&C.length>1&&!i,"data-x-position":Ae,style:{"--front-toast-height":`${((ge=F[0])==null?void 0:ge.height)||0}px`,"--width":`${V2}px`,"--gap":`${E}px`,...f,...K2(l,d)},onBlur:G=>{_.current&&!G.currentTarget.contains(G.relatedTarget)&&(_.current=!1,O.current&&(O.current.focus({preventScroll:!0}),O.current=null))},onFocus:G=>{G.target instanceof HTMLElement&&G.target.dataset.dismissible==="false"||_.current||(_.current=!0,O.current=G.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{W||P(!1)},onDragEnd:()=>P(!1),onPointerDown:G=>{G.target instanceof HTMLElement&&G.target.dataset.dismissible==="false"||Q(!0)},onPointerUp:()=>Q(!1)},C.filter(G=>!G.position&&k===0||G.position===ie).map((G,ce)=>{var de,be;return K.createElement(Y2,{key:G.id,icons:w,index:ce,toast:G,defaultRichColors:h,duration:(de=y==null?void 0:y.duration)!=null?de:m,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:n,visibleToasts:g,closeButton:(be=y==null?void 0:y.closeButton)!=null?be:a,interacting:W,position:ie,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:ee,toasts:C.filter(we=>we.position==G.position),heights:F.filter(we=>we.position==G.position),setHeights:V,expandByDefault:i,gap:E,loadingIcon:v,expanded:z,pauseWhenPageIsHidden:S,swipeDirections:e.swipeDirections})})):null}))});const Q2=({...e})=>{const{theme:t="system"}=T2();return u.jsx(X2,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})},J2=["top","right","bottom","left"],vs=Math.min,gn=Math.max,lu=Math.round,El=Math.floor,wr=e=>({x:e,y:e}),Z2={left:"right",right:"left",bottom:"top",top:"bottom"},ek={start:"end",end:"start"};function eh(e,t,n){return gn(e,vs(t,n))}function $r(e,t){return typeof e=="function"?e(t):e}function Vr(e){return e.split("-")[0]}function ya(e){return e.split("-")[1]}function kf(e){return e==="x"?"y":"x"}function If(e){return e==="y"?"height":"width"}function br(e){return["top","bottom"].includes(Vr(e))?"y":"x"}function Rf(e){return kf(br(e))}function tk(e,t,n){n===void 0&&(n=!1);const r=ya(e),s=Rf(e),i=If(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=uu(a)),[a,uu(a)]}function nk(e){const t=uu(e);return[th(e),t,th(t)]}function th(e){return e.replace(/start|end/g,t=>ek[t])}function rk(e,t,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?i:a;default:return[]}}function sk(e,t,n,r){const s=ya(e);let i=rk(Vr(e),n==="start",r);return s&&(i=i.map(a=>a+"-"+s),t&&(i=i.concat(i.map(th)))),i}function uu(e){return e.replace(/left|right|bottom|top/g,t=>Z2[t])}function ik(e){return{top:0,right:0,bottom:0,left:0,...e}}function fv(e){return typeof e!="number"?ik(e):{top:e,right:e,bottom:e,left:e}}function cu(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function ug(e,t,n){let{reference:r,floating:s}=e;const i=br(t),a=Rf(t),o=If(a),l=Vr(t),d=i==="y",c=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,m=r[o]/2-s[o]/2;let f;switch(l){case"top":f={x:c,y:r.y-s.height};break;case"bottom":f={x:c,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:h};break;case"left":f={x:r.x-s.width,y:h};break;default:f={x:r.x,y:r.y}}switch(ya(t)){case"start":f[a]-=m*(n&&d?-1:1);break;case"end":f[a]+=m*(n&&d?-1:1);break}return f}const ak=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:a}=n,o=i.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(t));let d=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:c,y:h}=ug(d,r,l),m=r,f={},g=0;for(let y=0;y<o.length;y++){const{name:x,fn:E}=o[y],{x:v,y:w,data:T,reset:S}=await E({x:c,y:h,initialPlacement:r,placement:m,strategy:s,middlewareData:f,rects:d,platform:a,elements:{reference:e,floating:t}});c=v??c,h=w??h,f={...f,[x]:{...f[x],...T}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(m=S.placement),S.rects&&(d=S.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:c,y:h}=ug(d,m,l)),y=-1)}return{x:c,y:h,placement:m,strategy:s,middlewareData:f}};async function So(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:i,rects:a,elements:o,strategy:l}=e,{boundary:d="clippingAncestors",rootBoundary:c="viewport",elementContext:h="floating",altBoundary:m=!1,padding:f=0}=$r(t,e),g=fv(f),x=o[m?h==="floating"?"reference":"floating":h],E=cu(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:d,rootBoundary:c,strategy:l})),v=h==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),T=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},S=cu(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:v,offsetParent:w,strategy:l}):v);return{top:(E.top-S.top+g.top)/T.y,bottom:(S.bottom-E.bottom+g.bottom)/T.y,left:(E.left-S.left+g.left)/T.x,right:(S.right-E.right+g.right)/T.x}}const ok=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:i,platform:a,elements:o,middlewareData:l}=t,{element:d,padding:c=0}=$r(e,t)||{};if(d==null)return{};const h=fv(c),m={x:n,y:r},f=Rf(s),g=If(f),y=await a.getDimensions(d),x=f==="y",E=x?"top":"left",v=x?"bottom":"right",w=x?"clientHeight":"clientWidth",T=i.reference[g]+i.reference[f]-m[f]-i.floating[g],S=m[f]-i.reference[f],C=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d));let D=C?C[w]:0;(!D||!await(a.isElement==null?void 0:a.isElement(C)))&&(D=o.floating[w]||i.floating[g]);const j=T/2-S/2,F=D/2-y[g]/2-1,V=vs(h[E],F),z=vs(h[v],F),P=V,W=D-y[g]-z,Q=D/2-y[g]/2+j,te=eh(P,Q,W),L=!l.arrow&&ya(s)!=null&&Q!==te&&i.reference[g]/2-(Q<P?V:z)-y[g]/2<0,U=L?Q<P?Q-P:Q-W:0;return{[f]:m[f]+U,data:{[f]:te,centerOffset:Q-te-U,...L&&{alignmentOffset:U}},reset:L}}}),lk=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:i,rects:a,initialPlacement:o,platform:l,elements:d}=t,{mainAxis:c=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:y=!0,...x}=$r(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const E=Vr(s),v=br(o),w=Vr(o)===o,T=await(l.isRTL==null?void 0:l.isRTL(d.floating)),S=m||(w||!y?[uu(o)]:nk(o)),C=g!=="none";!m&&C&&S.push(...sk(o,y,g,T));const D=[o,...S],j=await So(t,x),F=[];let V=((r=i.flip)==null?void 0:r.overflows)||[];if(c&&F.push(j[E]),h){const Q=tk(s,a,T);F.push(j[Q[0]],j[Q[1]])}if(V=[...V,{placement:s,overflows:F}],!F.every(Q=>Q<=0)){var z,P;const Q=(((z=i.flip)==null?void 0:z.index)||0)+1,te=D[Q];if(te&&(!(h==="alignment"?v!==br(te):!1)||V.every(Y=>Y.overflows[0]>0&&br(Y.placement)===v)))return{data:{index:Q,overflows:V},reset:{placement:te}};let L=(P=V.filter(U=>U.overflows[0]<=0).sort((U,Y)=>U.overflows[1]-Y.overflows[1])[0])==null?void 0:P.placement;if(!L)switch(f){case"bestFit":{var W;const U=(W=V.filter(Y=>{if(C){const O=br(Y.placement);return O===v||O==="y"}return!0}).map(Y=>[Y.placement,Y.overflows.filter(O=>O>0).reduce((O,_)=>O+_,0)]).sort((Y,O)=>Y[1]-O[1])[0])==null?void 0:W[0];U&&(L=U);break}case"initialPlacement":L=o;break}if(s!==L)return{reset:{placement:L}}}return{}}}};function cg(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function dg(e){return J2.some(t=>e[t]>=0)}const uk=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=$r(e,t);switch(r){case"referenceHidden":{const i=await So(t,{...s,elementContext:"reference"}),a=cg(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:dg(a)}}}case"escaped":{const i=await So(t,{...s,altBoundary:!0}),a=cg(i,n.floating);return{data:{escapedOffsets:a,escaped:dg(a)}}}default:return{}}}}};async function ck(e,t){const{placement:n,platform:r,elements:s}=e,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=Vr(n),o=ya(n),l=br(n)==="y",d=["left","top"].includes(a)?-1:1,c=i&&l?-1:1,h=$r(t,e);let{mainAxis:m,crossAxis:f,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return o&&typeof g=="number"&&(f=o==="end"?g*-1:g),l?{x:f*c,y:m*d}:{x:m*d,y:f*c}}const dk=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:i,placement:a,middlewareData:o}=t,l=await ck(t,e);return a===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:a}}}}},hk=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:o={fn:x=>{let{x:E,y:v}=x;return{x:E,y:v}}},...l}=$r(e,t),d={x:n,y:r},c=await So(t,l),h=br(Vr(s)),m=kf(h);let f=d[m],g=d[h];if(i){const x=m==="y"?"top":"left",E=m==="y"?"bottom":"right",v=f+c[x],w=f-c[E];f=eh(v,f,w)}if(a){const x=h==="y"?"top":"left",E=h==="y"?"bottom":"right",v=g+c[x],w=g-c[E];g=eh(v,g,w)}const y=o.fn({...t,[m]:f,[h]:g});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[m]:i,[h]:a}}}}}},fk=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:i,middlewareData:a}=t,{offset:o=0,mainAxis:l=!0,crossAxis:d=!0}=$r(e,t),c={x:n,y:r},h=br(s),m=kf(h);let f=c[m],g=c[h];const y=$r(o,t),x=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const w=m==="y"?"height":"width",T=i.reference[m]-i.floating[w]+x.mainAxis,S=i.reference[m]+i.reference[w]-x.mainAxis;f<T?f=T:f>S&&(f=S)}if(d){var E,v;const w=m==="y"?"width":"height",T=["top","left"].includes(Vr(s)),S=i.reference[h]-i.floating[w]+(T&&((E=a.offset)==null?void 0:E[h])||0)+(T?0:x.crossAxis),C=i.reference[h]+i.reference[w]+(T?0:((v=a.offset)==null?void 0:v[h])||0)-(T?x.crossAxis:0);g<S?g=S:g>C&&(g=C)}return{[m]:f,[h]:g}}}},mk=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:i,platform:a,elements:o}=t,{apply:l=()=>{},...d}=$r(e,t),c=await So(t,d),h=Vr(s),m=ya(s),f=br(s)==="y",{width:g,height:y}=i.floating;let x,E;h==="top"||h==="bottom"?(x=h,E=m===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(E=h,x=m==="end"?"top":"bottom");const v=y-c.top-c.bottom,w=g-c.left-c.right,T=vs(y-c[x],v),S=vs(g-c[E],w),C=!t.middlewareData.shift;let D=T,j=S;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(j=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(D=v),C&&!m){const V=gn(c.left,0),z=gn(c.right,0),P=gn(c.top,0),W=gn(c.bottom,0);f?j=g-2*(V!==0||z!==0?V+z:gn(c.left,c.right)):D=y-2*(P!==0||W!==0?P+W:gn(c.top,c.bottom))}await l({...t,availableWidth:j,availableHeight:D});const F=await a.getDimensions(o.floating);return g!==F.width||y!==F.height?{reset:{rects:!0}}:{}}}};function Wu(){return typeof window<"u"}function ba(e){return mv(e)?(e.nodeName||"").toLowerCase():"#document"}function bn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ir(e){var t;return(t=(mv(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function mv(e){return Wu()?e instanceof Node||e instanceof bn(e).Node:!1}function tr(e){return Wu()?e instanceof Element||e instanceof bn(e).Element:!1}function Ar(e){return Wu()?e instanceof HTMLElement||e instanceof bn(e).HTMLElement:!1}function hg(e){return!Wu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof bn(e).ShadowRoot}function Qo(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=nr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function pk(e){return["table","td","th"].includes(ba(e))}function Yu(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Pf(e){const t=Of(),n=tr(e)?nr(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function gk(e){let t=Es(e);for(;Ar(t)&&!na(t);){if(Pf(t))return t;if(Yu(t))return null;t=Es(t)}return null}function Of(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function na(e){return["html","body","#document"].includes(ba(e))}function nr(e){return bn(e).getComputedStyle(e)}function Ku(e){return tr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Es(e){if(ba(e)==="html")return e;const t=e.assignedSlot||e.parentNode||hg(e)&&e.host||Ir(e);return hg(t)?t.host:t}function pv(e){const t=Es(e);return na(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ar(t)&&Qo(t)?t:pv(t)}function Co(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=pv(e),i=s===((r=e.ownerDocument)==null?void 0:r.body),a=bn(s);if(i){const o=nh(a);return t.concat(a,a.visualViewport||[],Qo(s)?s:[],o&&n?Co(o):[])}return t.concat(s,Co(s,[],n))}function nh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function gv(e){const t=nr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Ar(e),i=s?e.offsetWidth:n,a=s?e.offsetHeight:r,o=lu(n)!==i||lu(r)!==a;return o&&(n=i,r=a),{width:n,height:r,$:o}}function Df(e){return tr(e)?e:e.contextElement}function ji(e){const t=Df(e);if(!Ar(t))return wr(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:i}=gv(t);let a=(i?lu(n.width):n.width)/r,o=(i?lu(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const yk=wr(0);function yv(e){const t=bn(e);return!Of()||!t.visualViewport?yk:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function bk(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==bn(e)?!1:t}function ti(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=Df(e);let a=wr(1);t&&(r?tr(r)&&(a=ji(r)):a=ji(e));const o=bk(i,n,r)?yv(i):wr(0);let l=(s.left+o.x)/a.x,d=(s.top+o.y)/a.y,c=s.width/a.x,h=s.height/a.y;if(i){const m=bn(i),f=r&&tr(r)?bn(r):r;let g=m,y=nh(g);for(;y&&r&&f!==g;){const x=ji(y),E=y.getBoundingClientRect(),v=nr(y),w=E.left+(y.clientLeft+parseFloat(v.paddingLeft))*x.x,T=E.top+(y.clientTop+parseFloat(v.paddingTop))*x.y;l*=x.x,d*=x.y,c*=x.x,h*=x.y,l+=w,d+=T,g=bn(y),y=nh(g)}}return cu({width:c,height:h,x:l,y:d})}function Mf(e,t){const n=Ku(e).scrollLeft;return t?t.left+n:ti(Ir(e)).left+n}function bv(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:Mf(e,r)),i=r.top+t.scrollTop;return{x:s,y:i}}function xk(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const i=s==="fixed",a=Ir(r),o=t?Yu(t.floating):!1;if(r===a||o&&i)return n;let l={scrollLeft:0,scrollTop:0},d=wr(1);const c=wr(0),h=Ar(r);if((h||!h&&!i)&&((ba(r)!=="body"||Qo(a))&&(l=Ku(r)),Ar(r))){const f=ti(r);d=ji(r),c.x=f.x+r.clientLeft,c.y=f.y+r.clientTop}const m=a&&!h&&!i?bv(a,l,!0):wr(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-l.scrollLeft*d.x+c.x+m.x,y:n.y*d.y-l.scrollTop*d.y+c.y+m.y}}function vk(e){return Array.from(e.getClientRects())}function Ek(e){const t=Ir(e),n=Ku(e),r=e.ownerDocument.body,s=gn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=gn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Mf(e);const o=-n.scrollTop;return nr(r).direction==="rtl"&&(a+=gn(t.clientWidth,r.clientWidth)-s),{width:s,height:i,x:a,y:o}}function wk(e,t){const n=bn(e),r=Ir(e),s=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,o=0,l=0;if(s){i=s.width,a=s.height;const d=Of();(!d||d&&t==="fixed")&&(o=s.offsetLeft,l=s.offsetTop)}return{width:i,height:a,x:o,y:l}}function Tk(e,t){const n=ti(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,i=Ar(e)?ji(e):wr(1),a=e.clientWidth*i.x,o=e.clientHeight*i.y,l=s*i.x,d=r*i.y;return{width:a,height:o,x:l,y:d}}function fg(e,t,n){let r;if(t==="viewport")r=wk(e,n);else if(t==="document")r=Ek(Ir(e));else if(tr(t))r=Tk(t,n);else{const s=yv(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return cu(r)}function xv(e,t){const n=Es(e);return n===t||!tr(n)||na(n)?!1:nr(n).position==="fixed"||xv(n,t)}function _k(e,t){const n=t.get(e);if(n)return n;let r=Co(e,[],!1).filter(o=>tr(o)&&ba(o)!=="body"),s=null;const i=nr(e).position==="fixed";let a=i?Es(e):e;for(;tr(a)&&!na(a);){const o=nr(a),l=Pf(a);!l&&o.position==="fixed"&&(s=null),(i?!l&&!s:!l&&o.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Qo(a)&&!l&&xv(e,a))?r=r.filter(c=>c!==a):s=o,a=Es(a)}return t.set(e,r),r}function Sk(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const a=[...n==="clippingAncestors"?Yu(t)?[]:_k(t,this._c):[].concat(n),r],o=a[0],l=a.reduce((d,c)=>{const h=fg(t,c,s);return d.top=gn(h.top,d.top),d.right=vs(h.right,d.right),d.bottom=vs(h.bottom,d.bottom),d.left=gn(h.left,d.left),d},fg(t,o,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Ck(e){const{width:t,height:n}=gv(e);return{width:t,height:n}}function Ak(e,t,n){const r=Ar(t),s=Ir(t),i=n==="fixed",a=ti(e,!0,i,t);let o={scrollLeft:0,scrollTop:0};const l=wr(0);function d(){l.x=Mf(s)}if(r||!r&&!i)if((ba(t)!=="body"||Qo(s))&&(o=Ku(t)),r){const f=ti(t,!0,i,t);l.x=f.x+t.clientLeft,l.y=f.y+t.clientTop}else s&&d();i&&!r&&s&&d();const c=s&&!r&&!i?bv(s,o):wr(0),h=a.left+o.scrollLeft-l.x-c.x,m=a.top+o.scrollTop-l.y-c.y;return{x:h,y:m,width:a.width,height:a.height}}function Kc(e){return nr(e).position==="static"}function mg(e,t){if(!Ar(e)||nr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Ir(e)===n&&(n=n.ownerDocument.body),n}function vv(e,t){const n=bn(e);if(Yu(e))return n;if(!Ar(e)){let s=Es(e);for(;s&&!na(s);){if(tr(s)&&!Kc(s))return s;s=Es(s)}return n}let r=mg(e,t);for(;r&&pk(r)&&Kc(r);)r=mg(r,t);return r&&na(r)&&Kc(r)&&!Pf(r)?n:r||gk(e)||n}const Nk=async function(e){const t=this.getOffsetParent||vv,n=this.getDimensions,r=await n(e.floating);return{reference:Ak(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function kk(e){return nr(e).direction==="rtl"}const Ik={convertOffsetParentRelativeRectToViewportRelativeRect:xk,getDocumentElement:Ir,getClippingRect:Sk,getOffsetParent:vv,getElementRects:Nk,getClientRects:vk,getDimensions:Ck,getScale:ji,isElement:tr,isRTL:kk};function Ev(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Rk(e,t){let n=null,r;const s=Ir(e);function i(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),i();const d=e.getBoundingClientRect(),{left:c,top:h,width:m,height:f}=d;if(o||t(),!m||!f)return;const g=El(h),y=El(s.clientWidth-(c+m)),x=El(s.clientHeight-(h+f)),E=El(c),w={rootMargin:-g+"px "+-y+"px "+-x+"px "+-E+"px",threshold:gn(0,vs(1,l))||1};let T=!0;function S(C){const D=C[0].intersectionRatio;if(D!==l){if(!T)return a();D?a(!1,D):r=setTimeout(()=>{a(!1,1e-7)},1e3)}D===1&&!Ev(d,e.getBoundingClientRect())&&a(),T=!1}try{n=new IntersectionObserver(S,{...w,root:s.ownerDocument})}catch{n=new IntersectionObserver(S,w)}n.observe(e)}return a(!0),i}function Pk(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,d=Df(e),c=s||i?[...d?Co(d):[],...Co(t)]:[];c.forEach(E=>{s&&E.addEventListener("scroll",n,{passive:!0}),i&&E.addEventListener("resize",n)});const h=d&&o?Rk(d,n):null;let m=-1,f=null;a&&(f=new ResizeObserver(E=>{let[v]=E;v&&v.target===d&&f&&(f.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var w;(w=f)==null||w.observe(t)})),n()}),d&&!l&&f.observe(d),f.observe(t));let g,y=l?ti(e):null;l&&x();function x(){const E=ti(e);y&&!Ev(y,E)&&n(),y=E,g=requestAnimationFrame(x)}return n(),()=>{var E;c.forEach(v=>{s&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),h==null||h(),(E=f)==null||E.disconnect(),f=null,l&&cancelAnimationFrame(g)}}const Ok=dk,Dk=hk,Mk=lk,Lk=mk,jk=uk,pg=ok,Fk=fk,Bk=(e,t,n)=>{const r=new Map,s={platform:Ik,...n},i={...s.platform,_c:r};return ak(e,t,{...s,platform:i})};var Uk=typeof document<"u",Hk=function(){},ql=Uk?b.useLayoutEffect:Hk;function du(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!du(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&e.$$typeof)&&!du(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function wv(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function gg(e,t){const n=wv(e);return Math.round(t*n)/n}function Xc(e){const t=b.useRef(e);return ql(()=>{t.current=e}),t}function $k(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:a}={},transform:o=!0,whileElementsMounted:l,open:d}=e,[c,h]=b.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,f]=b.useState(r);du(m,r)||f(r);const[g,y]=b.useState(null),[x,E]=b.useState(null),v=b.useCallback(Y=>{Y!==C.current&&(C.current=Y,y(Y))},[]),w=b.useCallback(Y=>{Y!==D.current&&(D.current=Y,E(Y))},[]),T=i||g,S=a||x,C=b.useRef(null),D=b.useRef(null),j=b.useRef(c),F=l!=null,V=Xc(l),z=Xc(s),P=Xc(d),W=b.useCallback(()=>{if(!C.current||!D.current)return;const Y={placement:t,strategy:n,middleware:m};z.current&&(Y.platform=z.current),Bk(C.current,D.current,Y).then(O=>{const _={...O,isPositioned:P.current!==!1};Q.current&&!du(j.current,_)&&(j.current=_,zu.flushSync(()=>{h(_)}))})},[m,t,n,z,P]);ql(()=>{d===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,h(Y=>({...Y,isPositioned:!1})))},[d]);const Q=b.useRef(!1);ql(()=>(Q.current=!0,()=>{Q.current=!1}),[]),ql(()=>{if(T&&(C.current=T),S&&(D.current=S),T&&S){if(V.current)return V.current(T,S,W);W()}},[T,S,W,V,F]);const te=b.useMemo(()=>({reference:C,floating:D,setReference:v,setFloating:w}),[v,w]),L=b.useMemo(()=>({reference:T,floating:S}),[T,S]),U=b.useMemo(()=>{const Y={position:n,left:0,top:0};if(!L.floating)return Y;const O=gg(L.floating,c.x),_=gg(L.floating,c.y);return o?{...Y,transform:"translate("+O+"px, "+_+"px)",...wv(L.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:O,top:_}},[n,o,L.floating,c.x,c.y]);return b.useMemo(()=>({...c,update:W,refs:te,elements:L,floatingStyles:U}),[c,W,te,L,U])}const Vk=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?pg({element:r.current,padding:s}).fn(n):{}:r?pg({element:r,padding:s}).fn(n):{}}}},zk=(e,t)=>({...Ok(e),options:[e,t]}),qk=(e,t)=>({...Dk(e),options:[e,t]}),Gk=(e,t)=>({...Fk(e),options:[e,t]}),Wk=(e,t)=>({...Mk(e),options:[e,t]}),Yk=(e,t)=>({...Lk(e),options:[e,t]}),Kk=(e,t)=>({...jk(e),options:[e,t]}),Xk=(e,t)=>({...Vk(e),options:[e,t]});var Qk="Arrow",Tv=b.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...i}=e;return u.jsx(Fe.svg,{...i,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});Tv.displayName=Qk;var Jk=Tv;function Lf(e){const[t,n]=b.useState(void 0);return On(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,o;if("borderBoxSize"in i){const l=i.borderBoxSize,d=Array.isArray(l)?l[0]:l;a=d.inlineSize,o=d.blockSize}else a=e.offsetWidth,o=e.offsetHeight;n({width:a,height:o})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var jf="Popper",[_v,xa]=Dn(jf),[Zk,Sv]=_v(jf),Cv=e=>{const{__scopePopper:t,children:n}=e,[r,s]=b.useState(null);return u.jsx(Zk,{scope:t,anchor:r,onAnchorChange:s,children:n})};Cv.displayName=jf;var Av="PopperAnchor",Nv=b.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,i=Sv(Av,n),a=b.useRef(null),o=Ke(t,a);return b.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:u.jsx(Fe.div,{...s,ref:o})});Nv.displayName=Av;var Ff="PopperContent",[eI,tI]=_v(Ff),kv=b.forwardRef((e,t)=>{var G,ce,de,be,we,Te;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:d=[],collisionPadding:c=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:f="optimized",onPlaced:g,...y}=e,x=Sv(Ff,n),[E,v]=b.useState(null),w=Ke(t,Xe=>v(Xe)),[T,S]=b.useState(null),C=Lf(T),D=(C==null?void 0:C.width)??0,j=(C==null?void 0:C.height)??0,F=r+(i!=="center"?"-"+i:""),V=typeof c=="number"?c:{top:0,right:0,bottom:0,left:0,...c},z=Array.isArray(d)?d:[d],P=z.length>0,W={padding:V,boundary:z.filter(rI),altBoundary:P},{refs:Q,floatingStyles:te,placement:L,isPositioned:U,middlewareData:Y}=$k({strategy:"fixed",placement:F,whileElementsMounted:(...Xe)=>Pk(...Xe,{animationFrame:f==="always"}),elements:{reference:x.anchor},middleware:[zk({mainAxis:s+j,alignmentAxis:a}),l&&qk({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Gk():void 0,...W}),l&&Wk({...W}),Yk({...W,apply:({elements:Xe,rects:Tt,availableWidth:St,availableHeight:dn})=>{const{width:wn,height:Yr}=Tt.reference,Tn=Xe.floating.style;Tn.setProperty("--radix-popper-available-width",`${St}px`),Tn.setProperty("--radix-popper-available-height",`${dn}px`),Tn.setProperty("--radix-popper-anchor-width",`${wn}px`),Tn.setProperty("--radix-popper-anchor-height",`${Yr}px`)}}),T&&Xk({element:T,padding:o}),sI({arrowWidth:D,arrowHeight:j}),m&&Kk({strategy:"referenceHidden",...W})]}),[O,_]=Pv(L),ee=ta(g);On(()=>{U&&(ee==null||ee())},[U,ee]);const ie=(G=Y.arrow)==null?void 0:G.x,k=(ce=Y.arrow)==null?void 0:ce.y,ge=((de=Y.arrow)==null?void 0:de.centerOffset)!==0,[Re,Ae]=b.useState();return On(()=>{E&&Ae(window.getComputedStyle(E).zIndex)},[E]),u.jsx("div",{ref:Q.setFloating,"data-radix-popper-content-wrapper":"",style:{...te,transform:U?te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Re,"--radix-popper-transform-origin":[(be=Y.transformOrigin)==null?void 0:be.x,(we=Y.transformOrigin)==null?void 0:we.y].join(" "),...((Te=Y.hide)==null?void 0:Te.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:u.jsx(eI,{scope:n,placedSide:O,onArrowChange:S,arrowX:ie,arrowY:k,shouldHideArrow:ge,children:u.jsx(Fe.div,{"data-side":O,"data-align":_,...y,ref:w,style:{...y.style,animation:U?void 0:"none"}})})})});kv.displayName=Ff;var Iv="PopperArrow",nI={top:"bottom",right:"left",bottom:"top",left:"right"},Rv=b.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,i=tI(Iv,r),a=nI[i.placedSide];return u.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:u.jsx(Jk,{...s,ref:n,style:{...s.style,display:"block"}})})});Rv.displayName=Iv;function rI(e){return e!==null}var sI=e=>({name:"transformOrigin",options:e,fn(t){var x,E,v;const{placement:n,rects:r,middlewareData:s}=t,a=((x=s.arrow)==null?void 0:x.centerOffset)!==0,o=a?0:e.arrowWidth,l=a?0:e.arrowHeight,[d,c]=Pv(n),h={start:"0%",center:"50%",end:"100%"}[c],m=(((E=s.arrow)==null?void 0:E.x)??0)+o/2,f=(((v=s.arrow)==null?void 0:v.y)??0)+l/2;let g="",y="";return d==="bottom"?(g=a?h:`${m}px`,y=`${-l}px`):d==="top"?(g=a?h:`${m}px`,y=`${r.floating.height+l}px`):d==="right"?(g=`${-l}px`,y=a?h:`${f}px`):d==="left"&&(g=`${r.floating.width+l}px`,y=a?h:`${f}px`),{data:{x:g,y}}}});function Pv(e){const[t,n="center"]=e.split("-");return[t,n]}var Ov=Cv,Bf=Nv,Uf=kv,Hf=Rv,[Xu,nY]=Dn("Tooltip",[xa]),$f=xa(),Dv="TooltipProvider",iI=700,yg="tooltip.open",[aI,Mv]=Xu(Dv),Lv=e=>{const{__scopeTooltip:t,delayDuration:n=iI,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=e,a=b.useRef(!0),o=b.useRef(!1),l=b.useRef(0);return b.useEffect(()=>{const d=l.current;return()=>window.clearTimeout(d)},[]),u.jsx(aI,{scope:t,isOpenDelayedRef:a,delayDuration:n,onOpen:b.useCallback(()=>{window.clearTimeout(l.current),a.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:o,onPointerInTransitChange:b.useCallback(d=>{o.current=d},[]),disableHoverableContent:s,children:i})};Lv.displayName=Dv;var jv="Tooltip",[rY,Qu]=Xu(jv),rh="TooltipTrigger",oI=b.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Qu(rh,n),i=Mv(rh,n),a=$f(n),o=b.useRef(null),l=Ke(t,o,s.onTriggerChange),d=b.useRef(!1),c=b.useRef(!1),h=b.useCallback(()=>d.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),u.jsx(Bf,{asChild:!0,...a,children:u.jsx(Fe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:Ee(e.onPointerMove,m=>{m.pointerType!=="touch"&&!c.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),c.current=!0)}),onPointerLeave:Ee(e.onPointerLeave,()=>{s.onTriggerLeave(),c.current=!1}),onPointerDown:Ee(e.onPointerDown,()=>{s.open&&s.onClose(),d.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Ee(e.onFocus,()=>{d.current||s.onOpen()}),onBlur:Ee(e.onBlur,s.onClose),onClick:Ee(e.onClick,s.onClose)})})});oI.displayName=rh;var lI="TooltipPortal",[sY,uI]=Xu(lI,{forceMount:void 0}),ra="TooltipContent",Fv=b.forwardRef((e,t)=>{const n=uI(ra,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=e,a=Qu(ra,e.__scopeTooltip);return u.jsx(kr,{present:r||a.open,children:a.disableHoverableContent?u.jsx(Bv,{side:s,...i,ref:t}):u.jsx(cI,{side:s,...i,ref:t})})}),cI=b.forwardRef((e,t)=>{const n=Qu(ra,e.__scopeTooltip),r=Mv(ra,e.__scopeTooltip),s=b.useRef(null),i=Ke(t,s),[a,o]=b.useState(null),{trigger:l,onClose:d}=n,c=s.current,{onPointerInTransitChange:h}=r,m=b.useCallback(()=>{o(null),h(!1)},[h]),f=b.useCallback((g,y)=>{const x=g.currentTarget,E={x:g.clientX,y:g.clientY},v=pI(E,x.getBoundingClientRect()),w=gI(E,v),T=yI(y.getBoundingClientRect()),S=xI([...w,...T]);o(S),h(!0)},[h]);return b.useEffect(()=>()=>m(),[m]),b.useEffect(()=>{if(l&&c){const g=x=>f(x,c),y=x=>f(x,l);return l.addEventListener("pointerleave",g),c.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",g),c.removeEventListener("pointerleave",y)}}},[l,c,f,m]),b.useEffect(()=>{if(a){const g=y=>{const x=y.target,E={x:y.clientX,y:y.clientY},v=(l==null?void 0:l.contains(x))||(c==null?void 0:c.contains(x)),w=!bI(E,a);v?m():w&&(m(),d())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[l,c,a,d,m]),u.jsx(Bv,{...e,ref:i})}),[dI,hI]=Xu(jv,{isInside:!1}),fI=$x("TooltipContent"),Bv=b.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:a,...o}=e,l=Qu(ra,n),d=$f(n),{onClose:c}=l;return b.useEffect(()=>(document.addEventListener(yg,c),()=>document.removeEventListener(yg,c)),[c]),b.useEffect(()=>{if(l.trigger){const h=m=>{const f=m.target;f!=null&&f.contains(l.trigger)&&c()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,c]),u.jsx(Hu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:h=>h.preventDefault(),onDismiss:c,children:u.jsxs(Uf,{"data-state":l.stateAttribute,...d,...o,ref:t,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(fI,{children:r}),u.jsx(dI,{scope:n,isInside:!0,children:u.jsx(ZA,{id:l.contentId,role:"tooltip",children:s||r})})]})})});Fv.displayName=ra;var Uv="TooltipArrow",mI=b.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=$f(n);return hI(Uv,n).isInside?null:u.jsx(Hf,{...s,...r,ref:t})});mI.displayName=Uv;function pI(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function gI(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function yI(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function bI(e,t){const{x:n,y:r}=e;let s=!1;for(let i=0,a=t.length-1;i<t.length;a=i++){const o=t[i],l=t[a],d=o.x,c=o.y,h=l.x,m=l.y;c>r!=m>r&&n<(h-d)*(r-c)/(m-c)+d&&(s=!s)}return s}function xI(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),vI(t)}function vI(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const i=t[t.length-1],a=t[t.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const i=n[n.length-1],a=n[n.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var EI=Lv,Hv=Fv;const wI=EI,TI=b.forwardRef(({className:e,sideOffset:t=4,...n},r)=>u.jsx(Hv,{ref:r,sideOffset:t,className:I("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));TI.displayName=Hv.displayName;var Ju=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Zu=typeof window>"u"||"Deno"in globalThis;function Vn(){}function _I(e,t){return typeof e=="function"?e(t):e}function SI(e){return typeof e=="number"&&e>=0&&e!==1/0}function CI(e,t){return Math.max(e+(t||0)-Date.now(),0)}function sh(e,t){return typeof e=="function"?e(t):e}function AI(e,t){return typeof e=="function"?e(t):e}function bg(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:o}=e;if(a){if(r){if(t.queryHash!==Vf(a,t.options))return!1}else if(!No(t.queryKey,a))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||s&&s!==t.state.fetchStatus||i&&!i(t))}function xg(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Ao(t.options.mutationKey)!==Ao(i))return!1}else if(!No(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function Vf(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ao)(e)}function Ao(e){return JSON.stringify(e,(t,n)=>ih(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function No(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>No(e[n],t[n])):!1}function $v(e,t){if(e===t)return e;const n=vg(e)&&vg(t);if(n||ih(e)&&ih(t)){const r=n?e:Object.keys(e),s=r.length,i=n?t:Object.keys(t),a=i.length,o=n?[]:{},l=new Set(r);let d=0;for(let c=0;c<a;c++){const h=n?c:i[c];(!n&&l.has(h)||n)&&e[h]===void 0&&t[h]===void 0?(o[h]=void 0,d++):(o[h]=$v(e[h],t[h]),o[h]===e[h]&&e[h]!==void 0&&d++)}return s===a&&d===s?e:o}return t}function vg(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function ih(e){if(!Eg(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Eg(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Eg(e){return Object.prototype.toString.call(e)==="[object Object]"}function NI(e){return new Promise(t=>{setTimeout(t,e)})}function kI(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?$v(e,t):t}function II(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function RI(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var zf=Symbol();function Vv(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===zf?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var qs,fs,Gi,Nx,PI=(Nx=class extends Ju{constructor(){super();We(this,qs);We(this,fs);We(this,Gi);Me(this,Gi,t=>{if(!Zu&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Z(this,fs)||this.setEventListener(Z(this,Gi))}onUnsubscribe(){var t;this.hasListeners()||((t=Z(this,fs))==null||t.call(this),Me(this,fs,void 0))}setEventListener(t){var n;Me(this,Gi,t),(n=Z(this,fs))==null||n.call(this),Me(this,fs,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){Z(this,qs)!==t&&(Me(this,qs,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof Z(this,qs)=="boolean"?Z(this,qs):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},qs=new WeakMap,fs=new WeakMap,Gi=new WeakMap,Nx),zv=new PI,Wi,ms,Yi,kx,OI=(kx=class extends Ju{constructor(){super();We(this,Wi,!0);We(this,ms);We(this,Yi);Me(this,Yi,t=>{if(!Zu&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Z(this,ms)||this.setEventListener(Z(this,Yi))}onUnsubscribe(){var t;this.hasListeners()||((t=Z(this,ms))==null||t.call(this),Me(this,ms,void 0))}setEventListener(t){var n;Me(this,Yi,t),(n=Z(this,ms))==null||n.call(this),Me(this,ms,t(this.setOnline.bind(this)))}setOnline(t){Z(this,Wi)!==t&&(Me(this,Wi,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return Z(this,Wi)}},Wi=new WeakMap,ms=new WeakMap,Yi=new WeakMap,kx),hu=new OI;function DI(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function MI(e){return Math.min(1e3*2**e,3e4)}function qv(e){return(e??"online")==="online"?hu.isOnline():!0}var Gv=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Qc(e){return e instanceof Gv}function Wv(e){let t=!1,n=0,r=!1,s;const i=DI(),a=y=>{var x;r||(m(new Gv(y)),(x=e.abort)==null||x.call(e))},o=()=>{t=!0},l=()=>{t=!1},d=()=>zv.isFocused()&&(e.networkMode==="always"||hu.isOnline())&&e.canRun(),c=()=>qv(e.networkMode)&&e.canRun(),h=y=>{var x;r||(r=!0,(x=e.onSuccess)==null||x.call(e,y),s==null||s(),i.resolve(y))},m=y=>{var x;r||(r=!0,(x=e.onError)==null||x.call(e,y),s==null||s(),i.reject(y))},f=()=>new Promise(y=>{var x;s=E=>{(r||d())&&y(E)},(x=e.onPause)==null||x.call(e)}).then(()=>{var y;s=void 0,r||(y=e.onContinue)==null||y.call(e)}),g=()=>{if(r)return;let y;const x=n===0?e.initialPromise:void 0;try{y=x??e.fn()}catch(E){y=Promise.reject(E)}Promise.resolve(y).then(h).catch(E=>{var C;if(r)return;const v=e.retry??(Zu?0:3),w=e.retryDelay??MI,T=typeof w=="function"?w(n,E):w,S=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,E);if(t||!S){m(E);return}n++,(C=e.onFail)==null||C.call(e,n,E),NI(T).then(()=>d()?void 0:f()).then(()=>{t?m(E):g()})})};return{promise:i,cancel:a,continue:()=>(s==null||s(),i),cancelRetry:o,continueRetry:l,canStart:c,start:()=>(c()?g():f().then(g),i)}}var LI=e=>setTimeout(e,0);function jI(){let e=[],t=0,n=o=>{o()},r=o=>{o()},s=LI;const i=o=>{t?e.push(o):s(()=>{n(o)})},a=()=>{const o=e;e=[],o.length&&s(()=>{r(()=>{o.forEach(l=>{n(l)})})})};return{batch:o=>{let l;t++;try{l=o()}finally{t--,t||a()}return l},batchCalls:o=>(...l)=>{i(()=>{o(...l)})},schedule:i,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{s=o}}}var Kt=jI(),Gs,Ix,Yv=(Ix=class{constructor(){We(this,Gs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),SI(this.gcTime)&&Me(this,Gs,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Zu?1/0:5*60*1e3))}clearGcTimeout(){Z(this,Gs)&&(clearTimeout(Z(this,Gs)),Me(this,Gs,void 0))}},Gs=new WeakMap,Ix),Ki,Xi,Nn,Ws,Ft,Go,Ys,zn,Mr,Rx,FI=(Rx=class extends Yv{constructor(t){super();We(this,zn);We(this,Ki);We(this,Xi);We(this,Nn);We(this,Ws);We(this,Ft);We(this,Go);We(this,Ys);Me(this,Ys,!1),Me(this,Go,t.defaultOptions),this.setOptions(t.options),this.observers=[],Me(this,Ws,t.client),Me(this,Nn,Z(this,Ws).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Me(this,Ki,UI(this.options)),this.state=t.state??Z(this,Ki),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Z(this,Ft))==null?void 0:t.promise}setOptions(t){this.options={...Z(this,Go),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Z(this,Nn).remove(this)}setData(t,n){const r=kI(this.state.data,t,this.options);return jt(this,zn,Mr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){jt(this,zn,Mr).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=Z(this,Ft))==null?void 0:r.promise;return(s=Z(this,Ft))==null||s.cancel(t),n?n.then(Vn).catch(Vn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Z(this,Ki))}isActive(){return this.observers.some(t=>AI(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===zf||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>sh(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!CI(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=Z(this,Ft))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=Z(this,Ft))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Z(this,Nn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(Z(this,Ft)&&(Z(this,Ys)?Z(this,Ft).cancel({revert:!0}):Z(this,Ft).cancelRetry()),this.scheduleGc()),Z(this,Nn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||jt(this,zn,Mr).call(this,{type:"invalidate"})}fetch(t,n){var d,c,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Z(this,Ft))return Z(this,Ft).continueRetry(),Z(this,Ft).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(f=>f.options.queryFn);m&&this.setOptions(m.options)}const r=new AbortController,s=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(Me(this,Ys,!0),r.signal)})},i=()=>{const m=Vv(this.options,n),g=(()=>{const y={client:Z(this,Ws),queryKey:this.queryKey,meta:this.meta};return s(y),y})();return Me(this,Ys,!1),this.options.persister?this.options.persister(m,g,this):m(g)},o=(()=>{const m={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:Z(this,Ws),state:this.state,fetchFn:i};return s(m),m})();(d=this.options.behavior)==null||d.onFetch(o,this),Me(this,Xi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&jt(this,zn,Mr).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta});const l=m=>{var f,g,y,x;Qc(m)&&m.silent||jt(this,zn,Mr).call(this,{type:"error",error:m}),Qc(m)||((g=(f=Z(this,Nn).config).onError)==null||g.call(f,m,this),(x=(y=Z(this,Nn).config).onSettled)==null||x.call(y,this.state.data,m,this)),this.scheduleGc()};return Me(this,Ft,Wv({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:m=>{var f,g,y,x;if(m===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(E){l(E);return}(g=(f=Z(this,Nn).config).onSuccess)==null||g.call(f,m,this),(x=(y=Z(this,Nn).config).onSettled)==null||x.call(y,m,this.state.error,this),this.scheduleGc()},onError:l,onFail:(m,f)=>{jt(this,zn,Mr).call(this,{type:"failed",failureCount:m,error:f})},onPause:()=>{jt(this,zn,Mr).call(this,{type:"pause"})},onContinue:()=>{jt(this,zn,Mr).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),Z(this,Ft).start()}},Ki=new WeakMap,Xi=new WeakMap,Nn=new WeakMap,Ws=new WeakMap,Ft=new WeakMap,Go=new WeakMap,Ys=new WeakMap,zn=new WeakSet,Mr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...BI(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Qc(s)&&s.revert&&Z(this,Xi)?{...Z(this,Xi),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Kt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Z(this,Nn).notify({query:this,type:"updated",action:t})})},Rx);function BI(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:qv(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function UI(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var dr,Px,HI=(Px=class extends Ju{constructor(t={}){super();We(this,dr);this.config=t,Me(this,dr,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??Vf(s,n);let a=this.get(i);return a||(a=new FI({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){Z(this,dr).has(t.queryHash)||(Z(this,dr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=Z(this,dr).get(t.queryHash);n&&(t.destroy(),n===t&&Z(this,dr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Kt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Z(this,dr).get(t)}getAll(){return[...Z(this,dr).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>bg(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>bg(t,r)):n}notify(t){Kt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Kt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Kt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},dr=new WeakMap,Px),hr,Wt,Ks,fr,ns,Ox,$I=(Ox=class extends Yv{constructor(t){super();We(this,fr);We(this,hr);We(this,Wt);We(this,Ks);this.mutationId=t.mutationId,Me(this,Wt,t.mutationCache),Me(this,hr,[]),this.state=t.state||VI(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Z(this,hr).includes(t)||(Z(this,hr).push(t),this.clearGcTimeout(),Z(this,Wt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Me(this,hr,Z(this,hr).filter(n=>n!==t)),this.scheduleGc(),Z(this,Wt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Z(this,hr).length||(this.state.status==="pending"?this.scheduleGc():Z(this,Wt).remove(this))}continue(){var t;return((t=Z(this,Ks))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,a,o,l,d,c,h,m,f,g,y,x,E,v,w,T,S,C,D,j;const n=()=>{jt(this,fr,ns).call(this,{type:"continue"})};Me(this,Ks,Wv({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(F,V)=>{jt(this,fr,ns).call(this,{type:"failed",failureCount:F,error:V})},onPause:()=>{jt(this,fr,ns).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Z(this,Wt).canRun(this)}));const r=this.state.status==="pending",s=!Z(this,Ks).canStart();try{if(r)n();else{jt(this,fr,ns).call(this,{type:"pending",variables:t,isPaused:s}),await((a=(i=Z(this,Wt).config).onMutate)==null?void 0:a.call(i,t,this));const V=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));V!==this.state.context&&jt(this,fr,ns).call(this,{type:"pending",context:V,variables:t,isPaused:s})}const F=await Z(this,Ks).start();return await((c=(d=Z(this,Wt).config).onSuccess)==null?void 0:c.call(d,F,t,this.state.context,this)),await((m=(h=this.options).onSuccess)==null?void 0:m.call(h,F,t,this.state.context)),await((g=(f=Z(this,Wt).config).onSettled)==null?void 0:g.call(f,F,null,this.state.variables,this.state.context,this)),await((x=(y=this.options).onSettled)==null?void 0:x.call(y,F,null,t,this.state.context)),jt(this,fr,ns).call(this,{type:"success",data:F}),F}catch(F){try{throw await((v=(E=Z(this,Wt).config).onError)==null?void 0:v.call(E,F,t,this.state.context,this)),await((T=(w=this.options).onError)==null?void 0:T.call(w,F,t,this.state.context)),await((C=(S=Z(this,Wt).config).onSettled)==null?void 0:C.call(S,void 0,F,this.state.variables,this.state.context,this)),await((j=(D=this.options).onSettled)==null?void 0:j.call(D,void 0,F,t,this.state.context)),F}finally{jt(this,fr,ns).call(this,{type:"error",error:F})}}finally{Z(this,Wt).runNext(this)}}},hr=new WeakMap,Wt=new WeakMap,Ks=new WeakMap,fr=new WeakSet,ns=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Kt.batch(()=>{Z(this,hr).forEach(r=>{r.onMutationUpdate(t)}),Z(this,Wt).notify({mutation:this,type:"updated",action:t})})},Ox);function VI(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var jr,qn,Wo,Dx,zI=(Dx=class extends Ju{constructor(t={}){super();We(this,jr);We(this,qn);We(this,Wo);this.config=t,Me(this,jr,new Set),Me(this,qn,new Map),Me(this,Wo,0)}build(t,n,r){const s=new $I({mutationCache:this,mutationId:++xl(this,Wo)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){Z(this,jr).add(t);const n=wl(t);if(typeof n=="string"){const r=Z(this,qn).get(n);r?r.push(t):Z(this,qn).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Z(this,jr).delete(t)){const n=wl(t);if(typeof n=="string"){const r=Z(this,qn).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&Z(this,qn).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=wl(t);if(typeof n=="string"){const r=Z(this,qn).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=wl(t);if(typeof n=="string"){const s=(r=Z(this,qn).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Kt.batch(()=>{Z(this,jr).forEach(t=>{this.notify({type:"removed",mutation:t})}),Z(this,jr).clear(),Z(this,qn).clear()})}getAll(){return Array.from(Z(this,jr))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>xg(n,r))}findAll(t={}){return this.getAll().filter(n=>xg(t,n))}notify(t){Kt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Kt.batch(()=>Promise.all(t.map(n=>n.continue().catch(Vn))))}},jr=new WeakMap,qn=new WeakMap,Wo=new WeakMap,Dx);function wl(e){var t;return(t=e.options.scope)==null?void 0:t.id}function wg(e){return{onFetch:(t,n)=>{var c,h,m,f,g;const r=t.options,s=(m=(h=(c=t.fetchOptions)==null?void 0:c.meta)==null?void 0:h.fetchMore)==null?void 0:m.direction,i=((f=t.state.data)==null?void 0:f.pages)||[],a=((g=t.state.data)==null?void 0:g.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const d=async()=>{let y=!1;const x=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},E=Vv(t.options,t.fetchOptions),v=async(w,T,S)=>{if(y)return Promise.reject();if(T==null&&w.pages.length)return Promise.resolve(w);const D=(()=>{const z={client:t.client,queryKey:t.queryKey,pageParam:T,direction:S?"backward":"forward",meta:t.options.meta};return x(z),z})(),j=await E(D),{maxPages:F}=t.options,V=S?RI:II;return{pages:V(w.pages,j,F),pageParams:V(w.pageParams,T,F)}};if(s&&i.length){const w=s==="backward",T=w?qI:Tg,S={pages:i,pageParams:a},C=T(r,S);o=await v(S,C,w)}else{const w=e??i.length;do{const T=l===0?a[0]??r.initialPageParam:Tg(r,o);if(l>0&&T==null)break;o=await v(o,T),l++}while(l<w)}return o};t.options.persister?t.fetchFn=()=>{var y,x;return(x=(y=t.options).persister)==null?void 0:x.call(y,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=d}}}function Tg(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function qI(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var mt,ps,gs,Qi,Ji,ys,Zi,ea,Mx,GI=(Mx=class{constructor(e={}){We(this,mt);We(this,ps);We(this,gs);We(this,Qi);We(this,Ji);We(this,ys);We(this,Zi);We(this,ea);Me(this,mt,e.queryCache||new HI),Me(this,ps,e.mutationCache||new zI),Me(this,gs,e.defaultOptions||{}),Me(this,Qi,new Map),Me(this,Ji,new Map),Me(this,ys,0)}mount(){xl(this,ys)._++,Z(this,ys)===1&&(Me(this,Zi,zv.subscribe(async e=>{e&&(await this.resumePausedMutations(),Z(this,mt).onFocus())})),Me(this,ea,hu.subscribe(async e=>{e&&(await this.resumePausedMutations(),Z(this,mt).onOnline())})))}unmount(){var e,t;xl(this,ys)._--,Z(this,ys)===0&&((e=Z(this,Zi))==null||e.call(this),Me(this,Zi,void 0),(t=Z(this,ea))==null||t.call(this),Me(this,ea,void 0))}isFetching(e){return Z(this,mt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Z(this,ps).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Z(this,mt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=Z(this,mt).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(sh(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return Z(this,mt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=Z(this,mt).get(r.queryHash),i=s==null?void 0:s.state.data,a=_I(t,i);if(a!==void 0)return Z(this,mt).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return Kt.batch(()=>Z(this,mt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Z(this,mt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=Z(this,mt);Kt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=Z(this,mt);return Kt.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Kt.batch(()=>Z(this,mt).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(Vn).catch(Vn)}invalidateQueries(e,t={}){return Kt.batch(()=>(Z(this,mt).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Kt.batch(()=>Z(this,mt).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Vn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Vn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=Z(this,mt).build(this,t);return n.isStaleByTime(sh(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Vn).catch(Vn)}fetchInfiniteQuery(e){return e.behavior=wg(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Vn).catch(Vn)}ensureInfiniteQueryData(e){return e.behavior=wg(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return hu.isOnline()?Z(this,ps).resumePausedMutations():Promise.resolve()}getQueryCache(){return Z(this,mt)}getMutationCache(){return Z(this,ps)}getDefaultOptions(){return Z(this,gs)}setDefaultOptions(e){Me(this,gs,e)}setQueryDefaults(e,t){Z(this,Qi).set(Ao(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Z(this,Qi).values()],n={};return t.forEach(r=>{No(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){Z(this,Ji).set(Ao(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Z(this,Ji).values()],n={};return t.forEach(r=>{No(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Z(this,gs).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Vf(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===zf&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Z(this,gs).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Z(this,mt).clear(),Z(this,ps).clear()}},mt=new WeakMap,ps=new WeakMap,gs=new WeakMap,Qi=new WeakMap,Ji=new WeakMap,ys=new WeakMap,Zi=new WeakMap,ea=new WeakMap,Mx),WI=b.createContext(void 0),YI=({client:e,children:t})=>(b.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),u.jsx(WI.Provider,{value:e,children:t}));const KI="modulepreload",XI=function(e){return"/"+e},_g={},sa=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=XI(l),l in _g)return;_g[l]=!0;const d=l.endsWith(".css"),c=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":KI,d||(h.as="script"),h.crossOrigin="",h.href=l,o&&h.setAttribute("nonce",o),document.head.appendChild(h),d)return new Promise((m,f)=>{h.addEventListener("load",m),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})},QI=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>sa(async()=>{const{default:r}=await Promise.resolve().then(()=>va);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class qf extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class JI extends qf{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class ZI extends qf{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class eR extends qf{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ah;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ah||(ah={}));var tR=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(c){try{d(r.next(c))}catch(h){a(h)}}function l(c){try{d(r.throw(c))}catch(h){a(h)}}function d(c){c.done?i(c.value):s(c.value).then(o,l)}d((r=r.apply(e,t||[])).next())})};class nR{constructor(t,{headers:n={},customFetch:r,region:s=ah.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=QI(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return tR(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=n;let o={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(o["x-region"]=l);let d;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(o["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(o["Content-Type"]="application/json",d=JSON.stringify(a)));const c=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:d}).catch(g=>{throw new JI(g)}),h=c.headers.get("x-relay-error");if(h&&h==="true")throw new ZI(c);if(!c.ok)throw new eR(c);let m=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),f;return m==="application/json"?f=yield c.json():m==="application/octet-stream"?f=yield c.blob():m==="text/event-stream"?f=c:m==="multipart/form-data"?f=yield c.formData():f=yield c.text(),{data:f,error:null}}catch(s){return{data:null,error:s}}})}}var sn={},Gf={},ec={},Jo={},tc={},nc={},rR=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ia=rR();const sR=ia.fetch,Kv=ia.fetch.bind(ia),Xv=ia.Headers,iR=ia.Request,aR=ia.Response,va=Object.freeze(Object.defineProperty({__proto__:null,Headers:Xv,Request:iR,Response:aR,default:Kv,fetch:sR},Symbol.toStringTag,{value:"Module"})),oR=iN(va);var rc={};Object.defineProperty(rc,"__esModule",{value:!0});let lR=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};rc.default=lR;var Qv=$t&&$t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nc,"__esModule",{value:!0});const uR=Qv(oR),cR=Qv(rc);let dR=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=uR.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,o,l;let d=null,c=null,h=null,m=i.status,f=i.statusText;if(i.ok){if(this.method!=="HEAD"){const E=await i.text();E===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=E:c=JSON.parse(E))}const y=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),x=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");y&&x&&x.length>1&&(h=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(d={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,h=null,m=406,f="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const y=await i.text();try{d=JSON.parse(y),Array.isArray(d)&&i.status===404&&(c=[],d=null,m=200,f="OK")}catch{i.status===404&&y===""?(m=204,f="No Content"):d={message:y}}if(d&&this.isMaybeSingle&&(!((l=d==null?void 0:d.details)===null||l===void 0)&&l.includes("0 rows"))&&(d=null,m=200,f="OK"),d&&this.shouldThrowOnError)throw new cR.default(d)}return{error:d,data:c,count:h,status:m,statusText:f}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,o,l;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};nc.default=dR;var hR=$t&&$t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(tc,"__esModule",{value:!0});const fR=hR(nc);let mR=class extends fR.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var o;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${d}"; options=${l};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};tc.default=mR;var pR=$t&&$t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jo,"__esModule",{value:!0});const gR=pR(tc);let yR=class extends gR.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${a}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Jo.default=yR;var bR=$t&&$t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ec,"__esModule",{value:!0});const Ma=bR(Jo);let xR=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const a=(t??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",a),r&&(this.headers.Prefer=`count=${r}`),new Ma.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const a=t.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(a.length>0){const o=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new Ma.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const a="POST",o=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const l=t.reduce((d,c)=>d.concat(Object.keys(c)),[]);if(l.length>0){const d=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",d.join(","))}}return new Ma.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Ma.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Ma.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ec.default=xR;var sc={},ic={};Object.defineProperty(ic,"__esModule",{value:!0});ic.version=void 0;ic.version="0.0.0-automated";Object.defineProperty(sc,"__esModule",{value:!0});sc.DEFAULT_HEADERS=void 0;const vR=ic;sc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${vR.version}`};var Jv=$t&&$t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Gf,"__esModule",{value:!0});const ER=Jv(ec),wR=Jv(Jo),TR=sc;let _R=class Zv{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},TR.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new ER.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Zv(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){let a;const o=new URL(`${this.url}/rpc/${t}`);let l;r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([c,h])=>h!==void 0).map(([c,h])=>[c,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([c,h])=>{o.searchParams.append(c,h)})):(a="POST",l=n);const d=Object.assign({},this.headers);return i&&(d.Prefer=`count=${i}`),new wR.default({method:a,url:o,headers:d,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Gf.default=_R;var Ea=$t&&$t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sn,"__esModule",{value:!0});sn.PostgrestError=sn.PostgrestBuilder=sn.PostgrestTransformBuilder=sn.PostgrestFilterBuilder=sn.PostgrestQueryBuilder=sn.PostgrestClient=void 0;const e1=Ea(Gf);sn.PostgrestClient=e1.default;const t1=Ea(ec);sn.PostgrestQueryBuilder=t1.default;const n1=Ea(Jo);sn.PostgrestFilterBuilder=n1.default;const r1=Ea(tc);sn.PostgrestTransformBuilder=r1.default;const s1=Ea(nc);sn.PostgrestBuilder=s1.default;const i1=Ea(rc);sn.PostgrestError=i1.default;var SR=sn.default={PostgrestClient:e1.default,PostgrestQueryBuilder:t1.default,PostgrestFilterBuilder:n1.default,PostgrestTransformBuilder:r1.default,PostgrestBuilder:s1.default,PostgrestError:i1.default};const{PostgrestClient:CR,PostgrestQueryBuilder:cY,PostgrestFilterBuilder:dY,PostgrestTransformBuilder:hY,PostgrestBuilder:fY,PostgrestError:mY}=SR,AR="2.11.2",NR={"X-Client-Info":`realtime-js/${AR}`},kR="1.0.0",a1=1e4,IR=1e3;var Fi;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Fi||(Fi={}));var mn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(mn||(mn={}));var Gn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Gn||(Gn={}));var oh;(function(e){e.websocket="websocket"})(oh||(oh={}));var js;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(js||(js={}));class RR{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let a=this.HEADER_LENGTH+2;const o=r.decode(t.slice(a,a+s));a=a+s;const l=r.decode(t.slice(a,a+i));a=a+i;const d=JSON.parse(r.decode(t.slice(a,t.byteLength)));return{ref:null,topic:o,event:l,payload:d}}}class o1{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var et;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(et||(et={}));const Sg=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,a)=>(i[a]=PR(a,e,t,s),i),{})},PR=(e,t,n,r)=>{const s=t.find(o=>o.name===e),i=s==null?void 0:s.type,a=n[e];return i&&!r.includes(i)?l1(i,a):lh(a)},l1=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return LR(t,n)}switch(e){case et.bool:return OR(t);case et.float4:case et.float8:case et.int2:case et.int4:case et.int8:case et.numeric:case et.oid:return DR(t);case et.json:case et.jsonb:return MR(t);case et.timestamp:return jR(t);case et.abstime:case et.date:case et.daterange:case et.int4range:case et.int8range:case et.money:case et.reltime:case et.text:case et.time:case et.timestamptz:case et.timetz:case et.tsrange:case et.tstzrange:return lh(t);default:return lh(t)}},lh=e=>e,OR=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},DR=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},MR=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},LR=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const a=e.slice(1,n);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>l1(t,o))}return e},jR=e=>typeof e=="string"?e.replace(" ","T"):e,u1=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Jc{constructor(t,n,r={},s=a1){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Cg;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Cg||(Cg={}));class ro{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ro.syncState(this.state,s,i,a),this.pendingDiffs.forEach(l=>{this.state=ro.syncDiff(this.state,l,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ro.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),a=this.transformState(n),o={},l={};return this.map(i,(d,c)=>{a[d]||(l[d]=c)}),this.map(a,(d,c)=>{const h=i[d];if(h){const m=c.map(x=>x.presence_ref),f=h.map(x=>x.presence_ref),g=c.filter(x=>f.indexOf(x.presence_ref)<0),y=h.filter(x=>m.indexOf(x.presence_ref)<0);g.length>0&&(o[d]=g),y.length>0&&(l[d]=y)}else o[d]=c}),this.syncDiff(i,{joins:o,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(o,l)=>{var d;const c=(d=t[o])!==null&&d!==void 0?d:[];if(t[o]=this.cloneDeep(l),c.length>0){const h=t[o].map(f=>f.presence_ref),m=c.filter(f=>h.indexOf(f.presence_ref)<0);t[o].unshift(...m)}r(o,c,l)}),this.map(a,(o,l)=>{let d=t[o];if(!d)return;const c=l.map(h=>h.presence_ref);d=d.filter(h=>c.indexOf(h.presence_ref)<0),t[o]=d,s(o,d,l),d.length===0&&delete t[o]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ag;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Ag||(Ag={}));var Ng;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ng||(Ng={}));var Lr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Lr||(Lr={}));class Wf{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=mn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Jc(this,Gn.join,this.params,this.timeout),this.rejoinTimer=new o1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=mn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=mn.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=mn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=mn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Gn.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new ro(this),this.broadcastEndpointURL=u1(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:a,private:o}}=this.params;this._onError(c=>t==null?void 0:t(Lr.CHANNEL_ERROR,c)),this._onClose(()=>t==null?void 0:t(Lr.CLOSED));const l={},d={broadcast:i,presence:a,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&s!==void 0?s:[],private:o};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:c})=>{var h;if(this.socket.setAuth(),c===void 0){t==null||t(Lr.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,f=(h=m==null?void 0:m.length)!==null&&h!==void 0?h:0,g=[];for(let y=0;y<f;y++){const x=m[y],{filter:{event:E,schema:v,table:w,filter:T}}=x,S=c&&c[y];if(S&&S.event===E&&S.schema===v&&S.table===w&&S.filter===T)g.push(Object.assign(Object.assign({},x),{id:S.id}));else{this.unsubscribe(),t==null||t(Lr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Lr.SUBSCRIBED);return}}).receive("error",c=>{t==null||t(Lr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Lr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:a}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=d.body)===null||s===void 0?void 0:s.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,l;const d=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=mn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Gn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new Jc(this,Gn.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Jc(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const a=t.toLocaleLowerCase(),{close:o,error:l,leave:d,join:c}=Gn;if(r&&[o,l,d,c].indexOf(a)>=0&&r!==this._joinRef())return;let m=this._onMessage(a,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var g,y,x;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((x=(y=f.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===a}).map(f=>f.callback(m,r)):(i=this.bindings[a])===null||i===void 0||i.filter(f=>{var g,y,x,E,v,w;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in f){const T=f.id,S=(g=f.filter)===null||g===void 0?void 0:g.event;return T&&((y=n.ids)===null||y===void 0?void 0:y.includes(T))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const T=(v=(E=f==null?void 0:f.filter)===null||E===void 0?void 0:E.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return T==="*"||T===((w=n==null?void 0:n.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===a}).map(f=>{if(typeof m=="object"&&"ids"in m){const g=m.data,{schema:y,table:x,commit_timestamp:E,type:v,errors:w}=g;m=Object.assign(Object.assign({},{schema:y,table:x,commit_timestamp:E,eventType:v,new:{},old:{},errors:w}),this._getPayloadRecords(g))}f.callback(m,r)})}_isClosed(){return this.state===mn.closed}_isJoined(){return this.state===mn.joined}_isJoining(){return this.state===mn.joining}_isLeaving(){return this.state===mn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Wf.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Gn.close,{},t)}_onError(t){this._on(Gn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=mn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Sg(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Sg(t.columns,t.old_record)),n}}const FR=()=>{},BR=typeof WebSocket<"u",UR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class HR{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=NR,this.params={},this.timeout=a1,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=FR,this.conn=null,this.sendBuffer=[],this.serializer=new RR,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>sa(async()=>{const{default:l}=await Promise.resolve().then(()=>va);return{default:l}},void 0).then(({default:l})=>l(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${t}/${oh.websocket}`,this.httpEndpoint=u1(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,a)=>a(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new o1(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(BR){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new $R(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),sa(async()=>{const{default:t}=await import("./browser-BJ3a1_DI.js").then(n=>n.b);return{default:t}},__vite__mapDeps([0,1])).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:kR}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Fi.connecting:return js.Connecting;case Fi.open:return js.Open;case Fi.closing:return js.Closing;default:return js.Closed}}isConnected(){return this.connectionState()===js.Open}channel(t,n={config:{}}){const r=new Wf(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:s,ref:i}=t,a=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(Gn.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(IR,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:i,ref:a}=n;a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${a&&"("+a+")"||""}`,i),this.channels.filter(o=>o._isMember(r)).forEach(o=>o._trigger(s,i,a)),this.stateChangeCallbacks.message.forEach(o=>o(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Gn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([UR],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class $R{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Fi.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class Yf extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function At(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class VR extends Yf{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class uh extends Yf{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var zR=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(c){try{d(r.next(c))}catch(h){a(h)}}function l(c){try{d(r.throw(c))}catch(h){a(h)}}function d(c){c.done?i(c.value):s(c.value).then(o,l)}d((r=r.apply(e,t||[])).next())})};const c1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>sa(async()=>{const{default:r}=await Promise.resolve().then(()=>va);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},qR=()=>zR(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield sa(()=>Promise.resolve().then(()=>va),void 0)).Response:Response}),ch=e=>{if(Array.isArray(e))return e.map(n=>ch(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=ch(r)}),t};var li=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(c){try{d(r.next(c))}catch(h){a(h)}}function l(c){try{d(r.throw(c))}catch(h){a(h)}}function d(c){c.done?i(c.value):s(c.value).then(o,l)}d((r=r.apply(e,t||[])).next())})};const Zc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),GR=(e,t,n)=>li(void 0,void 0,void 0,function*(){const r=yield qR();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new VR(Zc(s),e.status||500))}).catch(s=>{t(new uh(Zc(s),s))}):t(new uh(Zc(e),e))}),WR=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Zo(e,t,n,r,s,i){return li(this,void 0,void 0,function*(){return new Promise((a,o)=>{e(n,WR(t,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>GR(l,o,r))})})}function fu(e,t,n,r){return li(this,void 0,void 0,function*(){return Zo(e,"GET",t,n,r)})}function us(e,t,n,r,s){return li(this,void 0,void 0,function*(){return Zo(e,"POST",t,r,s,n)})}function YR(e,t,n,r,s){return li(this,void 0,void 0,function*(){return Zo(e,"PUT",t,r,s,n)})}function KR(e,t,n,r){return li(this,void 0,void 0,function*(){return Zo(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function d1(e,t,n,r,s){return li(this,void 0,void 0,function*(){return Zo(e,"DELETE",t,r,s,n)})}var Zt=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(c){try{d(r.next(c))}catch(h){a(h)}}function l(c){try{d(r.throw(c))}catch(h){a(h)}}function d(c){c.done?i(c.value):s(c.value).then(o,l)}d((r=r.apply(e,t||[])).next())})};const XR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},kg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class QR{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=c1(s)}uploadOrUpdate(t,n,r,s){return Zt(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},kg),s);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const d=this._removeEmptyFolders(n),c=this._getFinalPath(d),h=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:t,body:i,headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{})),m=yield h.json();return h.ok?{data:{path:d,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(i){if(At(i))return{data:null,error:i};throw i}})}upload(t,n,r){return Zt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Zt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),a=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",n);try{let l;const d=Object.assign({upsert:kg.upsert},s),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",d.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",d.cacheControl)):(l=r,c["cache-control"]=`max-age=${d.cacheControl}`,c["content-type"]=d.contentType);const h=yield this.fetch(o.toString(),{method:"PUT",body:l,headers:c}),m=yield h.json();return h.ok?{data:{path:i,fullPath:m.Key},error:null}:{data:null,error:m}}catch(l){if(At(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return Zt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield us(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(this.url+i.url),o=a.searchParams.get("token");if(!o)throw new Yf("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:o},error:null}}catch(r){if(At(r))return{data:null,error:r};throw r}})}update(t,n,r){return Zt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Zt(this,void 0,void 0,function*(){try{return{data:yield us(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(At(s))return{data:null,error:s};throw s}})}copy(t,n,r){return Zt(this,void 0,void 0,function*(){try{return{data:{path:(yield us(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(At(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return Zt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield us(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(At(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Zt(this,void 0,void 0,function*(){try{const s=yield us(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(At(s))return{data:null,error:s};throw s}})}download(t,n){return Zt(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=i?`?${i}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield fu(this.fetch,`${this.url}/${s}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(At(o))return{data:null,error:o};throw o}})}info(t){return Zt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield fu(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:ch(r),error:null}}catch(r){if(At(r))return{data:null,error:r};throw r}})}exists(t){return Zt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield KR(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(At(r)&&r instanceof uh){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const o=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let d=s.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${d}`)}}}remove(t){return Zt(this,void 0,void 0,function*(){try{return{data:yield d1(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(At(n))return{data:null,error:n};throw n}})}list(t,n,r){return Zt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},XR),n),{prefix:t||""});return{data:yield us(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(At(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const JR="2.7.1",ZR={"X-Client-Info":`storage-js/${JR}`};var mi=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(c){try{d(r.next(c))}catch(h){a(h)}}function l(c){try{d(r.throw(c))}catch(h){a(h)}}function d(c){c.done?i(c.value):s(c.value).then(o,l)}d((r=r.apply(e,t||[])).next())})};class eP{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},ZR),n),this.fetch=c1(r)}listBuckets(){return mi(this,void 0,void 0,function*(){try{return{data:yield fu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(At(t))return{data:null,error:t};throw t}})}getBucket(t){return mi(this,void 0,void 0,function*(){try{return{data:yield fu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(At(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return mi(this,void 0,void 0,function*(){try{return{data:yield us(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(At(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return mi(this,void 0,void 0,function*(){try{return{data:yield YR(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(At(r))return{data:null,error:r};throw r}})}emptyBucket(t){return mi(this,void 0,void 0,function*(){try{return{data:yield us(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(At(n))return{data:null,error:n};throw n}})}deleteBucket(t){return mi(this,void 0,void 0,function*(){try{return{data:yield d1(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(At(n))return{data:null,error:n};throw n}})}}class tP extends eP{constructor(t,n={},r){super(t,n,r)}from(t){return new QR(this.url,this.headers,t,this.fetch)}}const nP="2.49.4";let Ya="";typeof Deno<"u"?Ya="deno":typeof document<"u"?Ya="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ya="react-native":Ya="node";const rP={"X-Client-Info":`supabase-js-${Ya}/${nP}`},sP={headers:rP},iP={schema:"public"},aP={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},oP={};var lP=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(c){try{d(r.next(c))}catch(h){a(h)}}function l(c){try{d(r.throw(c))}catch(h){a(h)}}function d(c){c.done?i(c.value):s(c.value).then(o,l)}d((r=r.apply(e,t||[])).next())})};const uP=e=>{let t;return e?t=e:typeof fetch>"u"?t=Kv:t=fetch,(...n)=>t(...n)},cP=()=>typeof Headers>"u"?Xv:Headers,dP=(e,t,n)=>{const r=uP(n),s=cP();return(i,a)=>lP(void 0,void 0,void 0,function*(){var o;const l=(o=yield t())!==null&&o!==void 0?o:e;let d=new s(a==null?void 0:a.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},a),{headers:d}))})};var hP=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(c){try{d(r.next(c))}catch(h){a(h)}}function l(c){try{d(r.throw(c))}catch(h){a(h)}}function d(c){c.done?i(c.value):s(c.value).then(o,l)}d((r=r.apply(e,t||[])).next())})};function fP(e){return e.replace(/\/$/,"")}function mP(e,t){const{db:n,auth:r,realtime:s,global:i}=e,{db:a,auth:o,realtime:l,global:d}=t,c={db:Object.assign(Object.assign({},a),n),auth:Object.assign(Object.assign({},o),r),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},d),i),accessToken:()=>hP(this,void 0,void 0,function*(){return""})};return e.accessToken?c.accessToken=e.accessToken:delete c.accessToken,c}const h1="2.69.1",Ci=30*1e3,dh=3,ed=dh*Ci,pP="http://localhost:9999",gP="supabase.auth.token",yP={"X-Client-Info":`gotrue-js/${h1}`},hh="X-Supabase-Api-Version",f1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},bP=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,xP=6e5;class Kf extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Ue(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class vP extends Kf{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function EP(e){return Ue(e)&&e.name==="AuthApiError"}class m1 extends Kf{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class As extends Kf{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class rs extends As{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function wP(e){return Ue(e)&&e.name==="AuthSessionMissingError"}class td extends As{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Tl extends As{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class _l extends As{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function TP(e){return Ue(e)&&e.name==="AuthImplicitGrantRedirectError"}class Ig extends As{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class fh extends As{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function nd(e){return Ue(e)&&e.name==="AuthRetryableFetchError"}class Rg extends As{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class so extends As{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Pg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Og=` 	
\r=`.split(""),_P=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Og.length;t+=1)e[Og[t].charCodeAt(0)]=-2;for(let t=0;t<Pg.length;t+=1)e[Pg[t].charCodeAt(0)]=t;return e})();function p1(e,t,n){const r=_P[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Dg(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{AP(a,r,n)};for(let a=0;a<e.length;a+=1)p1(e.charCodeAt(a),s,i);return t.join("")}function SP(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function CP(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}SP(r,t)}}function AP(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function NP(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)p1(e.charCodeAt(s),n,r);return new Uint8Array(t)}function kP(e){const t=[];return CP(e,n=>t.push(n)),new Uint8Array(t)}function IP(e){return Math.round(Date.now()/1e3)+e}function RP(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ur=()=>typeof window<"u"&&typeof document<"u",Os={tested:!1,writable:!1},io=()=>{if(!ur())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Os.tested)return Os.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Os.tested=!0,Os.writable=!0}catch{Os.tested=!0,Os.writable=!1}return Os.writable};function PP(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const g1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>sa(async()=>{const{default:r}=await Promise.resolve().then(()=>va);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},OP=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",y1=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Sl=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Cl=async(e,t)=>{await e.removeItem(t)};class ac{constructor(){this.promise=new ac.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}ac.promiseConstructor=Promise;function rd(e){const t=e.split(".");if(t.length!==3)throw new so("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!bP.test(t[r]))throw new so("JWT not in base64url format");return{header:JSON.parse(Dg(t[0])),payload:JSON.parse(Dg(t[1])),signature:NP(t[2]),raw:{header:t[0],payload:t[1]}}}async function DP(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function MP(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){r(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function LP(e){return("0"+e.toString(16)).substr(-2)}function jP(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,LP).join("")}async function FP(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function BP(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await FP(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function pi(e,t,n=!1){const r=jP();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await y1(e,`${t}-code-verifier`,s);const i=await BP(r);return[i,r===i?"plain":"s256"]}const UP=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function HP(e){const t=e.headers.get(hh);if(!t||!t.match(UP))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function $P(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function VP(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var zP=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const Ms=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),qP=[502,503,504];async function Mg(e){var t;if(!OP(e))throw new fh(Ms(e),0);if(qP.includes(e.status))throw new fh(Ms(e),e.status);let n;try{n=await e.json()}catch(i){throw new m1(Ms(i),i)}let r;const s=HP(e);if(s&&s.getTime()>=f1["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Rg(Ms(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new rs}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Rg(Ms(n),e.status,n.weak_password.reasons);throw new vP(Ms(n),e.status||500,r)}const GP=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function ze(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[hh]||(i[hh]=f1["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const a=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await WP(e,t,n+o,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function WP(e,t,n,r,s,i){const a=GP(t,r,s,i);let o;try{o=await e(n,Object.assign({},a))}catch(l){throw console.error(l),new fh(Ms(l),0)}if(o.ok||await Mg(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(l){await Mg(l)}}function ss(e){var t;let n=null;QP(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=IP(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Lg(e){const t=ss(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ds(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function YP(e){return{data:e,error:null}}function KP(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,a=zP(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function XP(e){return e}function QP(e){return e.access_token&&e.refresh_token&&e.expires_in}var JP=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class ZP{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=g1(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await ze(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await ze(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ds})}catch(r){if(Ue(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=JP(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await ze(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:KP,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ue(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await ze(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ds})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,a,o,l;try{const d={nextPage:null,lastPage:0,total:0},c=await ze(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:XP});if(c.error)throw c.error;const h=await c.json(),m=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(l=(o=c.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(g.split(";")[1].split("=")[1]);d[`${x}Page`]=y}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(Ue(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){try{return await ze(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ds})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await ze(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:ds})}catch(r){if(Ue(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await ze(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:ds})}catch(r){if(Ue(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await ze(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await ze(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}}}const eO={getItem:e=>io()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{io()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{io()&&globalThis.localStorage.removeItem(e)}};function jg(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function tO(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const gi={debug:!!(globalThis&&io()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class b1 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class nO extends b1{}async function rO(e,t,n){gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),gi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new nO(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(gi.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}tO();const sO={url:pP,storageKey:gP,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:yP,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Fg(e,t,n){return await n()}class ko{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ko.nextInstanceID,ko.nextInstanceID+=1,this.instanceID>0&&ur()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},sO),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new ZP({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=g1(s.fetch),this.lock=s.lock||Fg,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ur()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=rO:this.lock=Fg,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:io()?this.storage=eO:(this.memoryStorage={},this.storage=jg(this.memoryStorage)):(this.memoryStorage={},this.storage=jg(this.memoryStorage)),ur()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${h1}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=PP(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),ur()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),TP(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ue(n)?{error:n}:{error:new m1("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:ss}),{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(i){if(Ue(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:c,password:h,options:m}=t;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await pi(this.storage,this.storageKey)),i=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:c,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:f,code_challenge_method:g},xform:ss})}else if("phone"in t){const{phone:c,password:h,options:m}=t;i=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:ss})}else throw new Tl("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(i){if(Ue(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:a,options:o}=t;n=await ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Lg})}else if("phone"in t){const{phone:i,password:a,options:o}=t;n=await ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Lg})}else throw new Tl("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new td}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(Ue(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await Sl(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:a}=await ze(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:ss});if(await Cl(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new td}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(Ue(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:a}=t,o=await ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ss}),{data:l,error:d}=o;return d?{data:{user:null,session:null},error:d}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new td}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:d})}catch(n){if(Ue(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,a;try{if("email"in t){const{email:o,options:l}=t;let d=null,c=null;this.flowType==="pkce"&&([d,c]=await pi(this.storage,this.storageKey));const{error:h}=await ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:d,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:o,options:l}=t,{data:d,error:c}=await ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:c}}throw new Tl("You must provide either an email or phone number.")}catch(o){if(Ue(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:o}=await ze(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:ss});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,d=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(s){if(Ue(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await pi(this.storage,this.storageKey)),await ze(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:YP})}catch(i){if(Ue(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new rs;const{error:s}=await ze(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Ue(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:a}=await ze(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:a,error:o}=await ze(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new Tl("You must provide either an email or phone number and a type")}catch(n){if(Ue(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Sl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<ed:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,d,c)=>(!a&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,d,c))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ds}):await this._useSession(async n=>{var r,s,i;const{data:a,error:o}=n;if(o)throw o;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new rs}:await ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:ds})})}catch(n){if(Ue(n))return wP(n)&&(await this._removeSession(),await Cl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new rs;const a=s.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await pi(this.storage,this.storageKey));const{data:d,error:c}=await ze(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:ds});if(c)throw c;return a.user=d.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(Ue(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new rs;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:a}=rd(t.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{session:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(Ue(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:o}=n;if(o)throw o;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new rs;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ue(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!ur())throw new _l("No browser detected.");if(t.error||t.error_description||t.error_code)throw new _l(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Ig("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new _l("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Ig("No code detected.");const{data:v,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:l,token_type:d}=t;if(!i||!o||!a||!d)throw new _l("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(o);let m=c+h;l&&(m=parseInt(l));const f=m-c;f*1e3<=Ci&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const g=m-h;c-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,m,c):c-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,m,c);const{data:y,error:x}=await this._getUser(i);if(x)throw x;const E={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:m,refresh_token:a,token_type:d,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:E,redirectType:t.type},error:null}}catch(r){if(Ue(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Sl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(EP(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await Cl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=RP(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await pi(this.storage,this.storageKey,!0));try{return await ze(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(Ue(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var a,o,l,d,c;const{data:h,error:m}=i;if(m)throw m;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ze(this.fetch,"GET",f,{headers:this.headers,jwt:(c=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return ur()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Ue(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)throw a;return await ze(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await MP(async s=>(s>0&&await DP(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await ze(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ss})),(s,i)=>{const a=200*Math.pow(2,s);return i&&nd(i)&&Date.now()+a-r<Ci})}catch(r){if(this._debug(n,"error",r),Ue(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),ur()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Sl(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<ed;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${ed}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),nd(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new rs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ac;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new rs;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),Ue(i)){const a={session:null,error:i};return nd(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,n)}catch(l){i.push(l)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await y1(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Cl(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ur()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ci);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Ci);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ci}ms, refresh threshold is ${dh} ticks`),s<=dh&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof b1)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ur()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,a]=await pi(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await ze(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:d}=await ze(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:a,error:o}=await ze(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await ze(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=r.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=rd(s.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r||(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+xP>Date.now()))return r;const{data:s,error:i}=await ze(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new so("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(a=>a.kid===t),!r)throw new so("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:f,error:g}=await this.getSession();if(g||!f.session)return{data:null,error:g};r=f.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:l}}=rd(r);if($P(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:f}=await this.getUser(r);if(f)throw f;return{data:{claims:i,header:s,signature:a},error:null}}const d=VP(s.alg),c=await this.fetchJwk(s.kid,n),h=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,kP(`${o}.${l}`)))throw new so("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}}ko.nextInstanceID=0;const iO=ko;class aO extends iO{constructor(t){super(t)}}var oO=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(c){try{d(r.next(c))}catch(h){a(h)}}function l(c){try{d(r.throw(c))}catch(h){a(h)}}function d(c){c.done?i(c.value):s(c.value).then(o,l)}d((r=r.apply(e,t||[])).next())})};class lO{constructor(t,n,r){var s,i,a;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const o=fP(t);this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,d={db:iP,realtime:oP,auth:Object.assign(Object.assign({},aP),{storageKey:l}),global:sP},c=mP(r??{},d);this.storageKey=(s=c.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=c.auth)!==null&&a!==void 0?a:{},this.headers,c.global.fetch),this.fetch=dP(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new CR(`${o}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new nR(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new tP(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return oO(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:a,lock:o,debug:l},d,c){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new aO({url:this.authUrl,headers:Object.assign(Object.assign({},h),d),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:a,lock:o,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new HR(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const x1=(e,t,n)=>new lO(e,t,n),_e=x1("https://mhfikaomkmqcndqfohbp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1oZmlrYW9ta21xY25kcWZvaGJwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM2MTc5MTIsImV4cCI6MjA1OTE5MzkxMn0.xrGd-6SlR2UNOf_1HQJWIsKNe-rNOtPuOsYE8VrRI6w",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:localStorage,flowType:"pkce"},global:{headers:{"Access-Control-Allow-Origin":"*"}}});console.log("Supabase client initialized with OAuth support");console.log("Auth config:",{detectSessionInUrl:!0,flowType:"pkce",storage:"localStorage"});const v1=b.createContext({user:null,session:null,loading:!1,isAuthenticated:!1,isPublic:!1,setIsPublic:()=>{},signIn:async()=>{},signUp:async()=>{},resetPassword:async()=>{},signOut:async()=>{}}),uO=({children:e})=>{const[t,n]=b.useState(null),[r,s]=b.useState(null),[i,a]=b.useState(!0),[o,l]=b.useState(!1),d=En();b.useEffect(()=>{let y=!0;const x=setTimeout(()=>{y&&a(!1)},3e3),{data:{subscription:E}}=_e.auth.onAuthStateChange((w,T)=>{var S,C,D;if(y){if(s(T),T!=null&&T.user){const j={...T.user,name:((S=T.user.user_metadata)==null?void 0:S.name)||((C=T.user.email)==null?void 0:C.split("@")[0])||"User",avatar:((D=T.user.user_metadata)==null?void 0:D.avatar_url)||null};n(j)}else n(null);a(!1),clearTimeout(x)}});return(async()=>{try{const{data:{session:w}}=await _e.auth.getSession();y&&!w&&(a(!1),clearTimeout(x))}catch(w){console.error("Session check error:",w),y&&(a(!1),clearTimeout(x))}})(),()=>{y=!1,clearTimeout(x),E.unsubscribe()}},[]);const g={user:t,session:r,loading:i,isAuthenticated:!!t,isPublic:o,setIsPublic:l,signIn:async(y,x)=>{try{a(!0);const{data:E,error:v}=await _e.auth.signInWithPassword({email:y,password:x});if(v)throw v.message.includes("Invalid login credentials")?se.error("The email or password you entered is incorrect. Please try again."):v.message.includes("Email not confirmed")?(se.error("Please confirm your email before logging in. Check your inbox."),d("/check-email")):se.error(`Failed to sign in: ${v.message}`),v;E!=null&&E.user&&(se.success("Signed in successfully!"),d("/dashboard"))}catch(E){console.error("Sign-in error:",E)}finally{a(!1)}},signUp:async(y,x,E)=>{try{if(a(!0),!x.includes("@")||!x.includes(".")){se.error("Please enter a valid email address.");return}const{data:v,error:w}=await _e.auth.signUp({email:x,password:E,options:{data:{name:y},emailRedirectTo:`${window.location.origin}/auth/callback`}});if(w)throw w.message.includes("already registered")?se.error("This email is already registered. Try signing in instead."):se.error(`Failed to create account: ${w.message}`),w;if(v.user&&!v.session){se.success("Account created! Please check your email to confirm your account."),d("/check-email");return}v.user&&v.session&&(se.success("Account created successfully! You're now logged in."),d("/dashboard"))}catch(v){console.error("Sign-up error:",v)}finally{a(!1)}},resetPassword:async y=>{try{a(!0);const{error:x}=await _e.auth.resetPasswordForEmail(y,{redirectTo:`${window.location.origin}/reset-password`});if(x)throw se.error(`Failed to reset password: ${x.message}`),x;se.success("Password reset instructions sent to your email.")}catch(x){console.error("Password reset error:",x)}finally{a(!1)}},signOut:async()=>{try{a(!0);const{error:y}=await _e.auth.signOut();if(y)throw se.error(`Failed to sign out: ${y.message}`),y;d("/"),se.success("Signed out successfully.")}catch(y){console.error("Sign-out error:",y)}finally{a(!1)}}};return u.jsx(v1.Provider,{value:g,children:e})},un=()=>b.useContext(v1);var cO=typeof Element<"u",dO=typeof Map=="function",hO=typeof Set=="function",fO=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Gl(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,s;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Gl(e[r],t[r]))return!1;return!0}var i;if(dO&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i=e.entries();!(r=i.next()).done;)if(!t.has(r.value[0]))return!1;for(i=e.entries();!(r=i.next()).done;)if(!Gl(r.value[1],t.get(r.value[0])))return!1;return!0}if(hO&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i=e.entries();!(r=i.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(fO&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[r]))return!1;if(cO&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((s[r]==="_owner"||s[r]==="__v"||s[r]==="__o")&&e.$$typeof)&&!Gl(e[s[r]],t[s[r]]))return!1;return!0}return e!==e&&t!==t}var mO=function(t,n){try{return Gl(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const pO=Yo(mO);var gO=function(e,t,n,r,s,i,a,o){if(!e){var l;if(t===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[n,r,s,i,a,o],c=0;l=new Error(t.replace(/%s/g,function(){return d[c++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},yO=gO;const Bg=Yo(yO);var bO=function(t,n,r,s){var i=r?r.call(s,t,n):void 0;if(i!==void 0)return!!i;if(t===n)return!0;if(typeof t!="object"||!t||typeof n!="object"||!n)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(n),d=0;d<a.length;d++){var c=a[d];if(!l(c))return!1;var h=t[c],m=n[c];if(i=r?r.call(s,h,m,c):void 0,i===!1||i===void 0&&h!==m)return!1}return!0};const xO=Yo(bO);var E1=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(E1||{}),sd={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},Ug=Object.values(E1),Xf={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},vO=Object.entries(Xf).reduce((e,[t,n])=>(e[n]=t,e),{}),er="data-rh",Bi={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Ui=(e,t)=>{for(let n=e.length-1;n>=0;n-=1){const r=e[n];if(Object.prototype.hasOwnProperty.call(r,t))return r[t]}return null},EO=e=>{let t=Ui(e,"title");const n=Ui(e,Bi.TITLE_TEMPLATE);if(Array.isArray(t)&&(t=t.join("")),n&&t)return n.replace(/%s/g,()=>t);const r=Ui(e,Bi.DEFAULT_TITLE);return t||r||void 0},wO=e=>Ui(e,Bi.ON_CHANGE_CLIENT_STATE)||(()=>{}),id=(e,t)=>t.filter(n=>typeof n[e]<"u").map(n=>n[e]).reduce((n,r)=>({...n,...r}),{}),TO=(e,t)=>t.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,r)=>{if(!n.length){const s=Object.keys(r);for(let i=0;i<s.length;i+=1){const o=s[i].toLowerCase();if(e.indexOf(o)!==-1&&r[o])return n.concat(r)}}return n},[]),_O=e=>console&&typeof console.warn=="function"&&console.warn(e),La=(e,t,n)=>{const r={};return n.filter(s=>Array.isArray(s[e])?!0:(typeof s[e]<"u"&&_O(`Helmet: ${e} should be of type "Array". Instead found type "${typeof s[e]}"`),!1)).map(s=>s[e]).reverse().reduce((s,i)=>{const a={};i.filter(l=>{let d;const c=Object.keys(l);for(let m=0;m<c.length;m+=1){const f=c[m],g=f.toLowerCase();t.indexOf(g)!==-1&&!(d==="rel"&&l[d].toLowerCase()==="canonical")&&!(g==="rel"&&l[g].toLowerCase()==="stylesheet")&&(d=g),t.indexOf(f)!==-1&&(f==="innerHTML"||f==="cssText"||f==="itemprop")&&(d=f)}if(!d||!l[d])return!1;const h=l[d].toLowerCase();return r[d]||(r[d]={}),a[d]||(a[d]={}),r[d][h]?!1:(a[d][h]=!0,!0)}).reverse().forEach(l=>s.push(l));const o=Object.keys(a);for(let l=0;l<o.length;l+=1){const d=o[l],c={...r[d],...a[d]};r[d]=c}return s},[]).reverse()},SO=(e,t)=>{if(Array.isArray(e)&&e.length){for(let n=0;n<e.length;n+=1)if(e[n][t])return!0}return!1},CO=e=>({baseTag:TO(["href"],e),bodyAttributes:id("bodyAttributes",e),defer:Ui(e,Bi.DEFER),encode:Ui(e,Bi.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:id("htmlAttributes",e),linkTags:La("link",["rel","href"],e),metaTags:La("meta",["name","charset","http-equiv","property","itemprop"],e),noscriptTags:La("noscript",["innerHTML"],e),onChangeClientState:wO(e),scriptTags:La("script",["src","innerHTML"],e),styleTags:La("style",["cssText"],e),title:EO(e),titleAttributes:id("titleAttributes",e),prioritizeSeoTags:SO(e,Bi.PRIORITIZE_SEO_TAGS)}),w1=e=>Array.isArray(e)?e.join(""):e,AO=(e,t)=>{const n=Object.keys(e);for(let r=0;r<n.length;r+=1)if(t[n[r]]&&t[n[r]].includes(e[n[r]]))return!0;return!1},ad=(e,t)=>Array.isArray(e)?e.reduce((n,r)=>(AO(r,t)?n.priority.push(r):n.default.push(r),n),{priority:[],default:[]}):{default:e,priority:[]},Hg=(e,t)=>({...e,[t]:void 0}),NO=["noscript","script","style"],mh=(e,t=!0)=>t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),T1=e=>Object.keys(e).reduce((t,n)=>{const r=typeof e[n]<"u"?`${n}="${e[n]}"`:`${n}`;return t?`${t} ${r}`:r},""),kO=(e,t,n,r)=>{const s=T1(n),i=w1(t);return s?`<${e} ${er}="true" ${s}>${mh(i,r)}</${e}>`:`<${e} ${er}="true">${mh(i,r)}</${e}>`},IO=(e,t,n=!0)=>t.reduce((r,s)=>{const i=s,a=Object.keys(i).filter(d=>!(d==="innerHTML"||d==="cssText")).reduce((d,c)=>{const h=typeof i[c]>"u"?c:`${c}="${mh(i[c],n)}"`;return d?`${d} ${h}`:h},""),o=i.innerHTML||i.cssText||"",l=NO.indexOf(e)===-1;return`${r}<${e} ${er}="true" ${a}${l?"/>":`>${o}</${e}>`}`},""),_1=(e,t={})=>Object.keys(e).reduce((n,r)=>{const s=Xf[r];return n[s||r]=e[r],n},t),RO=(e,t,n)=>{const r={key:t,[er]:!0},s=_1(n,r);return[K.createElement("title",s,t)]},Wl=(e,t)=>t.map((n,r)=>{const s={key:r,[er]:!0};return Object.keys(n).forEach(i=>{const o=Xf[i]||i;if(o==="innerHTML"||o==="cssText"){const l=n.innerHTML||n.cssText;s.dangerouslySetInnerHTML={__html:l}}else s[o]=n[i]}),K.createElement(e,s)}),An=(e,t,n=!0)=>{switch(e){case"title":return{toComponent:()=>RO(e,t.title,t.titleAttributes),toString:()=>kO(e,t.title,t.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>_1(t),toString:()=>T1(t)};default:return{toComponent:()=>Wl(e,t),toString:()=>IO(e,t,n)}}},PO=({metaTags:e,linkTags:t,scriptTags:n,encode:r})=>{const s=ad(e,sd.meta),i=ad(t,sd.link),a=ad(n,sd.script);return{priorityMethods:{toComponent:()=>[...Wl("meta",s.priority),...Wl("link",i.priority),...Wl("script",a.priority)],toString:()=>`${An("meta",s.priority,r)} ${An("link",i.priority,r)} ${An("script",a.priority,r)}`},metaTags:s.default,linkTags:i.default,scriptTags:a.default}},OO=e=>{const{baseTag:t,bodyAttributes:n,encode:r=!0,htmlAttributes:s,noscriptTags:i,styleTags:a,title:o="",titleAttributes:l,prioritizeSeoTags:d}=e;let{linkTags:c,metaTags:h,scriptTags:m}=e,f={toComponent:()=>{},toString:()=>""};return d&&({priorityMethods:f,linkTags:c,metaTags:h,scriptTags:m}=PO(e)),{priority:f,base:An("base",t,r),bodyAttributes:An("bodyAttributes",n,r),htmlAttributes:An("htmlAttributes",s,r),link:An("link",c,r),meta:An("meta",h,r),noscript:An("noscript",i,r),script:An("script",m,r),style:An("style",a,r),title:An("title",{title:o,titleAttributes:l},r)}},ph=OO,Al=[],S1=!!(typeof window<"u"&&window.document&&window.document.createElement),gh=class{constructor(e,t){Pr(this,"instances",[]);Pr(this,"canUseDOM",S1);Pr(this,"context");Pr(this,"value",{setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?Al:this.instances,add:e=>{(this.canUseDOM?Al:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?Al:this.instances).indexOf(e);(this.canUseDOM?Al:this.instances).splice(t,1)}}});this.context=e,this.canUseDOM=t||!1,t||(e.helmet=ph({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},DO={},C1=K.createContext(DO),Xs,A1=(Xs=class extends b.Component{constructor(n){super(n);Pr(this,"helmetData");this.helmetData=new gh(this.props.context||{},Xs.canUseDOM)}render(){return K.createElement(C1.Provider,{value:this.helmetData.value},this.props.children)}},Pr(Xs,"canUseDOM",S1),Xs),yi=(e,t)=>{const n=document.head||document.querySelector("head"),r=n.querySelectorAll(`${e}[${er}]`),s=[].slice.call(r),i=[];let a;return t&&t.length&&t.forEach(o=>{const l=document.createElement(e);for(const d in o)if(Object.prototype.hasOwnProperty.call(o,d))if(d==="innerHTML")l.innerHTML=o.innerHTML;else if(d==="cssText")l.styleSheet?l.styleSheet.cssText=o.cssText:l.appendChild(document.createTextNode(o.cssText));else{const c=d,h=typeof o[c]>"u"?"":o[c];l.setAttribute(d,h)}l.setAttribute(er,"true"),s.some((d,c)=>(a=c,l.isEqualNode(d)))?s.splice(a,1):i.push(l)}),s.forEach(o=>{var l;return(l=o.parentNode)==null?void 0:l.removeChild(o)}),i.forEach(o=>n.appendChild(o)),{oldTags:s,newTags:i}},yh=(e,t)=>{const n=document.getElementsByTagName(e)[0];if(!n)return;const r=n.getAttribute(er),s=r?r.split(","):[],i=[...s],a=Object.keys(t);for(const o of a){const l=t[o]||"";n.getAttribute(o)!==l&&n.setAttribute(o,l),s.indexOf(o)===-1&&s.push(o);const d=i.indexOf(o);d!==-1&&i.splice(d,1)}for(let o=i.length-1;o>=0;o-=1)n.removeAttribute(i[o]);s.length===i.length?n.removeAttribute(er):n.getAttribute(er)!==a.join(",")&&n.setAttribute(er,a.join(","))},MO=(e,t)=>{typeof e<"u"&&document.title!==e&&(document.title=w1(e)),yh("title",t)},$g=(e,t)=>{const{baseTag:n,bodyAttributes:r,htmlAttributes:s,linkTags:i,metaTags:a,noscriptTags:o,onChangeClientState:l,scriptTags:d,styleTags:c,title:h,titleAttributes:m}=e;yh("body",r),yh("html",s),MO(h,m);const f={baseTag:yi("base",n),linkTags:yi("link",i),metaTags:yi("meta",a),noscriptTags:yi("noscript",o),scriptTags:yi("script",d),styleTags:yi("style",c)},g={},y={};Object.keys(f).forEach(x=>{const{newTags:E,oldTags:v}=f[x];E.length&&(g[x]=E),v.length&&(y[x]=f[x].oldTags)}),t&&t(),l(e,g,y)},ja=null,LO=e=>{ja&&cancelAnimationFrame(ja),e.defer?ja=requestAnimationFrame(()=>{$g(e,()=>{ja=null})}):($g(e),ja=null)},jO=LO,Vg=class extends b.Component{constructor(){super(...arguments);Pr(this,"rendered",!1)}shouldComponentUpdate(t){return!xO(t,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:t}=this.props.context;t.remove(this),this.emitChange()}emitChange(){const{helmetInstances:t,setHelmet:n}=this.props.context;let r=null;const s=CO(t.get().map(i=>{const a={...i.props};return delete a.context,a}));A1.canUseDOM?jO(s):ph&&(r=ph(s)),n(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:t}=this.props.context;t.add(this),this.emitChange()}render(){return this.init(),null}},Kd,FO=(Kd=class extends b.Component{shouldComponentUpdate(e){return!pO(Hg(this.props,"helmetData"),Hg(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,n,r){return{...t,[e.type]:[...t[e.type]||[],{...n,...this.mapNestedChildrenToProps(e,r)}]}}mapObjectTypeChildren(e,t,n,r){switch(e.type){case"title":return{...t,[e.type]:r,titleAttributes:{...n}};case"body":return{...t,bodyAttributes:{...n}};case"html":return{...t,htmlAttributes:{...n}};default:return{...t,[e.type]:{...n}}}}mapArrayTypeChildrenToProps(e,t){let n={...t};return Object.keys(e).forEach(r=>{n={...n,[r]:e[r]}}),n}warnOnInvalidChildren(e,t){return Bg(Ug.some(n=>e.type===n),typeof e.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${Ug.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),Bg(!t||typeof t=="string"||Array.isArray(t)&&!t.some(n=>typeof n!="string"),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let n={};return K.Children.forEach(e,r=>{if(!r||!r.props)return;const{children:s,...i}=r.props,a=Object.keys(i).reduce((l,d)=>(l[vO[d]||d]=i[d],l),{});let{type:o}=r;switch(typeof o=="symbol"?o=o.toString():this.warnOnInvalidChildren(r,s),o){case"Symbol(react.fragment)":t=this.mapChildrenToProps(s,t);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(r,n,a,s);break;default:t=this.mapObjectTypeChildren(r,t,a,s);break}}),this.mapArrayTypeChildrenToProps(n,t)}render(){const{children:e,...t}=this.props;let n={...t},{helmetData:r}=t;if(e&&(n=this.mapChildrenToProps(e,n)),r&&!(r instanceof gh)){const s=r;r=new gh(s.context,!0),delete n.helmetData}return r?K.createElement(Vg,{...n,context:r.value}):K.createElement(C1.Consumer,null,s=>K.createElement(Vg,{...n,context:s}))}},Pr(Kd,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),Kd);const N1=({loading:e,children:t})=>e?u.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-background",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"h-8 w-8 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),u.jsx("p",{className:"text-muted-foreground font-inter",children:"Loading..."})]})}):u.jsx(u.Fragment,{children:t}),Qf=pa("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Se=b.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},i)=>{const a=r?Vx:"button";return u.jsx(a,{className:I(Qf({variant:t,size:n,className:e})),ref:i,...s})});Se.displayName="Button";const BO=(e,t,n,r)=>{var i,a,o,l;const s=[n,{code:t,...r||{}}];if((a=(i=e==null?void 0:e.services)==null?void 0:i.logger)!=null&&a.forward)return e.services.logger.forward(s,"warn","react-i18next::",!0);Qs(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),(l=(o=e==null?void 0:e.services)==null?void 0:o.logger)!=null&&l.warn?e.services.logger.warn(...s):console!=null&&console.warn&&console.warn(...s)},zg={},bh=(e,t,n,r)=>{Qs(n)&&zg[n]||(Qs(n)&&(zg[n]=new Date),BO(e,t,n,r))},k1=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},xh=(e,t,n)=>{e.loadNamespaces(t,k1(e,n))},qg=(e,t,n,r)=>{if(Qs(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return xh(e,n,r);n.forEach(s=>{e.options.ns.indexOf(s)<0&&e.options.ns.push(s)}),e.loadLanguages(t,k1(e,r))},UO=(e,t,n={})=>!t.languages||!t.languages.length?(bh(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(r,s)=>{var i;if(((i=n.bindI18n)==null?void 0:i.indexOf("languageChanging"))>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!s(r.isLanguageChangingTo,e))return!1}}),Qs=e=>typeof e=="string",HO=e=>typeof e=="object"&&e!==null,$O=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,VO={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},zO=e=>VO[e],qO=e=>e.replace($O,zO);let vh={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:qO};const GO=(e={})=>{vh={...vh,...e}},WO=()=>vh;let I1;const YO=e=>{I1=e},KO=()=>I1,XO={type:"3rdParty",init(e){GO(e.options.react),YO(e)}},QO=b.createContext();class JO{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const ZO=(e,t)=>{const n=b.useRef();return b.useEffect(()=>{n.current=e},[e,t]),n.current},R1=(e,t,n,r)=>e.getFixedT(t,n,r),eD=(e,t,n,r)=>b.useCallback(R1(e,t,n,r),[e,t,n,r]),el=(e,t={})=>{var T,S,C,D;const{i18n:n}=t,{i18n:r,defaultNS:s}=b.useContext(QO)||{},i=n||r||KO();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new JO),!i){bh(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const j=(V,z)=>Qs(z)?z:HO(z)&&Qs(z.defaultValue)?z.defaultValue:Array.isArray(V)?V[V.length-1]:V,F=[j,{},!1];return F.t=j,F.i18n={},F.ready=!1,F}(T=i.options.react)!=null&&T.wait&&bh(i,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const a={...WO(),...i.options.react,...t},{useSuspense:o,keyPrefix:l}=a;let d=s||((S=i.options)==null?void 0:S.defaultNS);d=Qs(d)?[d]:d||["translation"],(D=(C=i.reportNamespaces).addUsedNamespaces)==null||D.call(C,d);const c=(i.isInitialized||i.initializedStoreOnce)&&d.every(j=>UO(j,i,a)),h=eD(i,t.lng||null,a.nsMode==="fallback"?d:d[0],l),m=()=>h,f=()=>R1(i,t.lng||null,a.nsMode==="fallback"?d:d[0],l),[g,y]=b.useState(m);let x=d.join();t.lng&&(x=`${t.lng}${x}`);const E=ZO(x),v=b.useRef(!0);b.useEffect(()=>{const{bindI18n:j,bindI18nStore:F}=a;v.current=!0,!c&&!o&&(t.lng?qg(i,t.lng,d,()=>{v.current&&y(f)}):xh(i,d,()=>{v.current&&y(f)})),c&&E&&E!==x&&v.current&&y(f);const V=()=>{v.current&&y(f)};return j&&(i==null||i.on(j,V)),F&&(i==null||i.store.on(F,V)),()=>{v.current=!1,i&&(j==null||j.split(" ").forEach(z=>i.off(z,V))),F&&i&&F.split(" ").forEach(z=>i.store.off(z,V))}},[i,x]),b.useEffect(()=>{v.current&&c&&y(m)},[i,l,c]);const w=[g,i,c];if(w.t=g,w.i18n=i,w.ready=c,c||!c&&!o)return w;throw new Promise(j=>{t.lng?qg(i,t.lng,d,()=>j()):xh(i,d,()=>j())})};function Gg(e,[t,n]){return Math.min(n,Math.max(t,e))}var od=0;function Jf(){b.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Wg()),document.body.insertAdjacentElement("beforeend",e[1]??Wg()),od++,()=>{od===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),od--}},[])}function Wg(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ld="focusScope.autoFocusOnMount",ud="focusScope.autoFocusOnUnmount",Yg={bubbles:!1,cancelable:!0},tD="FocusScope",oc=b.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=e,[o,l]=b.useState(null),d=ta(s),c=ta(i),h=b.useRef(null),m=Ke(t,y=>l(y)),f=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let y=function(w){if(f.paused||!o)return;const T=w.target;o.contains(T)?h.current=T:is(h.current,{select:!0})},x=function(w){if(f.paused||!o)return;const T=w.relatedTarget;T!==null&&(o.contains(T)||is(h.current,{select:!0}))},E=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&is(o)};document.addEventListener("focusin",y),document.addEventListener("focusout",x);const v=new MutationObserver(E);return o&&v.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",x),v.disconnect()}}},[r,o,f.paused]),b.useEffect(()=>{if(o){Xg.add(f);const y=document.activeElement;if(!o.contains(y)){const E=new CustomEvent(ld,Yg);o.addEventListener(ld,d),o.dispatchEvent(E),E.defaultPrevented||(nD(oD(P1(o)),{select:!0}),document.activeElement===y&&is(o))}return()=>{o.removeEventListener(ld,d),setTimeout(()=>{const E=new CustomEvent(ud,Yg);o.addEventListener(ud,c),o.dispatchEvent(E),E.defaultPrevented||is(y??document.body,{select:!0}),o.removeEventListener(ud,c),Xg.remove(f)},0)}}},[o,d,c,f]);const g=b.useCallback(y=>{if(!n&&!r||f.paused)return;const x=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,E=document.activeElement;if(x&&E){const v=y.currentTarget,[w,T]=rD(v);w&&T?!y.shiftKey&&E===T?(y.preventDefault(),n&&is(w,{select:!0})):y.shiftKey&&E===w&&(y.preventDefault(),n&&is(T,{select:!0})):E===v&&y.preventDefault()}},[n,r,f.paused]);return u.jsx(Fe.div,{tabIndex:-1,...a,ref:m,onKeyDown:g})});oc.displayName=tD;function nD(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(is(r,{select:t}),document.activeElement!==n)return}function rD(e){const t=P1(e),n=Kg(t,e),r=Kg(t.reverse(),e);return[n,r]}function P1(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Kg(e,t){for(const n of e)if(!sD(n,{upTo:t}))return n}function sD(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function iD(e){return e instanceof HTMLInputElement&&"select"in e}function is(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&iD(e)&&t&&e.select()}}var Xg=aD();function aD(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Qg(e,t),e.unshift(t)},remove(t){var n;e=Qg(e,t),(n=e[0])==null||n.resume()}}}function Qg(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function oD(e){return e.filter(t=>t.tagName!=="A")}function Zf(e){const t=b.useRef({value:e,previous:e});return b.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var lD=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},bi=new WeakMap,Nl=new WeakMap,kl={},cd=0,O1=function(e){return e&&(e.host||O1(e.parentNode))},uD=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=O1(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},cD=function(e,t,n,r){var s=uD(t,Array.isArray(e)?e:[e]);kl[n]||(kl[n]=new WeakMap);var i=kl[n],a=[],o=new Set,l=new Set(s),d=function(h){!h||o.has(h)||(o.add(h),d(h.parentNode))};s.forEach(d);var c=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(m){if(o.has(m))c(m);else try{var f=m.getAttribute(r),g=f!==null&&f!=="false",y=(bi.get(m)||0)+1,x=(i.get(m)||0)+1;bi.set(m,y),i.set(m,x),a.push(m),y===1&&g&&Nl.set(m,!0),x===1&&m.setAttribute(n,"true"),g||m.setAttribute(r,"true")}catch(E){console.error("aria-hidden: cannot operate on ",m,E)}})};return c(t),o.clear(),cd++,function(){a.forEach(function(h){var m=bi.get(h)-1,f=i.get(h)-1;bi.set(h,m),i.set(h,f),m||(Nl.has(h)||h.removeAttribute(r),Nl.delete(h)),f||h.removeAttribute(n)}),cd--,cd||(bi=new WeakMap,bi=new WeakMap,Nl=new WeakMap,kl={})}},em=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=lD(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),cD(r,s,n,"aria-hidden")):function(){return null}},gr=function(){return gr=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},gr.apply(this,arguments)};function D1(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function dD(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var Yl="right-scroll-bar-position",Kl="width-before-scroll-bar",hD="with-scroll-bars-hidden",fD="--removed-body-scroll-bar-size";function dd(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function mD(e,t){var n=b.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var pD=typeof window<"u"?b.useLayoutEffect:b.useEffect,Jg=new WeakMap;function gD(e,t){var n=mD(null,function(r){return e.forEach(function(s){return dd(s,r)})});return pD(function(){var r=Jg.get(n);if(r){var s=new Set(r),i=new Set(e),a=n.current;s.forEach(function(o){i.has(o)||dd(o,null)}),i.forEach(function(o){s.has(o)||dd(o,a)})}Jg.set(n,e)},[e]),n}function yD(e){return e}function bD(e,t){t===void 0&&(t=yD);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var a=t(i,r);return n.push(a),function(){n=n.filter(function(o){return o!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(o){return i(o)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var o=n;n=[],o.forEach(i),a=n}var l=function(){var c=a;a=[],c.forEach(i)},d=function(){return Promise.resolve().then(l)};d(),n={push:function(c){a.push(c),d()},filter:function(c){return a=a.filter(c),n}}}};return s}function xD(e){e===void 0&&(e={});var t=bD(null);return t.options=gr({async:!0,ssr:!1},e),t}var M1=function(e){var t=e.sideCar,n=D1(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,gr({},n))};M1.isSideCarExport=!0;function vD(e,t){return e.useMedium(t),M1}var L1=xD(),hd=function(){},lc=b.forwardRef(function(e,t){var n=b.useRef(null),r=b.useState({onScrollCapture:hd,onWheelCapture:hd,onTouchMoveCapture:hd}),s=r[0],i=r[1],a=e.forwardProps,o=e.children,l=e.className,d=e.removeScrollBar,c=e.enabled,h=e.shards,m=e.sideCar,f=e.noRelative,g=e.noIsolation,y=e.inert,x=e.allowPinchZoom,E=e.as,v=E===void 0?"div":E,w=e.gapMode,T=D1(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=m,C=gD([n,t]),D=gr(gr({},T),s);return b.createElement(b.Fragment,null,c&&b.createElement(S,{sideCar:L1,removeScrollBar:d,shards:h,noRelative:f,noIsolation:g,inert:y,setCallbacks:i,allowPinchZoom:!!x,lockRef:n,gapMode:w}),a?b.cloneElement(b.Children.only(o),gr(gr({},D),{ref:C})):b.createElement(v,gr({},D,{className:l,ref:C}),o))});lc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};lc.classNames={fullWidth:Kl,zeroRight:Yl};var ED=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function wD(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=ED();return t&&e.setAttribute("nonce",t),e}function TD(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function _D(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var SD=function(){var e=0,t=null;return{add:function(n){e==0&&(t=wD())&&(TD(t,n),_D(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},CD=function(){var e=SD();return function(t,n){b.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},j1=function(){var e=CD(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},AD={left:0,top:0,right:0,gap:0},fd=function(e){return parseInt(e||"",10)||0},ND=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[fd(n),fd(r),fd(s)]},kD=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return AD;var t=ND(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},ID=j1(),Hi="data-scroll-locked",RD=function(e,t,n,r){var s=e.left,i=e.top,a=e.right,o=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(hD,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(Hi,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Yl,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(Kl,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(Yl," .").concat(Yl,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Kl," .").concat(Kl,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Hi,`] {
    `).concat(fD,": ").concat(o,`px;
  }
`)},Zg=function(){var e=parseInt(document.body.getAttribute(Hi)||"0",10);return isFinite(e)?e:0},PD=function(){b.useEffect(function(){return document.body.setAttribute(Hi,(Zg()+1).toString()),function(){var e=Zg()-1;e<=0?document.body.removeAttribute(Hi):document.body.setAttribute(Hi,e.toString())}},[])},OD=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;PD();var i=b.useMemo(function(){return kD(s)},[s]);return b.createElement(ID,{styles:RD(i,!t,s,n?"":"!important")})},Eh=!1;if(typeof window<"u")try{var Il=Object.defineProperty({},"passive",{get:function(){return Eh=!0,!0}});window.addEventListener("test",Il,Il),window.removeEventListener("test",Il,Il)}catch{Eh=!1}var xi=Eh?{passive:!1}:!1,DD=function(e){return e.tagName==="TEXTAREA"},F1=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!DD(e)&&n[t]==="visible")},MD=function(e){return F1(e,"overflowY")},LD=function(e){return F1(e,"overflowX")},e0=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=B1(e,r);if(s){var i=U1(e,r),a=i[1],o=i[2];if(a>o)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},jD=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},FD=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},B1=function(e,t){return e==="v"?MD(t):LD(t)},U1=function(e,t){return e==="v"?jD(t):FD(t)},BD=function(e,t){return e==="h"&&t==="rtl"?-1:1},UD=function(e,t,n,r,s){var i=BD(e,window.getComputedStyle(t).direction),a=i*r,o=n.target,l=t.contains(o),d=!1,c=a>0,h=0,m=0;do{if(!o)break;var f=U1(e,o),g=f[0],y=f[1],x=f[2],E=y-x-i*g;(g||E)&&B1(e,o)&&(h+=E,m+=g);var v=o.parentNode;o=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!l&&o!==document.body||l&&(t.contains(o)||t===o));return(c&&(Math.abs(h)<1||!s)||!c&&(Math.abs(m)<1||!s))&&(d=!0),d},Rl=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},t0=function(e){return[e.deltaX,e.deltaY]},n0=function(e){return e&&"current"in e?e.current:e},HD=function(e,t){return e[0]===t[0]&&e[1]===t[1]},$D=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},VD=0,vi=[];function zD(e){var t=b.useRef([]),n=b.useRef([0,0]),r=b.useRef(),s=b.useState(VD++)[0],i=b.useState(j1)[0],a=b.useRef(e);b.useEffect(function(){a.current=e},[e]),b.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var y=dD([e.lockRef.current],(e.shards||[]).map(n0),!0).filter(Boolean);return y.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var o=b.useCallback(function(y,x){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!a.current.allowPinchZoom;var E=Rl(y),v=n.current,w="deltaX"in y?y.deltaX:v[0]-E[0],T="deltaY"in y?y.deltaY:v[1]-E[1],S,C=y.target,D=Math.abs(w)>Math.abs(T)?"h":"v";if("touches"in y&&D==="h"&&C.type==="range")return!1;var j=e0(D,C);if(!j)return!0;if(j?S=D:(S=D==="v"?"h":"v",j=e0(D,C)),!j)return!1;if(!r.current&&"changedTouches"in y&&(w||T)&&(r.current=S),!S)return!0;var F=r.current||S;return UD(F,x,y,F==="h"?w:T,!0)},[]),l=b.useCallback(function(y){var x=y;if(!(!vi.length||vi[vi.length-1]!==i)){var E="deltaY"in x?t0(x):Rl(x),v=t.current.filter(function(S){return S.name===x.type&&(S.target===x.target||x.target===S.shadowParent)&&HD(S.delta,E)})[0];if(v&&v.should){x.cancelable&&x.preventDefault();return}if(!v){var w=(a.current.shards||[]).map(n0).filter(Boolean).filter(function(S){return S.contains(x.target)}),T=w.length>0?o(x,w[0]):!a.current.noIsolation;T&&x.cancelable&&x.preventDefault()}}},[]),d=b.useCallback(function(y,x,E,v){var w={name:y,delta:x,target:E,should:v,shadowParent:qD(E)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(T){return T!==w})},1)},[]),c=b.useCallback(function(y){n.current=Rl(y),r.current=void 0},[]),h=b.useCallback(function(y){d(y.type,t0(y),y.target,o(y,e.lockRef.current))},[]),m=b.useCallback(function(y){d(y.type,Rl(y),y.target,o(y,e.lockRef.current))},[]);b.useEffect(function(){return vi.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",l,xi),document.addEventListener("touchmove",l,xi),document.addEventListener("touchstart",c,xi),function(){vi=vi.filter(function(y){return y!==i}),document.removeEventListener("wheel",l,xi),document.removeEventListener("touchmove",l,xi),document.removeEventListener("touchstart",c,xi)}},[]);var f=e.removeScrollBar,g=e.inert;return b.createElement(b.Fragment,null,g?b.createElement(i,{styles:$D(s)}):null,f?b.createElement(OD,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function qD(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const GD=vD(L1,zD);var uc=b.forwardRef(function(e,t){return b.createElement(lc,gr({},e,{ref:t,sideCar:GD}))});uc.classNames=lc.classNames;var WD=[" ","Enter","ArrowUp","ArrowDown"],YD=[" ","Enter"],ni="Select",[cc,dc,KD]=wf(ni),[wa,pY]=Dn(ni,[KD,xa]),hc=xa(),[XD,Ns]=wa(ni),[QD,JD]=wa(ni),H1=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:i,value:a,defaultValue:o,onValueChange:l,dir:d,name:c,autoComplete:h,disabled:m,required:f,form:g}=e,y=hc(t),[x,E]=b.useState(null),[v,w]=b.useState(null),[T,S]=b.useState(!1),C=$u(d),[D,j]=Hr({prop:r,defaultProp:s??!1,onChange:i,caller:ni}),[F,V]=Hr({prop:a,defaultProp:o,onChange:l,caller:ni}),z=b.useRef(null),P=x?g||!!x.closest("form"):!0,[W,Q]=b.useState(new Set),te=Array.from(W).map(L=>L.props.value).join(";");return u.jsx(Ov,{...y,children:u.jsxs(XD,{required:f,scope:t,trigger:x,onTriggerChange:E,valueNode:v,onValueNodeChange:w,valueNodeHasChildren:T,onValueNodeHasChildrenChange:S,contentId:Er(),value:F,onValueChange:V,open:D,onOpenChange:j,dir:C,triggerPointerDownPosRef:z,disabled:m,children:[u.jsx(cc.Provider,{scope:t,children:u.jsx(QD,{scope:e.__scopeSelect,onNativeOptionAdd:b.useCallback(L=>{Q(U=>new Set(U).add(L))},[]),onNativeOptionRemove:b.useCallback(L=>{Q(U=>{const Y=new Set(U);return Y.delete(L),Y})},[]),children:n})}),P?u.jsxs(dE,{"aria-hidden":!0,required:f,tabIndex:-1,name:c,autoComplete:h,value:F,onChange:L=>V(L.target.value),disabled:m,form:g,children:[F===void 0?u.jsx("option",{value:""}):null,Array.from(W)]},te):null]})})};H1.displayName=ni;var $1="SelectTrigger",V1=b.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,i=hc(n),a=Ns($1,n),o=a.disabled||r,l=Ke(t,a.onTriggerChange),d=dc(n),c=b.useRef("touch"),[h,m,f]=fE(y=>{const x=d().filter(w=>!w.disabled),E=x.find(w=>w.value===a.value),v=mE(x,y,E);v!==void 0&&a.onValueChange(v.value)}),g=y=>{o||(a.onOpenChange(!0),f()),y&&(a.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return u.jsx(Bf,{asChild:!0,...i,children:u.jsx(Fe.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":hE(a.value)?"":void 0,...s,ref:l,onClick:Ee(s.onClick,y=>{y.currentTarget.focus(),c.current!=="mouse"&&g(y)}),onPointerDown:Ee(s.onPointerDown,y=>{c.current=y.pointerType;const x=y.target;x.hasPointerCapture(y.pointerId)&&x.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(g(y),y.preventDefault())}),onKeyDown:Ee(s.onKeyDown,y=>{const x=h.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&m(y.key),!(x&&y.key===" ")&&WD.includes(y.key)&&(g(),y.preventDefault())})})})});V1.displayName=$1;var z1="SelectValue",q1=b.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:a="",...o}=e,l=Ns(z1,n),{onValueNodeHasChildrenChange:d}=l,c=i!==void 0,h=Ke(t,l.onValueNodeChange);return On(()=>{d(c)},[d,c]),u.jsx(Fe.span,{...o,ref:h,style:{pointerEvents:"none"},children:hE(l.value)?u.jsx(u.Fragment,{children:a}):i})});q1.displayName=z1;var ZD="SelectIcon",G1=b.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return u.jsx(Fe.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});G1.displayName=ZD;var e3="SelectPortal",W1=e=>u.jsx(Tf,{asChild:!0,...e});W1.displayName=e3;var ri="SelectContent",Y1=b.forwardRef((e,t)=>{const n=Ns(ri,e.__scopeSelect),[r,s]=b.useState();if(On(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?zu.createPortal(u.jsx(K1,{scope:e.__scopeSelect,children:u.jsx(cc.Slot,{scope:e.__scopeSelect,children:u.jsx("div",{children:e.children})})}),i):null}return u.jsx(X1,{...e,ref:t})});Y1.displayName=ri;var Hn=10,[K1,ks]=wa(ri),t3="SelectContentImpl",n3=_f("SelectContent.RemoveScroll"),X1=b.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:o,sideOffset:l,align:d,alignOffset:c,arrowPadding:h,collisionBoundary:m,collisionPadding:f,sticky:g,hideWhenDetached:y,avoidCollisions:x,...E}=e,v=Ns(ri,n),[w,T]=b.useState(null),[S,C]=b.useState(null),D=Ke(t,G=>T(G)),[j,F]=b.useState(null),[V,z]=b.useState(null),P=dc(n),[W,Q]=b.useState(!1),te=b.useRef(!1);b.useEffect(()=>{if(w)return em(w)},[w]),Jf();const L=b.useCallback(G=>{const[ce,...de]=P().map(Te=>Te.ref.current),[be]=de.slice(-1),we=document.activeElement;for(const Te of G)if(Te===we||(Te==null||Te.scrollIntoView({block:"nearest"}),Te===ce&&S&&(S.scrollTop=0),Te===be&&S&&(S.scrollTop=S.scrollHeight),Te==null||Te.focus(),document.activeElement!==we))return},[P,S]),U=b.useCallback(()=>L([j,w]),[L,j,w]);b.useEffect(()=>{W&&U()},[W,U]);const{onOpenChange:Y,triggerPointerDownPosRef:O}=v;b.useEffect(()=>{if(w){let G={x:0,y:0};const ce=be=>{var we,Te;G={x:Math.abs(Math.round(be.pageX)-(((we=O.current)==null?void 0:we.x)??0)),y:Math.abs(Math.round(be.pageY)-(((Te=O.current)==null?void 0:Te.y)??0))}},de=be=>{G.x<=10&&G.y<=10?be.preventDefault():w.contains(be.target)||Y(!1),document.removeEventListener("pointermove",ce),O.current=null};return O.current!==null&&(document.addEventListener("pointermove",ce),document.addEventListener("pointerup",de,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ce),document.removeEventListener("pointerup",de,{capture:!0})}}},[w,Y,O]),b.useEffect(()=>{const G=()=>Y(!1);return window.addEventListener("blur",G),window.addEventListener("resize",G),()=>{window.removeEventListener("blur",G),window.removeEventListener("resize",G)}},[Y]);const[_,ee]=fE(G=>{const ce=P().filter(we=>!we.disabled),de=ce.find(we=>we.ref.current===document.activeElement),be=mE(ce,G,de);be&&setTimeout(()=>be.ref.current.focus())}),ie=b.useCallback((G,ce,de)=>{const be=!te.current&&!de;(v.value!==void 0&&v.value===ce||be)&&(F(G),be&&(te.current=!0))},[v.value]),k=b.useCallback(()=>w==null?void 0:w.focus(),[w]),ge=b.useCallback((G,ce,de)=>{const be=!te.current&&!de;(v.value!==void 0&&v.value===ce||be)&&z(G)},[v.value]),Re=r==="popper"?wh:Q1,Ae=Re===wh?{side:o,sideOffset:l,align:d,alignOffset:c,arrowPadding:h,collisionBoundary:m,collisionPadding:f,sticky:g,hideWhenDetached:y,avoidCollisions:x}:{};return u.jsx(K1,{scope:n,content:w,viewport:S,onViewportChange:C,itemRefCallback:ie,selectedItem:j,onItemLeave:k,itemTextRefCallback:ge,focusSelectedItem:U,selectedItemText:V,position:r,isPositioned:W,searchRef:_,children:u.jsx(uc,{as:n3,allowPinchZoom:!0,children:u.jsx(oc,{asChild:!0,trapped:v.open,onMountAutoFocus:G=>{G.preventDefault()},onUnmountAutoFocus:Ee(s,G=>{var ce;(ce=v.trigger)==null||ce.focus({preventScroll:!0}),G.preventDefault()}),children:u.jsx(Hu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:G=>G.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:u.jsx(Re,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:G=>G.preventDefault(),...E,...Ae,onPlaced:()=>Q(!0),ref:D,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:Ee(E.onKeyDown,G=>{const ce=G.ctrlKey||G.altKey||G.metaKey;if(G.key==="Tab"&&G.preventDefault(),!ce&&G.key.length===1&&ee(G.key),["ArrowUp","ArrowDown","Home","End"].includes(G.key)){let be=P().filter(we=>!we.disabled).map(we=>we.ref.current);if(["ArrowUp","End"].includes(G.key)&&(be=be.slice().reverse()),["ArrowUp","ArrowDown"].includes(G.key)){const we=G.target,Te=be.indexOf(we);be=be.slice(Te+1)}setTimeout(()=>L(be)),G.preventDefault()}})})})})})})});X1.displayName=t3;var r3="SelectItemAlignedPosition",Q1=b.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,i=Ns(ri,n),a=ks(ri,n),[o,l]=b.useState(null),[d,c]=b.useState(null),h=Ke(t,D=>c(D)),m=dc(n),f=b.useRef(!1),g=b.useRef(!0),{viewport:y,selectedItem:x,selectedItemText:E,focusSelectedItem:v}=a,w=b.useCallback(()=>{if(i.trigger&&i.valueNode&&o&&d&&y&&x&&E){const D=i.trigger.getBoundingClientRect(),j=d.getBoundingClientRect(),F=i.valueNode.getBoundingClientRect(),V=E.getBoundingClientRect();if(i.dir!=="rtl"){const we=V.left-j.left,Te=F.left-we,Xe=D.left-Te,Tt=D.width+Xe,St=Math.max(Tt,j.width),dn=window.innerWidth-Hn,wn=Gg(Te,[Hn,Math.max(Hn,dn-St)]);o.style.minWidth=Tt+"px",o.style.left=wn+"px"}else{const we=j.right-V.right,Te=window.innerWidth-F.right-we,Xe=window.innerWidth-D.right-Te,Tt=D.width+Xe,St=Math.max(Tt,j.width),dn=window.innerWidth-Hn,wn=Gg(Te,[Hn,Math.max(Hn,dn-St)]);o.style.minWidth=Tt+"px",o.style.right=wn+"px"}const z=m(),P=window.innerHeight-Hn*2,W=y.scrollHeight,Q=window.getComputedStyle(d),te=parseInt(Q.borderTopWidth,10),L=parseInt(Q.paddingTop,10),U=parseInt(Q.borderBottomWidth,10),Y=parseInt(Q.paddingBottom,10),O=te+L+W+Y+U,_=Math.min(x.offsetHeight*5,O),ee=window.getComputedStyle(y),ie=parseInt(ee.paddingTop,10),k=parseInt(ee.paddingBottom,10),ge=D.top+D.height/2-Hn,Re=P-ge,Ae=x.offsetHeight/2,G=x.offsetTop+Ae,ce=te+L+G,de=O-ce;if(ce<=ge){const we=z.length>0&&x===z[z.length-1].ref.current;o.style.bottom="0px";const Te=d.clientHeight-y.offsetTop-y.offsetHeight,Xe=Math.max(Re,Ae+(we?k:0)+Te+U),Tt=ce+Xe;o.style.height=Tt+"px"}else{const we=z.length>0&&x===z[0].ref.current;o.style.top="0px";const Xe=Math.max(ge,te+y.offsetTop+(we?ie:0)+Ae)+de;o.style.height=Xe+"px",y.scrollTop=ce-ge+y.offsetTop}o.style.margin=`${Hn}px 0`,o.style.minHeight=_+"px",o.style.maxHeight=P+"px",r==null||r(),requestAnimationFrame(()=>f.current=!0)}},[m,i.trigger,i.valueNode,o,d,y,x,E,i.dir,r]);On(()=>w(),[w]);const[T,S]=b.useState();On(()=>{d&&S(window.getComputedStyle(d).zIndex)},[d]);const C=b.useCallback(D=>{D&&g.current===!0&&(w(),v==null||v(),g.current=!1)},[w,v]);return u.jsx(i3,{scope:n,contentWrapper:o,shouldExpandOnScrollRef:f,onScrollButtonChange:C,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:u.jsx(Fe.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Q1.displayName=r3;var s3="SelectPopperPosition",wh=b.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Hn,...i}=e,a=hc(n);return u.jsx(Uf,{...a,...i,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});wh.displayName=s3;var[i3,tm]=wa(ri,{}),Th="SelectViewport",J1=b.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,i=ks(Th,n),a=tm(Th,n),o=Ke(t,i.onViewportChange),l=b.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(cc.Slot,{scope:n,children:u.jsx(Fe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ee(s.onScroll,d=>{const c=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=a;if(m!=null&&m.current&&h){const f=Math.abs(l.current-c.scrollTop);if(f>0){const g=window.innerHeight-Hn*2,y=parseFloat(h.style.minHeight),x=parseFloat(h.style.height),E=Math.max(y,x);if(E<g){const v=E+f,w=Math.min(g,v),T=v-w;h.style.height=w+"px",h.style.bottom==="0px"&&(c.scrollTop=T>0?T:0,h.style.justifyContent="flex-end")}}}l.current=c.scrollTop})})})]})});J1.displayName=Th;var Z1="SelectGroup",[a3,o3]=wa(Z1),l3=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Er();return u.jsx(a3,{scope:n,id:s,children:u.jsx(Fe.div,{role:"group","aria-labelledby":s,...r,ref:t})})});l3.displayName=Z1;var eE="SelectLabel",tE=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=o3(eE,n);return u.jsx(Fe.div,{id:s.id,...r,ref:t})});tE.displayName=eE;var mu="SelectItem",[u3,nE]=wa(mu),rE=b.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...a}=e,o=Ns(mu,n),l=ks(mu,n),d=o.value===r,[c,h]=b.useState(i??""),[m,f]=b.useState(!1),g=Ke(t,v=>{var w;return(w=l.itemRefCallback)==null?void 0:w.call(l,v,r,s)}),y=Er(),x=b.useRef("touch"),E=()=>{s||(o.onValueChange(r),o.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(u3,{scope:n,value:r,disabled:s,textId:y,isSelected:d,onItemTextChange:b.useCallback(v=>{h(w=>w||((v==null?void 0:v.textContent)??"").trim())},[]),children:u.jsx(cc.ItemSlot,{scope:n,value:r,disabled:s,textValue:c,children:u.jsx(Fe.div,{role:"option","aria-labelledby":y,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:g,onFocus:Ee(a.onFocus,()=>f(!0)),onBlur:Ee(a.onBlur,()=>f(!1)),onClick:Ee(a.onClick,()=>{x.current!=="mouse"&&E()}),onPointerUp:Ee(a.onPointerUp,()=>{x.current==="mouse"&&E()}),onPointerDown:Ee(a.onPointerDown,v=>{x.current=v.pointerType}),onPointerMove:Ee(a.onPointerMove,v=>{var w;x.current=v.pointerType,s?(w=l.onItemLeave)==null||w.call(l):x.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ee(a.onPointerLeave,v=>{var w;v.currentTarget===document.activeElement&&((w=l.onItemLeave)==null||w.call(l))}),onKeyDown:Ee(a.onKeyDown,v=>{var T;((T=l.searchRef)==null?void 0:T.current)!==""&&v.key===" "||(YD.includes(v.key)&&E(),v.key===" "&&v.preventDefault())})})})})});rE.displayName=mu;var Ka="SelectItemText",sE=b.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...i}=e,a=Ns(Ka,n),o=ks(Ka,n),l=nE(Ka,n),d=JD(Ka,n),[c,h]=b.useState(null),m=Ke(t,E=>h(E),l.onItemTextChange,E=>{var v;return(v=o.itemTextRefCallback)==null?void 0:v.call(o,E,l.value,l.disabled)}),f=c==null?void 0:c.textContent,g=b.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:f},l.value),[l.disabled,l.value,f]),{onNativeOptionAdd:y,onNativeOptionRemove:x}=d;return On(()=>(y(g),()=>x(g)),[y,x,g]),u.jsxs(u.Fragment,{children:[u.jsx(Fe.span,{id:l.textId,...i,ref:m}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?zu.createPortal(i.children,a.valueNode):null]})});sE.displayName=Ka;var iE="SelectItemIndicator",aE=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return nE(iE,n).isSelected?u.jsx(Fe.span,{"aria-hidden":!0,...r,ref:t}):null});aE.displayName=iE;var _h="SelectScrollUpButton",oE=b.forwardRef((e,t)=>{const n=ks(_h,e.__scopeSelect),r=tm(_h,e.__scopeSelect),[s,i]=b.useState(!1),a=Ke(t,r.onScrollButtonChange);return On(()=>{if(n.viewport&&n.isPositioned){let o=function(){const d=l.scrollTop>0;i(d)};const l=n.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),s?u.jsx(uE,{...e,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=n;o&&l&&(o.scrollTop=o.scrollTop-l.offsetHeight)}}):null});oE.displayName=_h;var Sh="SelectScrollDownButton",lE=b.forwardRef((e,t)=>{const n=ks(Sh,e.__scopeSelect),r=tm(Sh,e.__scopeSelect),[s,i]=b.useState(!1),a=Ke(t,r.onScrollButtonChange);return On(()=>{if(n.viewport&&n.isPositioned){let o=function(){const d=l.scrollHeight-l.clientHeight,c=Math.ceil(l.scrollTop)<d;i(c)};const l=n.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),s?u.jsx(uE,{...e,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=n;o&&l&&(o.scrollTop=o.scrollTop+l.offsetHeight)}}):null});lE.displayName=Sh;var uE=b.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,i=ks("SelectScrollButton",n),a=b.useRef(null),o=dc(n),l=b.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return b.useEffect(()=>()=>l(),[l]),On(()=>{var c;const d=o().find(h=>h.ref.current===document.activeElement);(c=d==null?void 0:d.ref.current)==null||c.scrollIntoView({block:"nearest"})},[o]),u.jsx(Fe.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Ee(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:Ee(s.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:Ee(s.onPointerLeave,()=>{l()})})}),c3="SelectSeparator",cE=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return u.jsx(Fe.div,{"aria-hidden":!0,...r,ref:t})});cE.displayName=c3;var Ch="SelectArrow",d3=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=hc(n),i=Ns(Ch,n),a=ks(Ch,n);return i.open&&a.position==="popper"?u.jsx(Hf,{...s,...r,ref:t}):null});d3.displayName=Ch;var h3="SelectBubbleInput",dE=b.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=b.useRef(null),i=Ke(r,s),a=Zf(t);return b.useEffect(()=>{const o=s.current;if(!o)return;const l=window.HTMLSelectElement.prototype,c=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==t&&c){const h=new Event("change",{bubbles:!0});c.call(o,t),o.dispatchEvent(h)}},[a,t]),u.jsx(Fe.select,{...n,style:{...eN,...n.style},ref:i,defaultValue:t})});dE.displayName=h3;function hE(e){return e===""||e===void 0}function fE(e){const t=ta(e),n=b.useRef(""),r=b.useRef(0),s=b.useCallback(a=>{const o=n.current+a;t(o),function l(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(o)},[t]),i=b.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function mE(e,t,n){const s=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let a=f3(e,Math.max(i,0));s.length===1&&(a=a.filter(d=>d!==n));const l=a.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function f3(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var m3=H1,pE=V1,p3=q1,g3=G1,y3=W1,gE=Y1,b3=J1,yE=tE,bE=rE,x3=sE,v3=aE,xE=oE,vE=lE,EE=cE;const wE=m3,TE=p3,nm=b.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(pE,{ref:r,className:I("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,u.jsx(g3,{asChild:!0,children:u.jsx(Cf,{className:"h-4 w-4 opacity-50"})})]}));nm.displayName=pE.displayName;const _E=b.forwardRef(({className:e,...t},n)=>u.jsx(xE,{ref:n,className:I("flex cursor-default items-center justify-center py-1",e),...t,children:u.jsx(wN,{className:"h-4 w-4"})}));_E.displayName=xE.displayName;const SE=b.forwardRef(({className:e,...t},n)=>u.jsx(vE,{ref:n,className:I("flex cursor-default items-center justify-center py-1",e),...t,children:u.jsx(Cf,{className:"h-4 w-4"})}));SE.displayName=vE.displayName;const rm=b.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>u.jsx(y3,{children:u.jsxs(gE,{ref:s,className:I("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[u.jsx(_E,{}),u.jsx(b3,{className:I("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),u.jsx(SE,{})]})}));rm.displayName=gE.displayName;const E3=b.forwardRef(({className:e,...t},n)=>u.jsx(yE,{ref:n,className:I("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));E3.displayName=yE.displayName;const sm=b.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(bE,{ref:r,className:I("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(v3,{children:u.jsx(Sf,{className:"h-4 w-4"})})}),u.jsx(x3,{children:t})]}));sm.displayName=bE.displayName;const w3=b.forwardRef(({className:e,...t},n)=>u.jsx(EE,{ref:n,className:I("-mx-1 my-1 h-px bg-muted",e),...t}));w3.displayName=EE.displayName;const r0=()=>{const{i18n:e}=el(),t=[{code:"en",name:"English"},{code:"es",name:"Espaol"},{code:"fr",name:"Franais"},{code:"de",name:"Deutsch"},{code:"ko",name:""},{code:"ja",name:""},{code:"zh-cn",name:""},{code:"nl",name:"Nederlands"},{code:"da",name:"Dansk"},{code:"sv",name:"Svenska"},{code:"fi",name:"Suomi"},{code:"it",name:"Italiano"},{code:"pt",name:"Portugus"}],n=s=>{e.changeLanguage(s)},r=t.find(s=>s.code===e.language);return u.jsxs(wE,{value:e.language,onValueChange:n,children:[u.jsx(nm,{className:"w-[140px] h-10 border-border bg-background",children:u.jsx(TE,{children:(r==null?void 0:r.name)||"English"})}),u.jsx(rm,{children:t.map(s=>u.jsx(sm,{value:s.code,children:s.name},s.code))})]})},Pt=()=>{const{isAuthenticated:e,user:t,signOut:n}=un(),[r,s]=b.useState(!1);En();const{t:i}=el(),a=()=>{s(!r)};return u.jsxs("header",{className:"py-3 px-3 md:py-4 md:px-8 border-b sticky top-0 bg-background/95 backdrop-blur-sm z-50",children:[u.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(it,{to:"/",className:"flex items-center space-x-2 mr-4 md:mr-8 no-underline",children:u.jsxs("span",{className:"text-lg md:text-2xl font-bold gradient-text font-playfair",children:[u.jsx("span",{className:"hidden sm:inline",children:"Mystery Maker"}),u.jsx("span",{className:"sm:hidden",children:"Mystery Maker"})]})}),u.jsx("nav",{className:"hidden md:flex items-center space-x-6"})]}),u.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[u.jsx(r0,{}),e?u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[(t==null?void 0:t.avatar)&&u.jsx("img",{src:t.avatar,alt:t.name,className:"w-8 h-8 rounded-full"}),u.jsx("span",{className:"font-medium font-inter",children:t==null?void 0:t.name})]}),u.jsx(Se,{variant:"outline",onClick:n,className:"no-underline font-inter",children:i("navigation.signOut")}),u.jsx(Se,{asChild:!0,className:"no-underline font-inter",children:u.jsx(it,{to:"/dashboard",children:i("navigation.dashboard")})})]}):u.jsxs(u.Fragment,{children:[u.jsx(Se,{asChild:!0,variant:"outline",className:"no-underline font-inter",children:u.jsx(it,{to:"/sign-in",children:i("navigation.signIn")})}),u.jsx(Se,{asChild:!0,className:"no-underline font-inter",children:u.jsx(it,{to:"/sign-up",children:i("navigation.signUp")})})]})]}),u.jsx("button",{className:"md:hidden text-foreground p-3 -mr-3 min-w-[44px] min-h-[44px] flex items-center justify-center",onClick:a,"aria-label":"Toggle menu","aria-expanded":r,children:r?u.jsx(Gu,{size:24}):u.jsx(PN,{size:24})})]}),r&&u.jsx("div",{className:"md:hidden absolute top-full left-0 right-0 bg-background border-b shadow-lg z-50",children:u.jsxs("div",{className:"p-4 space-y-4",children:[u.jsx("div",{className:"flex justify-center",children:u.jsx(r0,{})}),e?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center space-x-3 py-3 border-b border-border",children:[(t==null?void 0:t.avatar)&&u.jsx("img",{src:t.avatar,alt:t.name,className:"w-8 h-8 rounded-full"}),u.jsx("span",{className:"font-medium text-sm font-inter",children:t==null?void 0:t.name})]}),u.jsx(Se,{asChild:!0,className:"w-full h-12 no-underline text-base font-inter",onClick:a,children:u.jsx(it,{to:"/dashboard",children:i("navigation.dashboard")})}),u.jsx(Se,{variant:"outline",className:"w-full h-12 no-underline text-base font-inter",onClick:()=>{n(),a()},children:i("navigation.signOut")})]}):u.jsxs(u.Fragment,{children:[u.jsx(Se,{asChild:!0,variant:"outline",className:"w-full h-12 no-underline text-base font-inter",onClick:a,children:u.jsx(it,{to:"/sign-in",children:i("navigation.signIn")})}),u.jsx(Se,{asChild:!0,className:"w-full h-12 no-underline text-base font-inter",onClick:a,children:u.jsx(it,{to:"/sign-up",children:i("navigation.signUp")})})]})]})})]})},tl=b.forwardRef(({className:e,...t},n)=>u.jsx("textarea",{className:I("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));tl.displayName="Textarea";function T3({minHeight:e=56,maxHeight:t=200}={}){const n=b.useRef(null),r=b.useCallback((s=!1)=>{const i=n.current;if(!i)return;if(s){i.style.height=`${e}px`;return}i.style.height=`${e}px`;const a=i.scrollHeight;i.style.height=`${Math.min(a,t)}px`},[e,t]);return{textareaRef:n,adjustHeight:r}}function _3({id:e="ai-input-with-loading",placeholder:t="Ask me anything!",minHeight:n=56,maxHeight:r=200,loadingDuration:s=3e3,thinkingDuration:i=1e3,onSubmit:a,className:o,autoAnimate:l=!1,value:d,setValue:c,loading:h=!1}){const[m,f]=b.useState(d||""),[g,y]=b.useState(l||h),[x,E]=b.useState(l),{textareaRef:v,adjustHeight:w}=T3({minHeight:n,maxHeight:r});b.useEffect(()=>{d!==void 0&&(f(d),setTimeout(()=>w(),0))},[d,w]),b.useEffect(()=>{y(h)},[h]),b.useEffect(()=>{let C;const D=()=>{x&&(y(!0),C=setTimeout(()=>{y(!1),C=setTimeout(D,i)},s))};return x&&D(),()=>clearTimeout(C)},[x,s,i]);const T=async()=>{!m.trim()||g||(y(!0),await(a==null?void 0:a(m)),f(""),w(!0),setTimeout(()=>{y(!1)},s))},S=C=>{const D=C.target.value;f(D),c&&c(D),w()};return u.jsx("div",{className:I("w-full py-4",o),children:u.jsxs("div",{className:"relative max-w-xl w-full mx-auto flex items-start flex-col gap-2",children:[u.jsxs("div",{className:"relative max-w-xl w-full mx-auto",children:[u.jsx(tl,{id:e,placeholder:t,className:I("max-w-xl bg-black/5 dark:bg-white/5 w-full rounded-3xl pl-6 pr-10 py-4","placeholder:text-black/70 dark:placeholder:text-white/70","border-none ring-black/30 dark:ring-white/30","text-black dark:text-white resize-none text-wrap leading-[1.2]",`min-h-[${n}px]`),ref:v,value:m,onChange:S,onKeyDown:C=>{C.key==="Enter"&&!C.shiftKey&&(C.preventDefault(),T())},disabled:g}),u.jsx("button",{onClick:T,className:I("absolute right-3 top-1/2 -translate-y-1/2 rounded-xl py-1 px-1",g?"bg-none":"bg-black/5 dark:bg-white/5"),type:"button",disabled:g,children:g?u.jsx("div",{className:"w-4 h-4 bg-black dark:bg-white rounded-sm animate-spin transition duration-700",style:{animationDuration:"3s"}}):u.jsx(CN,{className:I("w-4 h-4 transition-opacity dark:text-white",m?"opacity-100":"opacity-30")})})]}),u.jsx("p",{className:"pl-4 h-4 text-xs mx-auto text-black/70 dark:text-white/70",children:g?"AI is thinking...":""})]})})}var fc="Dialog",[CE,AE]=Dn(fc),[S3,rr]=CE(fc),NE=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:a=!0}=e,o=b.useRef(null),l=b.useRef(null),[d,c]=Hr({prop:r,defaultProp:s??!1,onChange:i,caller:fc});return u.jsx(S3,{scope:t,triggerRef:o,contentRef:l,contentId:Er(),titleId:Er(),descriptionId:Er(),open:d,onOpenChange:c,onOpenToggle:b.useCallback(()=>c(h=>!h),[c]),modal:a,children:n})};NE.displayName=fc;var kE="DialogTrigger",IE=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=rr(kE,n),i=Ke(t,s.triggerRef);return u.jsx(Fe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":om(s.open),...r,ref:i,onClick:Ee(e.onClick,s.onOpenToggle)})});IE.displayName=kE;var im="DialogPortal",[C3,RE]=CE(im,{forceMount:void 0}),PE=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,i=rr(im,t);return u.jsx(C3,{scope:t,forceMount:n,children:b.Children.map(r,a=>u.jsx(kr,{present:n||i.open,children:u.jsx(Tf,{asChild:!0,container:s,children:a})}))})};PE.displayName=im;var pu="DialogOverlay",OE=b.forwardRef((e,t)=>{const n=RE(pu,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=rr(pu,e.__scopeDialog);return i.modal?u.jsx(kr,{present:r||i.open,children:u.jsx(N3,{...s,ref:t})}):null});OE.displayName=pu;var A3=_f("DialogOverlay.RemoveScroll"),N3=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=rr(pu,n);return u.jsx(uc,{as:A3,allowPinchZoom:!0,shards:[s.contentRef],children:u.jsx(Fe.div,{"data-state":om(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),si="DialogContent",DE=b.forwardRef((e,t)=>{const n=RE(si,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=rr(si,e.__scopeDialog);return u.jsx(kr,{present:r||i.open,children:i.modal?u.jsx(k3,{...s,ref:t}):u.jsx(I3,{...s,ref:t})})});DE.displayName=si;var k3=b.forwardRef((e,t)=>{const n=rr(si,e.__scopeDialog),r=b.useRef(null),s=Ke(t,n.contentRef,r);return b.useEffect(()=>{const i=r.current;if(i)return em(i)},[]),u.jsx(ME,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ee(e.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Ee(e.onPointerDownOutside,i=>{const a=i.detail.originalEvent,o=a.button===0&&a.ctrlKey===!0;(a.button===2||o)&&i.preventDefault()}),onFocusOutside:Ee(e.onFocusOutside,i=>i.preventDefault())})}),I3=b.forwardRef((e,t)=>{const n=rr(si,e.__scopeDialog),r=b.useRef(!1),s=b.useRef(!1);return u.jsx(ME,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,o;(a=e.onCloseAutoFocus)==null||a.call(e,i),i.defaultPrevented||(r.current||(o=n.triggerRef.current)==null||o.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,d;(l=e.onInteractOutside)==null||l.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),ME=b.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=e,o=rr(si,n),l=b.useRef(null),d=Ke(t,l);return Jf(),u.jsxs(u.Fragment,{children:[u.jsx(oc,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:u.jsx(Hu,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":om(o.open),...a,ref:d,onDismiss:()=>o.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(P3,{titleId:o.titleId}),u.jsx(D3,{contentRef:l,descriptionId:o.descriptionId})]})]})}),am="DialogTitle",LE=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=rr(am,n);return u.jsx(Fe.h2,{id:s.titleId,...r,ref:t})});LE.displayName=am;var jE="DialogDescription",FE=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=rr(jE,n);return u.jsx(Fe.p,{id:s.descriptionId,...r,ref:t})});FE.displayName=jE;var BE="DialogClose",UE=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=rr(BE,n);return u.jsx(Fe.button,{type:"button",...r,ref:t,onClick:Ee(e.onClick,()=>s.onOpenChange(!1))})});UE.displayName=BE;function om(e){return e?"open":"closed"}var HE="DialogTitleWarning",[R3,$E]=tN(HE,{contentName:si,titleName:am,docsSlug:"dialog"}),P3=({titleId:e})=>{const t=$E(HE),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return b.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},O3="DialogDescriptionWarning",D3=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${$E(O3).contentName}}.`;return b.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},lm=NE,VE=IE,um=PE,nl=OE,rl=DE,sl=LE,il=FE,al=UE;const zE=lm,M3=um,qE=b.forwardRef(({className:e,...t},n)=>u.jsx(nl,{ref:n,className:I("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));qE.displayName=nl.displayName;const cm=b.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(M3,{children:[u.jsx(qE,{}),u.jsxs(rl,{ref:r,className:I("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,u.jsxs(al,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[u.jsx(Gu,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));cm.displayName=rl.displayName;const dm=({className:e,...t})=>u.jsx("div",{className:I("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});dm.displayName="DialogHeader";const hm=b.forwardRef(({className:e,...t},n)=>u.jsx(sl,{ref:n,className:I("text-lg font-semibold leading-none tracking-tight",e),...t}));hm.displayName=sl.displayName;const GE=b.forwardRef(({className:e,...t},n)=>u.jsx(il,{ref:n,className:I("text-sm text-muted-foreground",e),...t}));GE.displayName=il.displayName;const L3=({isOpen:e,onClose:t})=>u.jsx(zE,{open:e,onOpenChange:t,children:u.jsxs(cm,{className:"sm:max-w-md",children:[u.jsxs(dm,{children:[u.jsx(hm,{className:"text-xl font-bold text-center",children:"Sign in to continue"}),u.jsx(GE,{className:"text-center pt-2",children:"To create your own custom murder mystery, create an account or log into an existing one."})]}),u.jsxs("div",{className:"flex flex-col space-y-3 pt-4",children:[u.jsx(Se,{className:"w-full",asChild:!0,children:u.jsx(it,{to:"/sign-up",children:"Sign Up"})}),u.jsx(Se,{variant:"outline",className:"w-full",asChild:!0,children:u.jsx(it,{to:"/sign-in",children:"Sign In"})})]})]})}),j3=[{name:"hero.themes.1920sSpeakeasy",prompt:"I want to host a 1920s Speakeasy themed murder mystery set during the prohibition era."},{name:"hero.themes.hollywoodMurder",prompt:"Design a murder mystery that takes place on a Hollywood film set in the golden age of cinema."},{name:"hero.themes.castleMystery",prompt:"Develop a murder mystery set in a remote medieval castle that's been converted into a luxury hotel."},{name:"hero.themes.sciFiMystery",prompt:"Design a murder mystery set aboard a research space station orbiting a newly discovered exoplanet."},{name:"hero.themes.artGalleryOpening",prompt:"Create a murder mystery set in a prestigious art gallery during a high-profile exhibition opening."},{name:"hero.themes.bakeryCompetition",prompt:"Design a murder mystery centered around a small-town bakery competition."},{name:"hero.themes.mountainSkiResort",prompt:"Develop a murder mystery at an isolated mountain ski resort during a blizzard."},{name:"hero.themes.luxuryTrainJourney",prompt:"Craft a mystery set on a luxury train journey through the Swiss Alps."},{name:"hero.themes.historicUniversity",prompt:"Build a murder mystery set at a historic university with a haunted past."},{name:"hero.themes.pokerTournament",prompt:"Create a mystery at a high-stakes poker tournament ."},{name:"hero.themes.barbieDreamworld",prompt:"Design a murder mystery in a Barbie-inspired dreamworld where everything is pink and perfect."},{name:"hero.themes.dystopianWaterworld",prompt:"Craft a dystopian future mystery where water is the most precious resource."},{name:"hero.themes.jungleSteampunk",prompt:"Develop a murder mystery set in the jungle with steampunk technology and vibes."},{name:"hero.themes.magicalBakery",prompt:"Create a murder mystery in a magical bakery where enchanted desserts are the specialty."},{name:"hero.themes.gamingTournament",prompt:"Design a video game-themed mystery where players at a gaming tournament."},{name:"hero.themes.synthwave80s",prompt:"Craft a mystery set in an alternate 1980s where synthwave music controls emotions."},{name:"hero.themes.beachResort",prompt:"Develop a murder mystery at a tropical beach resort."},{name:"hero.themes.operaHouse",prompt:"Create a mystery set during a premiere at a historic opera house."},{name:"hero.themes.wineCountry",prompt:"Design a whodunit at a prestigious vineyard during harvest season."},{name:"hero.themes.safariAdventure",prompt:"Craft a murder mystery during an African safari expedition."},{name:"hero.themes.fashionShow",prompt:"Build a mystery backstage at a high-profile fashion show."},{name:"hero.themes.casinoNight",prompt:"Create a mystery during a charity casino night fundraiser."},{name:"hero.themes.fairyTaleKingdom",prompt:"Design a murder mystery in an enchanted fairy tale kingdom."},{name:"hero.themes.spaceColony",prompt:"Craft a mystery on humanity's first Mars colony."},{name:"hero.themes.superheroAcademy",prompt:"Develop a mystery at a school for young superheroes in training."},{name:"hero.themes.underwaterCity",prompt:"Create a murder mystery in a futuristic underwater city."},{name:"hero.themes.wildWestSaloon",prompt:"Design a mystery in a frontier town during the gold rush."},{name:"hero.themes.vikingFeast",prompt:"Craft a murder mystery during a traditional Viking celebration."},{name:"hero.themes.candyKingdom",prompt:"Create a murder mystery in a world where everything is made of sweets and sugar."},{name:"hero.themes.dragonsLair",prompt:"Design a mystery in a medieval fantasy world where humans and dragons coexist."},{name:"hero.themes.timeTravelersBall",prompt:"Craft a murder mystery at a gathering where attendees come from different time periods."},{name:"hero.themes.atlantisRising",prompt:"Develop a mystery in the recently emerged ancient city of Atlantis."},{name:"hero.themes.toyBoxAdventure",prompt:"Create a mystery where toys come to life when humans aren't looking."},{name:"hero.themes.vampireMasquerade",prompt:"Design a mystery at an exclusive vampire society's annual blood ball."},{name:"hero.themes.dimensionHopping",prompt:"Craft a mystery that spans multiple parallel universes."},{name:"hero.themes.cyberpunkNightclub",prompt:"Create a murder mystery in a neon-soaked cyberpunk nightclub."},{name:"hero.themes.ghostShip",prompt:"Design a mystery aboard a legendary vessel that vanished centuries ago and has mysteriously reappeared."},{name:"hero.themes.sentientPlantColony",prompt:"Create a murder mystery in a society of intelligent, mobile plants with a complex social hierarchy."}],F3=()=>{const[e,t]=b.useState([]),[n,r]=b.useState(""),[s,i]=b.useState(!1),[a,o]=b.useState(!1),{isAuthenticated:l,user:d}=un(),c=En(),{t:h}=el(),m=()=>[...j3].sort(()=>.5-Math.random()).slice(0,4);b.useEffect(()=>{t(m())},[]);const f=x=>{r(x)},g=x=>{const E=x.match(/theme[d]?\s+(is|of|as|for|about|like)?\s+([a-zA-Z0-9\s'"-]+)/i);if(E&&E[2])return E[2].trim();const v=["speakeasy","hollywood","castle","space","gallery","bakery","resort","train","university","tournament","dreamworld","waterworld","jungle","magical","gaming","80s","beach","opera","vineyard","safari","fashion","casino","fairy tale","colony","superhero","underwater","wild west","viking","candy","dragon","time travel","atlantis","toys","vampire","dimension","cyberpunk","ghost ship","plant"],w=x.toLowerCase();for(const T of v)if(w.includes(T))return T.charAt(0).toUpperCase()+T.slice(1);return"Murder Mystery"},y=x=>{if(!x.trim()){se.error("Please enter a description for your mystery");return}if(l){o(!0);try{const E=g(x);console.log("Navigating to create page with theme:",E),c(`/mystery/create?input=${encodeURIComponent(x)}`)}catch(E){console.error("Error:",E),se.error("Something went wrong. Please try again.")}finally{o(!1)}}else i(!0)};return u.jsx("div",{className:"py-8 sm:py-12 md:py-20 px-2 sm:px-4 md:px-6 lg:px-8 bg-background",children:u.jsxs("div",{className:"w-full max-w-7xl mx-auto text-center",children:[u.jsx("div",{className:"flex justify-center mb-4 sm:mb-6",children:u.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24 rounded-full bg-gradient-to-r from-primary to-secondary opacity-90 blur-sm"})}),u.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-7xl font-bold mb-3 sm:mb-4 tracking-tight leading-tight font-playfair",children:h("hero.title")}),u.jsx("p",{className:"text-lg sm:text-xl text-muted-foreground max-w-2xl mx-auto mb-4 sm:mb-5 px-2 font-inter",children:h(l?"hero.subtitleAuth":"hero.subtitle")}),u.jsx("div",{className:"max-w-xl mx-auto px-2 sm:px-0",children:u.jsx(_3,{placeholder:h(l?"hero.placeholderAuth":"hero.placeholder"),value:n,setValue:r,onSubmit:y,loading:a})}),u.jsx("div",{className:"flex flex-wrap justify-center gap-2 sm:gap-3 md:gap-4 mt-4 sm:mt-5 px-2",children:e.map(x=>u.jsxs(Se,{variant:"outline",className:"rounded-full px-3 sm:px-4 md:px-6 border-border/50 bg-card/30 backdrop-blur-sm text-xs sm:text-sm h-8 sm:h-9 md:h-10 font-inter",onClick:()=>f(x.prompt),children:[u.jsx("span",{className:"truncate max-w-[120px] sm:max-w-none",children:h(x.name)}),u.jsx(qu,{className:"ml-1 sm:ml-2 h-3 w-3 sm:h-4 sm:w-4 flex-shrink-0"})]},x.name))}),u.jsx(L3,{isOpen:s,onClose:()=>i(!1)})]})})},Vt=()=>{const{isAuthenticated:e}=un(),{t}=el(),n=new Date().getFullYear();return e?null:u.jsx("footer",{className:"bg-muted/30 border-t py-12 px-4",children:u.jsxs("div",{className:"container mx-auto",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx(it,{to:"/",className:"flex items-center space-x-2 no-underline",children:u.jsx("span",{className:"text-xl font-bold gradient-text",children:"Murder Mystery Generator"})}),u.jsx("p",{className:"text-muted-foreground",children:t("footer.tagline")})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"font-medium text-lg",children:t("footer.quickLinks")}),u.jsxs("ul",{className:"space-y-2",children:[u.jsx("li",{children:u.jsx(it,{to:"/",className:"text-muted-foreground hover:text-foreground transition-colors no-underline",children:t("footer.links.home")})}),u.jsx("li",{children:u.jsx(it,{to:"/support",className:"text-muted-foreground hover:text-foreground transition-colors no-underline",children:t("footer.links.support")})})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"font-medium text-lg",children:t("footer.company")}),u.jsxs("ul",{className:"space-y-2",children:[u.jsx("li",{children:u.jsx(it,{to:"/contact",className:"text-muted-foreground hover:text-foreground transition-colors no-underline",children:t("footer.links.contact")})}),u.jsx("li",{children:u.jsx(it,{to:"/privacy",className:"text-muted-foreground hover:text-foreground transition-colors no-underline",children:t("footer.links.privacy")})})]})]})]}),u.jsx("div",{className:"mt-12 pt-8 border-t flex flex-col md:flex-row justify-between items-center",children:u.jsxs("p",{className:"text-muted-foreground text-sm",children:[" ",n," ",t("footer.copyright")]})})]})})},fm=({title:e="Murder Mystery Party Generator",description:t="Create custom murder mystery parties with our AI-powered generator. Perfect for parties, team building, and events.",canonical:n="https://murder-mystery.party",image:r="https://github.com/CoachJ87/murder-mystery-party-generator/blob/main/public/images/custom_themes.png?raw=true"})=>{const s=`${e} | Murder Mystery Party Generator`;return u.jsxs(FO,{children:[u.jsx("title",{children:s}),u.jsx("meta",{name:"description",content:t}),u.jsx("link",{rel:"canonical",href:n}),u.jsx("meta",{property:"og:type",content:"website"}),u.jsx("meta",{property:"og:url",content:n}),u.jsx("meta",{property:"og:title",content:s}),u.jsx("meta",{property:"og:description",content:t}),u.jsx("meta",{property:"og:image",content:r}),u.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),u.jsx("meta",{name:"twitter:url",content:n}),u.jsx("meta",{name:"twitter:title",content:s}),u.jsx("meta",{name:"twitter:description",content:t}),u.jsx("meta",{name:"twitter:image",content:r})]})},mm=b.createContext({});function pm(e){const t=b.useRef(null);return t.current===null&&(t.current=e()),t.current}const gm=typeof window<"u",WE=gm?b.useLayoutEffect:b.useEffect,mc=b.createContext(null);function ym(e,t){e.indexOf(t)===-1&&e.push(t)}function bm(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const zr=(e,t,n)=>n>t?t:n<e?e:n;let gu=()=>{};const qr={},YE=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function KE(e){return typeof e=="object"&&e!==null}const XE=e=>/^0[^.\s]+$/u.test(e);function xm(e){let t;return()=>(t===void 0&&(t=e()),t)}const Rn=e=>e,B3=(e,t)=>n=>t(e(n)),ol=(...e)=>e.reduce(B3),Io=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class vm{constructor(){this.subscriptions=[]}add(t){return ym(this.subscriptions,t),()=>bm(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Tr=e=>e*1e3,_r=e=>e/1e3;function QE(e,t){return t?e*(1e3/t):0}const JE=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,U3=1e-7,H3=12;function $3(e,t,n,r,s){let i,a,o=0;do a=t+(n-t)/2,i=JE(a,r,s)-e,i>0?n=a:t=a;while(Math.abs(i)>U3&&++o<H3);return a}function ll(e,t,n,r){if(e===t&&n===r)return Rn;const s=i=>$3(i,0,1,e,n);return i=>i===0||i===1?i:JE(s(i),t,r)}const ZE=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ew=e=>t=>1-e(1-t),tw=ll(.33,1.53,.69,.99),Em=ew(tw),nw=ZE(Em),rw=e=>(e*=2)<1?.5*Em(e):.5*(2-Math.pow(2,-10*(e-1))),wm=e=>1-Math.sin(Math.acos(e)),sw=ew(wm),iw=ZE(wm),V3=ll(.42,0,1,1),z3=ll(0,0,.58,1),aw=ll(.42,0,.58,1),q3=e=>Array.isArray(e)&&typeof e[0]!="number",ow=e=>Array.isArray(e)&&typeof e[0]=="number",s0={linear:Rn,easeIn:V3,easeInOut:aw,easeOut:z3,circIn:wm,circInOut:iw,circOut:sw,backIn:Em,backInOut:nw,backOut:tw,anticipate:rw},G3=e=>typeof e=="string",i0=e=>{if(ow(e)){gu(e.length===4);const[t,n,r,s]=e;return ll(t,n,r,s)}else if(G3(e))return gu(s0[e]!==void 0),s0[e];return e},Pl=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],a0={value:null,addProjectionMetrics:null};function W3(e,t){let n=new Set,r=new Set,s=!1,i=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},l=0;function d(h){a.has(h)&&(c.schedule(h),e()),l++,h(o)}const c={schedule:(h,m=!1,f=!1)=>{const y=f&&s?n:r;return m&&a.add(h),y.has(h)||y.add(h),h},cancel:h=>{r.delete(h),a.delete(h)},process:h=>{if(o=h,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(d),t&&a0.value&&a0.value.frameloop[t].push(l),l=0,n.clear(),s=!1,i&&(i=!1,c.process(h))}};return c}const Y3=40;function lw(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=Pl.reduce((w,T)=>(w[T]=W3(i,t?T:void 0),w),{}),{setup:o,read:l,resolveKeyframes:d,preUpdate:c,update:h,preRender:m,render:f,postRender:g}=a,y=()=>{const w=qr.useManualTiming?s.timestamp:performance.now();n=!1,qr.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(w-s.timestamp,Y3),1)),s.timestamp=w,s.isProcessing=!0,o.process(s),l.process(s),d.process(s),c.process(s),h.process(s),m.process(s),f.process(s),g.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(y))},x=()=>{n=!0,r=!0,s.isProcessing||e(y)};return{schedule:Pl.reduce((w,T)=>{const S=a[T];return w[T]=(C,D=!1,j=!1)=>(n||x(),S.schedule(C,D,j)),w},{}),cancel:w=>{for(let T=0;T<Pl.length;T++)a[Pl[T]].cancel(w)},state:s,steps:a}}const{schedule:ct,cancel:ws,state:Mt,steps:md}=lw(typeof requestAnimationFrame<"u"?requestAnimationFrame:Rn,!0);let Xl;function K3(){Xl=void 0}const an={now:()=>(Xl===void 0&&an.set(Mt.isProcessing||qr.useManualTiming?Mt.timestamp:performance.now()),Xl),set:e=>{Xl=e,queueMicrotask(K3)}},uw=e=>t=>typeof t=="string"&&t.startsWith(e),Tm=uw("--"),X3=uw("var(--"),_m=e=>X3(e)?Q3.test(e.split("/*")[0].trim()):!1,Q3=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ta={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ro={...Ta,transform:e=>zr(0,1,e)},Ol={...Ta,default:1},ao=e=>Math.round(e*1e5)/1e5,Sm=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function J3(e){return e==null}const Z3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Cm=(e,t)=>n=>!!(typeof n=="string"&&Z3.test(n)&&n.startsWith(e)||t&&!J3(n)&&Object.prototype.hasOwnProperty.call(n,t)),cw=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,a,o]=r.match(Sm);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},eM=e=>zr(0,255,e),pd={...Ta,transform:e=>Math.round(eM(e))},Us={test:Cm("rgb","red"),parse:cw("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+pd.transform(e)+", "+pd.transform(t)+", "+pd.transform(n)+", "+ao(Ro.transform(r))+")"};function tM(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Ah={test:Cm("#"),parse:tM,transform:Us.transform},ul=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),as=ul("deg"),Sr=ul("%"),Ne=ul("px"),nM=ul("vh"),rM=ul("vw"),o0={...Sr,parse:e=>Sr.parse(e)/100,transform:e=>Sr.transform(e*100)},ki={test:Cm("hsl","hue"),parse:cw("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Sr.transform(ao(t))+", "+Sr.transform(ao(n))+", "+ao(Ro.transform(r))+")"},Bt={test:e=>Us.test(e)||Ah.test(e)||ki.test(e),parse:e=>Us.test(e)?Us.parse(e):ki.test(e)?ki.parse(e):Ah.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Us.transform(e):ki.transform(e)},sM=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function iM(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Sm))==null?void 0:t.length)||0)+(((n=e.match(sM))==null?void 0:n.length)||0)>0}const dw="number",hw="color",aM="var",oM="var(",l0="${}",lM=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Po(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const o=t.replace(lM,l=>(Bt.test(l)?(r.color.push(i),s.push(hw),n.push(Bt.parse(l))):l.startsWith(oM)?(r.var.push(i),s.push(aM),n.push(l)):(r.number.push(i),s.push(dw),n.push(parseFloat(l))),++i,l0)).split(l0);return{values:n,split:o,indexes:r,types:s}}function fw(e){return Po(e).values}function mw(e){const{split:t,types:n}=Po(e),r=t.length;return s=>{let i="";for(let a=0;a<r;a++)if(i+=t[a],s[a]!==void 0){const o=n[a];o===dw?i+=ao(s[a]):o===hw?i+=Bt.transform(s[a]):i+=s[a]}return i}}const uM=e=>typeof e=="number"?0:e;function cM(e){const t=fw(e);return mw(e)(t.map(uM))}const Ts={test:iM,parse:fw,createTransformer:mw,getAnimatableNone:cM};function gd(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function dM({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,a=0;if(!t)s=i=a=n;else{const o=n<.5?n*(1+t):n+t-n*t,l=2*n-o;s=gd(l,o,e+1/3),i=gd(l,o,e),a=gd(l,o,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}function yu(e,t){return n=>n>0?t:e}const ut=(e,t,n)=>e+(t-e)*n,yd=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},hM=[Ah,Us,ki],fM=e=>hM.find(t=>t.test(e));function u0(e){const t=fM(e);if(!t)return!1;let n=t.parse(e);return t===ki&&(n=dM(n)),n}const c0=(e,t)=>{const n=u0(e),r=u0(t);if(!n||!r)return yu(e,t);const s={...n};return i=>(s.red=yd(n.red,r.red,i),s.green=yd(n.green,r.green,i),s.blue=yd(n.blue,r.blue,i),s.alpha=ut(n.alpha,r.alpha,i),Us.transform(s))},Nh=new Set(["none","hidden"]);function mM(e,t){return Nh.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function pM(e,t){return n=>ut(e,t,n)}function Am(e){return typeof e=="number"?pM:typeof e=="string"?_m(e)?yu:Bt.test(e)?c0:bM:Array.isArray(e)?pw:typeof e=="object"?Bt.test(e)?c0:gM:yu}function pw(e,t){const n=[...e],r=n.length,s=e.map((i,a)=>Am(i)(i,t[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}}function gM(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=Am(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function yM(e,t){const n=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],a=e.indexes[i][r[i]],o=e.values[a]??0;n[s]=o,r[i]++}return n}const bM=(e,t)=>{const n=Ts.createTransformer(t),r=Po(e),s=Po(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Nh.has(e)&&!s.values.length||Nh.has(t)&&!r.values.length?mM(e,t):ol(pw(yM(r,s),s.values),n):yu(e,t)};function gw(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ut(e,t,n):Am(e)(e,t)}const xM=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>ct.update(t,n),stop:()=>ws(t),now:()=>Mt.isProcessing?Mt.timestamp:an.now()}},yw=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=e(i/(s-1))+", ";return`linear(${r.substring(0,r.length-2)})`},bu=2e4;function Nm(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<bu;)t+=n,r=e.next(t);return t>=bu?1/0:t}function vM(e,t=100,n){const r=n({...e,keyframes:[0,t]}),s=Math.min(Nm(r),bu);return{type:"keyframes",ease:i=>r.next(s*i).value/t,duration:_r(s)}}const EM=5;function bw(e,t,n){const r=Math.max(t-EM,0);return QE(n-e(r),t-r)}const pt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},bd=.001;function wM({duration:e=pt.duration,bounce:t=pt.bounce,velocity:n=pt.velocity,mass:r=pt.mass}){let s,i,a=1-t;a=zr(pt.minDamping,pt.maxDamping,a),e=zr(pt.minDuration,pt.maxDuration,_r(e)),a<1?(s=d=>{const c=d*a,h=c*e,m=c-n,f=kh(d,a),g=Math.exp(-h);return bd-m/f*g},i=d=>{const h=d*a*e,m=h*n+n,f=Math.pow(a,2)*Math.pow(d,2)*e,g=Math.exp(-h),y=kh(Math.pow(d,2),a);return(-s(d)+bd>0?-1:1)*((m-f)*g)/y}):(s=d=>{const c=Math.exp(-d*e),h=(d-n)*e+1;return-bd+c*h},i=d=>{const c=Math.exp(-d*e),h=(n-d)*(e*e);return c*h});const o=5/e,l=_M(s,i,o);if(e=Tr(e),isNaN(l))return{stiffness:pt.stiffness,damping:pt.damping,duration:e};{const d=Math.pow(l,2)*r;return{stiffness:d,damping:a*2*Math.sqrt(r*d),duration:e}}}const TM=12;function _M(e,t,n){let r=n;for(let s=1;s<TM;s++)r=r-e(r)/t(r);return r}function kh(e,t){return e*Math.sqrt(1-t*t)}const SM=["duration","bounce"],CM=["stiffness","damping","mass"];function d0(e,t){return t.some(n=>e[n]!==void 0)}function AM(e){let t={velocity:pt.velocity,stiffness:pt.stiffness,damping:pt.damping,mass:pt.mass,isResolvedFromDuration:!1,...e};if(!d0(e,CM)&&d0(e,SM))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*zr(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:pt.mass,stiffness:s,damping:i}}else{const n=wM(e);t={...t,...n,mass:pt.mass},t.isResolvedFromDuration=!0}return t}function xu(e=pt.visualDuration,t=pt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:i},{stiffness:l,damping:d,mass:c,duration:h,velocity:m,isResolvedFromDuration:f}=AM({...n,velocity:-_r(n.velocity||0)}),g=m||0,y=d/(2*Math.sqrt(l*c)),x=a-i,E=_r(Math.sqrt(l/c)),v=Math.abs(x)<5;r||(r=v?pt.restSpeed.granular:pt.restSpeed.default),s||(s=v?pt.restDelta.granular:pt.restDelta.default);let w;if(y<1){const S=kh(E,y);w=C=>{const D=Math.exp(-y*E*C);return a-D*((g+y*E*x)/S*Math.sin(S*C)+x*Math.cos(S*C))}}else if(y===1)w=S=>a-Math.exp(-E*S)*(x+(g+E*x)*S);else{const S=E*Math.sqrt(y*y-1);w=C=>{const D=Math.exp(-y*E*C),j=Math.min(S*C,300);return a-D*((g+y*E*x)*Math.sinh(j)+S*x*Math.cosh(j))/S}}const T={calculatedDuration:f&&h||null,next:S=>{const C=w(S);if(f)o.done=S>=h;else{let D=S===0?g:0;y<1&&(D=S===0?Tr(g):bw(w,S,C));const j=Math.abs(D)<=r,F=Math.abs(a-C)<=s;o.done=j&&F}return o.value=o.done?a:C,o},toString:()=>{const S=Math.min(Nm(T),bu),C=yw(D=>T.next(S*D).value,S,30);return S+"ms "+C},toTransition:()=>{}};return T}xu.applyToOptions=e=>{const t=vM(e,100,xu);return e.ease=t.ease,e.duration=Tr(t.duration),e.type="keyframes",e};function Ih({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:o,max:l,restDelta:d=.5,restSpeed:c}){const h=e[0],m={done:!1,value:h},f=j=>o!==void 0&&j<o||l!==void 0&&j>l,g=j=>o===void 0?l:l===void 0||Math.abs(o-j)<Math.abs(l-j)?o:l;let y=n*t;const x=h+y,E=a===void 0?x:a(x);E!==x&&(y=E-h);const v=j=>-y*Math.exp(-j/r),w=j=>E+v(j),T=j=>{const F=v(j),V=w(j);m.done=Math.abs(F)<=d,m.value=m.done?E:V};let S,C;const D=j=>{f(m.value)&&(S=j,C=xu({keyframes:[m.value,g(m.value)],velocity:bw(w,j,m.value),damping:s,stiffness:i,restDelta:d,restSpeed:c}))};return D(0),{calculatedDuration:null,next:j=>{let F=!1;return!C&&S===void 0&&(F=!0,T(j),D(j)),S!==void 0&&j>=S?C.next(j-S):(!F&&T(j),m)}}}function NM(e,t,n){const r=[],s=n||qr.mix||gw,i=e.length-1;for(let a=0;a<i;a++){let o=s(e[a],e[a+1]);if(t){const l=Array.isArray(t)?t[a]||Rn:t;o=ol(l,o)}r.push(o)}return r}function kM(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(gu(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=NM(t,r,s),l=o.length,d=c=>{if(a&&c<e[0])return t[0];let h=0;if(l>1)for(;h<e.length-2&&!(c<e[h+1]);h++);const m=Io(e[h],e[h+1],c);return o[h](m)};return n?c=>d(zr(e[0],e[i-1],c)):d}function IM(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Io(0,t,r);e.push(ut(n,1,s))}}function RM(e){const t=[0];return IM(t,e.length-1),t}function PM(e,t){return e.map(n=>n*t)}function OM(e,t){return e.map(()=>t||aw).splice(0,e.length-1)}function oo({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=q3(r)?r.map(i0):i0(r),i={done:!1,value:t[0]},a=PM(n&&n.length===t.length?n:RM(t),e),o=kM(a,t,{ease:Array.isArray(s)?s:OM(t,s)});return{calculatedDuration:e,next:l=>(i.value=o(l),i.done=l>=e,i)}}const DM=e=>e!==null;function km(e,{repeat:t,repeatType:n="loop"},r,s=1){const i=e.filter(DM),o=s<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const MM={decay:Ih,inertia:Ih,tween:oo,keyframes:oo,spring:xu};function xw(e){typeof e.type=="string"&&(e.type=MM[e.type])}class Im{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const LM=e=>e/100;class Rm extends Im{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==an.now()&&this.tick(an.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;xw(t);const{type:n=oo,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=t;let{keyframes:o}=t;const l=n||oo;l!==oo&&typeof o[0]!="number"&&(this.mixKeyframes=ol(LM,gw(o[0],o[1])),o=[0,100]);const d=l({...t,keyframes:o});i==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...o].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=Nm(d));const{calculatedDuration:c}=d;this.calculatedDuration=c,this.resolvedDuration=c+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=d}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:c,repeat:h,repeatType:m,repeatDelay:f,type:g,onUpdate:y,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const E=this.currentTime-d*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?E<0:E>s;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let w=this.currentTime,T=r;if(h){const j=Math.min(this.currentTime,s)/o;let F=Math.floor(j),V=j%1;!V&&j>=1&&(V=1),V===1&&F--,F=Math.min(F,h+1),!!(F%2)&&(m==="reverse"?(V=1-V,f&&(V-=f/o)):m==="mirror"&&(T=a)),w=zr(0,1,V)*o}const S=v?{done:!1,value:c[0]}:T.next(w);i&&(S.value=i(S.value));let{done:C}=S;!v&&l!==null&&(C=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return D&&g!==Ih&&(S.value=km(c,this.options,x,this.speed)),y&&y(S.value),D&&this.finish(),S}then(t,n){return this.finished.then(t,n)}get duration(){return _r(this.calculatedDuration)}get time(){return _r(this.currentTime)}set time(t){var n;t=Tr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(an.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=_r(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:t=xM,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(an.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function jM(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Hs=e=>e*180/Math.PI,Rh=e=>{const t=Hs(Math.atan2(e[1],e[0]));return Ph(t)},FM={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Rh,rotateZ:Rh,skewX:e=>Hs(Math.atan(e[1])),skewY:e=>Hs(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Ph=e=>(e=e%360,e<0&&(e+=360),e),h0=Rh,f0=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),m0=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),BM={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:f0,scaleY:m0,scale:e=>(f0(e)+m0(e))/2,rotateX:e=>Ph(Hs(Math.atan2(e[6],e[5]))),rotateY:e=>Ph(Hs(Math.atan2(-e[2],e[0]))),rotateZ:h0,rotate:h0,skewX:e=>Hs(Math.atan(e[4])),skewY:e=>Hs(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Oh(e){return e.includes("scale")?1:0}function Dh(e,t){if(!e||e==="none")return Oh(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=BM,s=n;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=FM,s=o}if(!s)return Oh(t);const i=r[t],a=s[1].split(",").map(HM);return typeof i=="function"?i(a):a[i]}const UM=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Dh(n,t)};function HM(e){return parseFloat(e.trim())}const _a=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Sa=new Set(_a),p0=e=>e===Ta||e===Ne,$M=new Set(["x","y","z"]),VM=_a.filter(e=>!$M.has(e));function zM(e){const t=[];return VM.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Js={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Dh(t,"x"),y:(e,{transform:t})=>Dh(t,"y")};Js.translateX=Js.x;Js.translateY=Js.y;const Zs=new Set;let Mh=!1,Lh=!1,jh=!1;function vw(){if(Lh){const e=Array.from(Zs).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=zM(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,a])=>{var o;(o=r.getValue(i))==null||o.set(a)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Lh=!1,Mh=!1,Zs.forEach(e=>e.complete(jh)),Zs.clear()}function Ew(){Zs.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Lh=!0)})}function qM(){jh=!0,Ew(),vw(),jh=!1}class Pm{constructor(t,n,r,s,i,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Zs.add(this),Mh||(Mh=!0,ct.read(Ew),ct.resolveKeyframes(vw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;if(t[0]===null){const i=s==null?void 0:s.get(),a=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const o=r.readValue(n,a);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=a),s&&i===void 0&&s.set(t[0])}jM(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Zs.delete(this)}cancel(){this.state==="scheduled"&&(Zs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const GM=e=>e.startsWith("--");function WM(e,t,n){GM(t)?e.style.setProperty(t,n):e.style[t]=n}const YM=xm(()=>window.ScrollTimeline!==void 0),KM={};function XM(e,t){const n=xm(e);return()=>KM[t]??n()}const ww=XM(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Xa=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,g0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Xa([0,.65,.55,1]),circOut:Xa([.55,0,1,.45]),backIn:Xa([.31,.01,.66,-.59]),backOut:Xa([.33,1.53,.69,.99])};function Tw(e,t){if(e)return typeof e=="function"?ww()?yw(e,t):"ease-out":ow(e)?Xa(e):Array.isArray(e)?e.map(n=>Tw(n,t)||g0.easeOut):g0[e]}function QM(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:o="easeOut",times:l}={},d=void 0){const c={[t]:n};l&&(c.offset=l);const h=Tw(o,s);Array.isArray(h)&&(c.easing=h);const m={delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"};return d&&(m.pseudoElement=d),e.animate(c,m)}function _w(e){return typeof e=="function"&&"applyToOptions"in e}function JM({type:e,...t}){return _w(e)&&ww()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class ZM extends Im{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:o,onComplete:l}=t;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=t,gu(typeof t.type!="string");const d=JM(t);this.animation=QM(n,r,s,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const c=km(s,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(c):WM(n,r,c),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return _r(Number(t))}get time(){return _r(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Tr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&YM()?(this.animation.timeline=t,Rn):n(this)}}const Sw={anticipate:rw,backInOut:nw,circInOut:iw};function eL(e){return e in Sw}function tL(e){typeof e.ease=="string"&&eL(e.ease)&&(e.ease=Sw[e.ease])}const y0=10;class nL extends ZM{constructor(t){tL(t),xw(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...a}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const o=new Rm({...a,autoplay:!1}),l=Tr(this.finishedTime??this.time);n.setWithVelocity(o.sample(l-y0).value,o.sample(l).value,y0),o.stop()}}const b0=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ts.test(e)||e==="0")&&!e.startsWith("url("));function rL(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function sL(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],a=b0(s,t),o=b0(i,t);return!a||!o?!1:rL(e)||(n==="spring"||_w(n))&&r}function Om(e){return KE(e)&&"offsetHeight"in e}const iL=new Set(["opacity","clipPath","filter","transform"]),aL=xm(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function oL(e){var d;const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:i,type:a}=e;if(!Om((d=t==null?void 0:t.owner)==null?void 0:d.current))return!1;const{onUpdate:o,transformTemplate:l}=t.owner.getProps();return aL()&&n&&iL.has(n)&&(n!=="transform"||!l)&&!o&&!r&&s!=="mirror"&&i!==0&&a!=="inertia"}const lL=40;class uL extends Im{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",keyframes:o,name:l,motionValue:d,element:c,...h}){var g;super(),this.stop=()=>{var y,x;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(x=this.keyframeResolver)==null||x.cancel()},this.createdAt=an.now();const m={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:a,name:l,motionValue:d,element:c,...h},f=(c==null?void 0:c.KeyframeResolver)||Pm;this.keyframeResolver=new f(o,(y,x,E)=>this.onKeyframesResolved(y,x,m,!E),l,d,c),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(t,n,r,s){this.keyframeResolver=void 0;const{name:i,type:a,velocity:o,delay:l,isHandoff:d,onUpdate:c}=r;this.resolvedAt=an.now(),sL(t,i,a,o)||((qr.instantAnimations||!l)&&(c==null||c(km(t,r,n))),t[0]=t[t.length-1],r.duration=0,r.repeat=0);const m={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>lL?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},f=!d&&oL(m)?new nL({...m,element:m.motionValue.owner.current}):new Rm(m);f.finished.then(()=>this.notifyFinished()).catch(Rn),this.pendingTimeline&&(this.stopTimeline=f.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=f}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),qM()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const cL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function dL(e){const t=cL.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function Cw(e,t,n=1){const[r,s]=dL(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const a=i.trim();return YE(a)?parseFloat(a):a}return _m(s)?Cw(s,t,n+1):s}function Dm(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Aw=new Set(["width","height","top","left","right","bottom",..._a]),hL={test:e=>e==="auto",parse:e=>e},Nw=e=>t=>t.test(e),kw=[Ta,Ne,Sr,as,rM,nM,hL],x0=e=>kw.find(Nw(e));function fL(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||XE(e):!0}const mL=new Set(["brightness","contrast","saturate","opacity"]);function pL(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Sm)||[];if(!r)return e;const s=n.replace(r,"");let i=mL.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const gL=/\b([a-z-]*)\(.*?\)/gu,Fh={...Ts,getAnimatableNone:e=>{const t=e.match(gL);return t?t.map(pL).join(" "):e}},v0={...Ta,transform:Math.round},yL={rotate:as,rotateX:as,rotateY:as,rotateZ:as,scale:Ol,scaleX:Ol,scaleY:Ol,scaleZ:Ol,skew:as,skewX:as,skewY:as,distance:Ne,translateX:Ne,translateY:Ne,translateZ:Ne,x:Ne,y:Ne,z:Ne,perspective:Ne,transformPerspective:Ne,opacity:Ro,originX:o0,originY:o0,originZ:Ne},Mm={borderWidth:Ne,borderTopWidth:Ne,borderRightWidth:Ne,borderBottomWidth:Ne,borderLeftWidth:Ne,borderRadius:Ne,radius:Ne,borderTopLeftRadius:Ne,borderTopRightRadius:Ne,borderBottomRightRadius:Ne,borderBottomLeftRadius:Ne,width:Ne,maxWidth:Ne,height:Ne,maxHeight:Ne,top:Ne,right:Ne,bottom:Ne,left:Ne,padding:Ne,paddingTop:Ne,paddingRight:Ne,paddingBottom:Ne,paddingLeft:Ne,margin:Ne,marginTop:Ne,marginRight:Ne,marginBottom:Ne,marginLeft:Ne,backgroundPositionX:Ne,backgroundPositionY:Ne,...yL,zIndex:v0,fillOpacity:Ro,strokeOpacity:Ro,numOctaves:v0},bL={...Mm,color:Bt,backgroundColor:Bt,outlineColor:Bt,fill:Bt,stroke:Bt,borderColor:Bt,borderTopColor:Bt,borderRightColor:Bt,borderBottomColor:Bt,borderLeftColor:Bt,filter:Fh,WebkitFilter:Fh},Iw=e=>bL[e];function Rw(e,t){let n=Iw(e);return n!==Fh&&(n=Ts),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const xL=new Set(["auto","none","0"]);function vL(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!xL.has(i)&&Po(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=Rw(n,s)}class EL extends Pm{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let d=t[l];if(typeof d=="string"&&(d=d.trim(),_m(d))){const c=Cw(d,n.current);c!==void 0&&(t[l]=c),l===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!Aw.has(r)||t.length!==2)return;const[s,i]=t,a=x0(s),o=x0(i);if(a!==o)if(p0(a)&&p0(o))for(let l=0;l<t.length;l++){const d=t[l];typeof d=="string"&&(t[l]=parseFloat(d))}else Js[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)(t[s]===null||fL(t[s]))&&r.push(s);r.length&&vL(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Js[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var o;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,a=r[i];r[i]=Js[n](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,d])=>{t.getValue(l).set(d)}),this.resolveNoneKeyframes()}}function wL(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const s=document.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const Pw=(e,t)=>t&&typeof e=="number"?t.transform(e):e,E0=30,TL=e=>!isNaN(parseFloat(e));class _L{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{var a,o;const i=an.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();s&&((o=this.events.renderRequest)==null||o.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=an.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=TL(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new vm);const r=this.events[t].add(n);return t==="change"?()=>{r(),ct.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=an.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>E0)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,E0);return QE(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function aa(e,t){return new _L(e,t)}const{schedule:Lm,cancel:gY}=lw(queueMicrotask,!1),$n={x:!1,y:!1};function Ow(){return $n.x||$n.y}function SL(e){return e==="x"||e==="y"?$n[e]?null:($n[e]=!0,()=>{$n[e]=!1}):$n.x||$n.y?null:($n.x=$n.y=!0,()=>{$n.x=$n.y=!1})}function Dw(e,t){const n=wL(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function w0(e){return!(e.pointerType==="touch"||Ow())}function CL(e,t,n={}){const[r,s,i]=Dw(e,n),a=o=>{if(!w0(o))return;const{target:l}=o,d=t(l,o);if(typeof d!="function"||!l)return;const c=h=>{w0(h)&&(d(h),l.removeEventListener("pointerleave",c))};l.addEventListener("pointerleave",c,s)};return r.forEach(o=>{o.addEventListener("pointerenter",a,s)}),i}const Mw=(e,t)=>t?e===t?!0:Mw(e,t.parentElement):!1,jm=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,AL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function NL(e){return AL.has(e.tagName)||e.tabIndex!==-1}const Ql=new WeakSet;function T0(e){return t=>{t.key==="Enter"&&e(t)}}function xd(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const kL=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=T0(()=>{if(Ql.has(n))return;xd(n,"down");const s=T0(()=>{xd(n,"up")}),i=()=>xd(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function _0(e){return jm(e)&&!Ow()}function IL(e,t,n={}){const[r,s,i]=Dw(e,n),a=o=>{const l=o.currentTarget;if(!_0(o))return;Ql.add(l);const d=t(l,o),c=(f,g)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",m),Ql.has(l)&&Ql.delete(l),_0(f)&&typeof d=="function"&&d(f,{success:g})},h=f=>{c(f,l===window||l===document||n.useGlobalTarget||Mw(l,f.target))},m=f=>{c(f,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",m,s)};return r.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,s),Om(o)&&(o.addEventListener("focus",d=>kL(d,s)),!NL(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),i}function Lw(e){return KE(e)&&"ownerSVGElement"in e}function RL(e){return Lw(e)&&e.tagName==="svg"}const Ut=e=>!!(e&&e.getVelocity),PL=[...kw,Bt,Ts],OL=e=>PL.find(Nw(e)),Fm=b.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class DL extends b.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=Om(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function ML({children:e,isPresent:t,anchorX:n}){const r=b.useId(),s=b.useRef(null),i=b.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=b.useContext(Fm);return b.useInsertionEffect(()=>{const{width:o,height:l,top:d,left:c,right:h}=i.current;if(t||!s.current||!o||!l)return;const m=n==="left"?`left: ${c}`:`right: ${h}`;s.current.dataset.motionPopId=r;const f=document.createElement("style");return a&&(f.nonce=a),document.head.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            ${m}px !important;
            top: ${d}px !important;
          }
        `),()=>{document.head.contains(f)&&document.head.removeChild(f)}},[t]),u.jsx(DL,{isPresent:t,childRef:s,sizeRef:i,children:b.cloneElement(e,{ref:s})})}const LL=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:a,anchorX:o})=>{const l=pm(jL),d=b.useId();let c=!0,h=b.useMemo(()=>(c=!1,{id:d,initial:t,isPresent:n,custom:s,onExitComplete:m=>{l.set(m,!0);for(const f of l.values())if(!f)return;r&&r()},register:m=>(l.set(m,!1),()=>l.delete(m))}),[n,l,r]);return i&&c&&(h={...h}),b.useMemo(()=>{l.forEach((m,f)=>l.set(f,!1))},[n]),b.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),a==="popLayout"&&(e=u.jsx(ML,{isPresent:n,anchorX:o,children:e})),u.jsx(mc.Provider,{value:h,children:e})};function jL(){return new Map}function jw(e=!0){const t=b.useContext(mc);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=b.useId();b.useEffect(()=>{if(e)return s(i)},[e]);const a=b.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,a]:[!0]}const Dl=e=>e.key||"";function S0(e){const t=[];return b.Children.forEach(e,n=>{b.isValidElement(n)&&t.push(n)}),t}const FL=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:a=!1,anchorX:o="left"})=>{const[l,d]=jw(a),c=b.useMemo(()=>S0(e),[e]),h=a&&!l?[]:c.map(Dl),m=b.useRef(!0),f=b.useRef(c),g=pm(()=>new Map),[y,x]=b.useState(c),[E,v]=b.useState(c);WE(()=>{m.current=!1,f.current=c;for(let S=0;S<E.length;S++){const C=Dl(E[S]);h.includes(C)?g.delete(C):g.get(C)!==!0&&g.set(C,!1)}},[E,h.length,h.join("-")]);const w=[];if(c!==y){let S=[...c];for(let C=0;C<E.length;C++){const D=E[C],j=Dl(D);h.includes(j)||(S.splice(C,0,D),w.push(D))}return i==="wait"&&w.length&&(S=w),v(S0(S)),x(c),null}const{forceRender:T}=b.useContext(mm);return u.jsx(u.Fragment,{children:E.map(S=>{const C=Dl(S),D=a&&!l?!1:c===E||h.includes(C),j=()=>{if(g.has(C))g.set(C,!0);else return;let F=!0;g.forEach(V=>{V||(F=!1)}),F&&(T==null||T(),v(f.current),a&&(d==null||d()),r&&r())};return u.jsx(LL,{isPresent:D,initial:!m.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:i,onExitComplete:D?void 0:j,anchorX:o,children:S},C)})})},Fw=b.createContext({strict:!1}),C0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},oa={};for(const e in C0)oa[e]={isEnabled:t=>C0[e].some(n=>!!t[n])};function BL(e){for(const t in e)oa[t]={...oa[t],...e[t]}}const UL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function vu(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||UL.has(e)}let Bw=e=>!vu(e);function HL(e){e&&(Bw=t=>t.startsWith("on")?!vu(t):e(t))}try{HL(require("@emotion/is-prop-valid").default)}catch{}function $L(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(Bw(s)||n===!0&&vu(s)||!t&&!vu(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function VL(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const pc=b.createContext({});function gc(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Oo(e){return typeof e=="string"||Array.isArray(e)}const Bm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Um=["initial",...Bm];function yc(e){return gc(e.animate)||Um.some(t=>Oo(e[t]))}function Uw(e){return!!(yc(e)||e.variants)}function zL(e,t){if(yc(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Oo(n)?n:void 0,animate:Oo(r)?r:void 0}}return e.inherit!==!1?t:{}}function qL(e){const{initial:t,animate:n}=zL(e,b.useContext(pc));return b.useMemo(()=>({initial:t,animate:n}),[A0(t),A0(n)])}function A0(e){return Array.isArray(e)?e.join(" "):e}const GL=Symbol.for("motionComponentSymbol");function Ii(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function WL(e,t,n){return b.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Ii(n)&&(n.current=r))},[t])}const Hm=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),YL="framerAppearId",Hw="data-"+Hm(YL),$w=b.createContext({});function KL(e,t,n,r,s){var y,x;const{visualElement:i}=b.useContext(pc),a=b.useContext(Fw),o=b.useContext(mc),l=b.useContext(Fm).reducedMotion,d=b.useRef(null);r=r||a.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const c=d.current,h=b.useContext($w);c&&!c.projection&&s&&(c.type==="html"||c.type==="svg")&&XL(d.current,n,s,h);const m=b.useRef(!1);b.useInsertionEffect(()=>{c&&m.current&&c.update(n,o)});const f=n[Hw],g=b.useRef(!!f&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,f))&&((x=window.MotionHasOptimisedAnimation)==null?void 0:x.call(window,f)));return WE(()=>{c&&(m.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),Lm.render(c.render),g.current&&c.animationState&&c.animationState.animateChanges())}),b.useEffect(()=>{c&&(!g.current&&c.animationState&&c.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var E;(E=window.MotionHandoffMarkAsComplete)==null||E.call(window,f)}),g.current=!1))}),c}function XL(e,t,n,r){const{layoutId:s,layout:i,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:d,layoutCrossfade:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Vw(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||o&&Ii(o),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:c,layoutScroll:l,layoutRoot:d})}function Vw(e){if(e)return e.options.allowProjection!==!1?e.projection:Vw(e.parent)}function QL({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){e&&BL(e);function i(o,l){let d;const c={...b.useContext(Fm),...o,layoutId:JL(o)},{isStatic:h}=c,m=qL(o),f=r(o,h);if(!h&&gm){ZL();const g=ej(c);d=g.MeasureLayout,m.visualElement=KL(s,f,c,t,g.ProjectionNode)}return u.jsxs(pc.Provider,{value:m,children:[d&&m.visualElement?u.jsx(d,{visualElement:m.visualElement,...c}):null,n(s,o,WL(f,m.visualElement,l),f,h,m.visualElement)]})}i.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const a=b.forwardRef(i);return a[GL]=s,a}function JL({layoutId:e}){const t=b.useContext(mm).id;return t&&e!==void 0?t+"-"+e:e}function ZL(e,t){b.useContext(Fw).strict}function ej(e){const{drag:t,layout:n}=oa;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Do={};function tj(e){for(const t in e)Do[t]=e[t],Tm(t)&&(Do[t].isCSSVariable=!0)}function zw(e,{layout:t,layoutId:n}){return Sa.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Do[e]||e==="opacity")}const nj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},rj=_a.length;function sj(e,t,n){let r="",s=!0;for(let i=0;i<rj;i++){const a=_a[i],o=e[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||n){const d=Pw(o,Mm[a]);if(!l){s=!1;const c=nj[a]||a;r+=`${c}(${d}) `}n&&(t[a]=d)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function $m(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let a=!1,o=!1;for(const l in t){const d=t[l];if(Sa.has(l)){a=!0;continue}else if(Tm(l)){s[l]=d;continue}else{const c=Pw(d,Mm[l]);l.startsWith("origin")?(o=!0,i[l]=c):r[l]=c}}if(t.transform||(a||n?r.transform=sj(t,e.transform,n):r.transform&&(r.transform="none")),o){const{originX:l="50%",originY:d="50%",originZ:c=0}=i;r.transformOrigin=`${l} ${d} ${c}`}}const Vm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function qw(e,t,n){for(const r in t)!Ut(t[r])&&!zw(r,n)&&(e[r]=t[r])}function ij({transformTemplate:e},t){return b.useMemo(()=>{const n=Vm();return $m(n,t,e),Object.assign({},n.vars,n.style)},[t])}function aj(e,t){const n=e.style||{},r={};return qw(r,n,e),Object.assign(r,ij(e,t)),r}function oj(e,t){const n={},r=aj(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const lj={offset:"stroke-dashoffset",array:"stroke-dasharray"},uj={offset:"strokeDashoffset",array:"strokeDasharray"};function cj(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?lj:uj;e[i.offset]=Ne.transform(-r);const a=Ne.transform(t),o=Ne.transform(n);e[i.array]=`${a} ${o}`}function Gw(e,{attrX:t,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:a=0,...o},l,d,c){if($m(e,o,d),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:m}=e;h.transform&&(m.transform=h.transform,delete h.transform),(m.transform||h.transformOrigin)&&(m.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),m.transform&&(m.transformBox=(c==null?void 0:c.transformBox)??"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),s!==void 0&&cj(h,s,i,a,!1)}const Ww=()=>({...Vm(),attrs:{}}),Yw=e=>typeof e=="string"&&e.toLowerCase()==="svg";function dj(e,t,n,r){const s=b.useMemo(()=>{const i=Ww();return Gw(i,t,Yw(r),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};qw(i,e.style,e),s.style={...i,...s.style}}return s}const hj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function zm(e){return typeof e!="string"||e.includes("-")?!1:!!(hj.indexOf(e)>-1||/[A-Z]/u.test(e))}function fj(e=!1){return(n,r,s,{latestValues:i},a)=>{const l=(zm(n)?dj:oj)(r,i,a,n),d=$L(r,typeof n=="string",e),c=n!==b.Fragment?{...d,...l,ref:s}:{},{children:h}=r,m=b.useMemo(()=>Ut(h)?h.get():h,[h]);return b.createElement(n,{...c,children:m})}}function N0(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function qm(e,t,n,r){if(typeof t=="function"){const[s,i]=N0(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=N0(r);t=t(n!==void 0?n:e.custom,s,i)}return t}function Jl(e){return Ut(e)?e.get():e}function mj({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,s){return{latestValues:pj(n,r,s,e),renderState:t()}}const Kw=e=>(t,n)=>{const r=b.useContext(pc),s=b.useContext(mc),i=()=>mj(e,t,r,s);return n?i():pm(i)};function pj(e,t,n,r){const s={},i=r(e,{});for(const m in i)s[m]=Jl(i[m]);let{initial:a,animate:o}=e;const l=yc(e),d=Uw(e);t&&d&&!l&&e.inherit!==!1&&(a===void 0&&(a=t.initial),o===void 0&&(o=t.animate));let c=n?n.initial===!1:!1;c=c||a===!1;const h=c?o:a;if(h&&typeof h!="boolean"&&!gc(h)){const m=Array.isArray(h)?h:[h];for(let f=0;f<m.length;f++){const g=qm(e,m[f]);if(g){const{transitionEnd:y,transition:x,...E}=g;for(const v in E){let w=E[v];if(Array.isArray(w)){const T=c?w.length-1:0;w=w[T]}w!==null&&(s[v]=w)}for(const v in y)s[v]=y[v]}}}return s}function Gm(e,t,n){var i;const{style:r}=e,s={};for(const a in r)(Ut(r[a])||t.style&&Ut(t.style[a])||zw(a,e)||((i=n==null?void 0:n.getValue(a))==null?void 0:i.liveStyle)!==void 0)&&(s[a]=r[a]);return s}const gj={useVisualState:Kw({scrapeMotionValuesFromProps:Gm,createRenderState:Vm})};function Xw(e,t,n){const r=Gm(e,t,n);for(const s in e)if(Ut(e[s])||Ut(t[s])){const i=_a.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}const yj={useVisualState:Kw({scrapeMotionValuesFromProps:Xw,createRenderState:Ww})};function bj(e,t){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const a={...zm(r)?yj:gj,preloadedFeatures:e,useRender:fj(s),createVisualElement:t,Component:r};return QL(a)}}function Mo(e,t,n){const r=e.getProps();return qm(r,t,n!==void 0?n:r.custom,e)}const Bh=e=>Array.isArray(e);function xj(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,aa(n))}function vj(e){return Bh(e)?e[e.length-1]||0:e}function Ej(e,t){const n=Mo(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const a in i){const o=vj(i[a]);xj(e,a,o)}}function wj(e){return!!(Ut(e)&&e.add)}function Uh(e,t){const n=e.getValue("willChange");if(wj(n))return n.add(t);if(!n&&qr.WillChange){const r=new qr.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function Qw(e){return e.props[Hw]}const Tj=e=>e!==null;function _j(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(Tj),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const Sj={type:"spring",stiffness:500,damping:25,restSpeed:10},Cj=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Aj={type:"keyframes",duration:.8},Nj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},kj=(e,{keyframes:t})=>t.length>2?Aj:Sa.has(e)?e.startsWith("scale")?Cj(t[1]):Sj:Nj;function Ij({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:o,from:l,elapsed:d,...c}){return!!Object.keys(c).length}const Wm=(e,t,n,r={},s,i)=>a=>{const o=Dm(r,e)||{},l=o.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Tr(l);const c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-d,onUpdate:m=>{t.set(m),o.onUpdate&&o.onUpdate(m)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:i?void 0:s};Ij(o)||Object.assign(c,kj(e,c)),c.duration&&(c.duration=Tr(c.duration)),c.repeatDelay&&(c.repeatDelay=Tr(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let h=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(c.duration=0,c.delay===0&&(h=!0)),(qr.instantAnimations||qr.skipAnimations)&&(h=!0,c.duration=0,c.delay=0),c.allowFlatten=!o.type&&!o.ease,h&&!i&&t.get()!==void 0){const m=_j(c.keyframes,o);if(m!==void 0){ct.update(()=>{c.onUpdate(m),c.onComplete()});return}}return o.isSync?new Rm(c):new uL(c)};function Rj({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Jw(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:a,...o}=t;r&&(i=r);const l=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const c in o){const h=e.getValue(c,e.latestValues[c]??null),m=o[c];if(m===void 0||d&&Rj(d,c))continue;const f={delay:n,...Dm(i||{},c)},g=h.get();if(g!==void 0&&!h.isAnimating&&!Array.isArray(m)&&m===g&&!f.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const E=Qw(e);if(E){const v=window.MotionHandoffAnimation(E,c,ct);v!==null&&(f.startTime=v,y=!0)}}Uh(e,c),h.start(Wm(c,h,m,e.shouldReduceMotion&&Aw.has(c)?{type:!1}:f,e,y));const x=h.animation;x&&l.push(x)}return a&&Promise.all(l).then(()=>{ct.update(()=>{a&&Ej(e,a)})}),l}function Hh(e,t,n={}){var l;const r=Mo(e,t,n.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(Jw(e,r,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:c=0,staggerChildren:h,staggerDirection:m}=s;return Pj(e,t,c+d,h,m,n)}:()=>Promise.resolve(),{when:o}=s;if(o){const[d,c]=o==="beforeChildren"?[i,a]:[a,i];return d().then(()=>c())}else return Promise.all([i(),a(n.delay)])}function Pj(e,t,n=0,r=0,s=1,i){const a=[],o=(e.variantChildren.size-1)*r,l=s===1?(d=0)=>d*r:(d=0)=>o-d*r;return Array.from(e.variantChildren).sort(Oj).forEach((d,c)=>{d.notify("AnimationStart",t),a.push(Hh(d,t,{...i,delay:n+l(c)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(a)}function Oj(e,t){return e.sortNodePosition(t)}function Dj(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>Hh(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=Hh(e,t,n);else{const s=typeof t=="function"?Mo(e,t,n.custom):t;r=Promise.all(Jw(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function Zw(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const Mj=Um.length;function eT(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?eT(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Mj;n++){const r=Um[n],s=e.props[r];(Oo(s)||s===!1)&&(t[r]=s)}return t}const Lj=[...Bm].reverse(),jj=Bm.length;function Fj(e){return t=>Promise.all(t.map(({animation:n,options:r})=>Dj(e,n,r)))}function Bj(e){let t=Fj(e),n=k0(),r=!0;const s=l=>(d,c)=>{var m;const h=Mo(e,c,l==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);if(h){const{transition:f,transitionEnd:g,...y}=h;d={...d,...y,...g}}return d};function i(l){t=l(e)}function a(l){const{props:d}=e,c=eT(e.parent)||{},h=[],m=new Set;let f={},g=1/0;for(let x=0;x<jj;x++){const E=Lj[x],v=n[E],w=d[E]!==void 0?d[E]:c[E],T=Oo(w),S=E===l?v.isActive:null;S===!1&&(g=x);let C=w===c[E]&&w!==d[E]&&T;if(C&&r&&e.manuallyAnimateOnMount&&(C=!1),v.protectedKeys={...f},!v.isActive&&S===null||!w&&!v.prevProp||gc(w)||typeof w=="boolean")continue;const D=Uj(v.prevProp,w);let j=D||E===l&&v.isActive&&!C&&T||x>g&&T,F=!1;const V=Array.isArray(w)?w:[w];let z=V.reduce(s(E),{});S===!1&&(z={});const{prevResolvedValues:P={}}=v,W={...P,...z},Q=U=>{j=!0,m.has(U)&&(F=!0,m.delete(U)),v.needsAnimating[U]=!0;const Y=e.getValue(U);Y&&(Y.liveStyle=!1)};for(const U in W){const Y=z[U],O=P[U];if(f.hasOwnProperty(U))continue;let _=!1;Bh(Y)&&Bh(O)?_=!Zw(Y,O):_=Y!==O,_?Y!=null?Q(U):m.add(U):Y!==void 0&&m.has(U)?Q(U):v.protectedKeys[U]=!0}v.prevProp=w,v.prevResolvedValues=z,v.isActive&&(f={...f,...z}),r&&e.blockInitialAnimation&&(j=!1),j&&(!(C&&D)||F)&&h.push(...V.map(U=>({animation:U,options:{type:E}})))}if(m.size){const x={};if(typeof d.initial!="boolean"){const E=Mo(e,Array.isArray(d.initial)?d.initial[0]:d.initial);E&&E.transition&&(x.transition=E.transition)}m.forEach(E=>{const v=e.getBaseTarget(E),w=e.getValue(E);w&&(w.liveStyle=!0),x[E]=v??null}),h.push({animation:x})}let y=!!h.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(y=!1),r=!1,y?t(h):Promise.resolve()}function o(l,d){var h;if(n[l].isActive===d)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(m=>{var f;return(f=m.animationState)==null?void 0:f.setActive(l,d)}),n[l].isActive=d;const c=a(l);for(const m in n)n[m].protectedKeys={};return c}return{animateChanges:a,setActive:o,setAnimateFunction:i,getState:()=>n,reset:()=>{n=k0(),r=!0}}}function Uj(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Zw(t,e):!1}function Ds(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function k0(){return{animate:Ds(!0),whileInView:Ds(),whileHover:Ds(),whileTap:Ds(),whileDrag:Ds(),whileFocus:Ds(),exit:Ds()}}class Is{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Hj extends Is{constructor(t){super(t),t.animationState||(t.animationState=Bj(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();gc(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let $j=0;class Vj extends Is{constructor(){super(...arguments),this.id=$j++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const zj={animation:{Feature:Hj},exit:{Feature:Vj}};function Lo(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function cl(e){return{point:{x:e.pageX,y:e.pageY}}}const qj=e=>t=>jm(t)&&e(t,cl(t));function lo(e,t,n,r){return Lo(e,t,qj(n),r)}function tT({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Gj({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Wj(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const nT=1e-4,Yj=1-nT,Kj=1+nT,rT=.01,Xj=0-rT,Qj=0+rT;function Xt(e){return e.max-e.min}function Jj(e,t,n){return Math.abs(e-t)<=n}function I0(e,t,n,r=.5){e.origin=r,e.originPoint=ut(t.min,t.max,e.origin),e.scale=Xt(n)/Xt(t),e.translate=ut(n.min,n.max,e.origin)-e.originPoint,(e.scale>=Yj&&e.scale<=Kj||isNaN(e.scale))&&(e.scale=1),(e.translate>=Xj&&e.translate<=Qj||isNaN(e.translate))&&(e.translate=0)}function uo(e,t,n,r){I0(e.x,t.x,n.x,r?r.originX:void 0),I0(e.y,t.y,n.y,r?r.originY:void 0)}function R0(e,t,n){e.min=n.min+t.min,e.max=e.min+Xt(t)}function Zj(e,t,n){R0(e.x,t.x,n.x),R0(e.y,t.y,n.y)}function P0(e,t,n){e.min=t.min-n.min,e.max=e.min+Xt(t)}function co(e,t,n){P0(e.x,t.x,n.x),P0(e.y,t.y,n.y)}const O0=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ri=()=>({x:O0(),y:O0()}),D0=()=>({min:0,max:0}),yt=()=>({x:D0(),y:D0()});function Cn(e){return[e("x"),e("y")]}function vd(e){return e===void 0||e===1}function $h({scale:e,scaleX:t,scaleY:n}){return!vd(e)||!vd(t)||!vd(n)}function Ls(e){return $h(e)||sT(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function sT(e){return M0(e.x)||M0(e.y)}function M0(e){return e&&e!=="0%"}function Eu(e,t,n){const r=e-n,s=t*r;return n+s}function L0(e,t,n,r,s){return s!==void 0&&(e=Eu(e,s,r)),Eu(e,n,r)+t}function Vh(e,t=0,n=1,r,s){e.min=L0(e.min,t,n,r,s),e.max=L0(e.max,t,n,r,s)}function iT(e,{x:t,y:n}){Vh(e.x,t.translate,t.scale,t.originPoint),Vh(e.y,n.translate,n.scale,n.originPoint)}const j0=.999999999999,F0=1.0000000000001;function e4(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,a;for(let o=0;o<s;o++){i=n[o],a=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Oi(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,iT(e,a)),r&&Ls(i.latestValues)&&Oi(e,i.latestValues))}t.x<F0&&t.x>j0&&(t.x=1),t.y<F0&&t.y>j0&&(t.y=1)}function Pi(e,t){e.min=e.min+t,e.max=e.max+t}function B0(e,t,n,r,s=.5){const i=ut(e.min,e.max,s);Vh(e,t,n,i,r)}function Oi(e,t){B0(e.x,t.x,t.scaleX,t.scale,t.originX),B0(e.y,t.y,t.scaleY,t.scale,t.originY)}function aT(e,t){return tT(Wj(e.getBoundingClientRect(),t))}function t4(e,t,n){const r=aT(e,n),{scroll:s}=t;return s&&(Pi(r.x,s.offset.x),Pi(r.y,s.offset.y)),r}const oT=({current:e})=>e?e.ownerDocument.defaultView:null,U0=(e,t)=>Math.abs(e-t);function n4(e,t){const n=U0(e.x,t.x),r=U0(e.y,t.y);return Math.sqrt(n**2+r**2)}class lT{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=wd(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,f=n4(h.offset,{x:0,y:0})>=3;if(!m&&!f)return;const{point:g}=h,{timestamp:y}=Mt;this.history.push({...g,timestamp:y});const{onStart:x,onMove:E}=this.handlers;m||(x&&x(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Ed(m,this.transformPagePoint),ct.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:f,onSessionEnd:g,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=wd(h.type==="pointercancel"?this.lastMoveEventInfo:Ed(m,this.transformPagePoint),this.history);this.startEvent&&f&&f(h,x),g&&g(h,x)},!jm(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const a=cl(t),o=Ed(a,this.transformPagePoint),{point:l}=o,{timestamp:d}=Mt;this.history=[{...l,timestamp:d}];const{onSessionStart:c}=n;c&&c(t,wd(o,this.history)),this.removeListeners=ol(lo(this.contextWindow,"pointermove",this.handlePointerMove),lo(this.contextWindow,"pointerup",this.handlePointerUp),lo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ws(this.updatePoint)}}function Ed(e,t){return t?{point:t(e.point)}:e}function H0(e,t){return{x:e.x-t.x,y:e.y-t.y}}function wd({point:e},t){return{point:e,delta:H0(e,uT(t)),offset:H0(e,r4(t)),velocity:s4(t,.1)}}function r4(e){return e[0]}function uT(e){return e[e.length-1]}function s4(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=uT(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Tr(t)));)n--;if(!r)return{x:0,y:0};const i=_r(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function i4(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?ut(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?ut(n,e,r.max):Math.min(e,n)),e}function $0(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function a4(e,{top:t,left:n,bottom:r,right:s}){return{x:$0(e.x,n,s),y:$0(e.y,t,r)}}function V0(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function o4(e,t){return{x:V0(e.x,t.x),y:V0(e.y,t.y)}}function l4(e,t){let n=.5;const r=Xt(e),s=Xt(t);return s>r?n=Io(t.min,t.max-r,e.min):r>s&&(n=Io(e.min,e.max-s,t.min)),zr(0,1,n)}function u4(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const zh=.35;function c4(e=zh){return e===!1?e=0:e===!0&&(e=zh),{x:z0(e,"left","right"),y:z0(e,"top","bottom")}}function z0(e,t,n){return{min:q0(e,t),max:q0(e,n)}}function q0(e,t){return typeof e=="number"?e:e[t]||0}const d4=new WeakMap;class h4{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=yt(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=c=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(cl(c).point)},i=(c,h)=>{const{drag:m,dragPropagation:f,onDragStart:g}=this.getProps();if(m&&!f&&(this.openDragLock&&this.openDragLock(),this.openDragLock=SL(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Cn(x=>{let E=this.getAxisMotionValue(x).get()||0;if(Sr.test(E)){const{projection:v}=this.visualElement;if(v&&v.layout){const w=v.layout.layoutBox[x];w&&(E=Xt(w)*(parseFloat(E)/100))}}this.originPoint[x]=E}),g&&ct.postRender(()=>g(c,h)),Uh(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},a=(c,h)=>{const{dragPropagation:m,dragDirectionLock:f,onDirectionLock:g,onDrag:y}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:x}=h;if(f&&this.currentDirection===null){this.currentDirection=f4(x),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),y&&y(c,h)},o=(c,h)=>this.stop(c,h),l=()=>Cn(c=>{var h;return this.getAnimationState(c)==="paused"&&((h=this.getAxisMotionValue(c).animation)==null?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new lT(t,{onSessionStart:s,onStart:i,onMove:a,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:oT(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&ct.postRender(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!Ml(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let a=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(a=i4(a,this.constraints[t],this.elastic[t])),i.set(a)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;t&&Ii(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=a4(r.layoutBox,t):this.constraints=!1,this.elastic=c4(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Cn(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=u4(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Ii(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=t4(r,s.root,this.visualElement.getTransformPagePoint());let a=o4(s.layout.layoutBox,i);if(n){const o=n(Gj(a));this.hasMutatedConstraints=!!o,o&&(a=tT(o))}return a}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},d=Cn(c=>{if(!Ml(c,n,this.currentDirection))return;let h=l&&l[c]||{};a&&(h={min:0,max:0});const m=s?200:1e6,f=s?40:1e7,g={type:"inertia",velocity:r?t[c]:0,bounceStiffness:m,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(c,g)});return Promise.all(d).then(o)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Uh(this.visualElement,t),r.start(Wm(t,r,0,n,this.visualElement,!1))}stopAnimation(){Cn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Cn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Cn(n=>{const{drag:r}=this.getProps();if(!Ml(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:o}=s.layout.layoutBox[n];i.set(t[n]-ut(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ii(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Cn(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();s[a]=l4({min:l,max:l},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Cn(a=>{if(!Ml(a,t,null))return;const o=this.getAxisMotionValue(a),{min:l,max:d}=this.constraints[a];o.set(ut(l,d,s[a]))})}addListeners(){if(!this.visualElement.current)return;d4.set(this.visualElement,this);const t=this.visualElement.current,n=lo(t,"pointerdown",l=>{const{drag:d,dragListener:c=!0}=this.getProps();d&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ii(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ct.read(r);const a=Lo(window,"resize",()=>this.scalePositionWithinConstraints()),o=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:d})=>{this.isDragging&&d&&(Cn(c=>{const h=this.getAxisMotionValue(c);h&&(this.originPoint[c]+=l[c].translate,h.set(h.get()+l[c].translate))}),this.visualElement.render())});return()=>{a(),n(),i(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=zh,dragMomentum:o=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:o}}}function Ml(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function f4(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class m4 extends Is{constructor(t){super(t),this.removeGroupControls=Rn,this.removeListeners=Rn,this.controls=new h4(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Rn}unmount(){this.removeGroupControls(),this.removeListeners()}}const G0=e=>(t,n)=>{e&&ct.postRender(()=>e(t,n))};class p4 extends Is{constructor(){super(...arguments),this.removePointerDownListener=Rn}onPointerDown(t){this.session=new lT(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:oT(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:G0(t),onStart:G0(n),onMove:r,onEnd:(i,a)=>{delete this.session,s&&ct.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=lo(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Zl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function W0(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Fa={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ne.test(e))e=parseFloat(e);else return e;const n=W0(e,t.target.x),r=W0(e,t.target.y);return`${n}% ${r}%`}},g4={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=Ts.parse(e);if(s.length>5)return r;const i=Ts.createTransformer(e),a=typeof s[0]!="number"?1:0,o=n.x.scale*t.x,l=n.y.scale*t.y;s[0+a]/=o,s[1+a]/=l;const d=ut(o,l,.5);return typeof s[2+a]=="number"&&(s[2+a]/=d),typeof s[3+a]=="number"&&(s[3+a]/=d),i(s)}};class y4 extends b.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;tj(b4),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Zl.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:a}=r;return a&&(a.isPresent=i,s||t.layoutDependency!==n||n===void 0||t.isPresent!==i?a.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?a.promote():a.relegate()||ct.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Lm.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function cT(e){const[t,n]=jw(),r=b.useContext(mm);return u.jsx(y4,{...e,layoutGroup:r,switchLayoutGroup:b.useContext($w),isPresent:t,safeToRemove:n})}const b4={borderRadius:{...Fa,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Fa,borderTopRightRadius:Fa,borderBottomLeftRadius:Fa,borderBottomRightRadius:Fa,boxShadow:g4};function x4(e,t,n){const r=Ut(e)?e:aa(e);return r.start(Wm("",r,t,n)),r.animation}const v4=(e,t)=>e.depth-t.depth;class E4{constructor(){this.children=[],this.isDirty=!1}add(t){ym(this.children,t),this.isDirty=!0}remove(t){bm(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(v4),this.isDirty=!1,this.children.forEach(t)}}function w4(e,t){const n=an.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(ws(r),e(i-t))};return ct.setup(r,!0),()=>ws(r)}const dT=["TopLeft","TopRight","BottomLeft","BottomRight"],T4=dT.length,Y0=e=>typeof e=="string"?parseFloat(e):e,K0=e=>typeof e=="number"||Ne.test(e);function _4(e,t,n,r,s,i){s?(e.opacity=ut(0,n.opacity??1,S4(r)),e.opacityExit=ut(t.opacity??1,0,C4(r))):i&&(e.opacity=ut(t.opacity??1,n.opacity??1,r));for(let a=0;a<T4;a++){const o=`border${dT[a]}Radius`;let l=X0(t,o),d=X0(n,o);if(l===void 0&&d===void 0)continue;l||(l=0),d||(d=0),l===0||d===0||K0(l)===K0(d)?(e[o]=Math.max(ut(Y0(l),Y0(d),r),0),(Sr.test(d)||Sr.test(l))&&(e[o]+="%")):e[o]=d}(t.rotate||n.rotate)&&(e.rotate=ut(t.rotate||0,n.rotate||0,r))}function X0(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const S4=hT(0,.5,sw),C4=hT(.5,.95,Rn);function hT(e,t,n){return r=>r<e?0:r>t?1:n(Io(e,t,r))}function Q0(e,t){e.min=t.min,e.max=t.max}function Sn(e,t){Q0(e.x,t.x),Q0(e.y,t.y)}function J0(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Z0(e,t,n,r,s){return e-=t,e=Eu(e,1/n,r),s!==void 0&&(e=Eu(e,1/s,r)),e}function A4(e,t=0,n=1,r=.5,s,i=e,a=e){if(Sr.test(t)&&(t=parseFloat(t),t=ut(a.min,a.max,t/100)-a.min),typeof t!="number")return;let o=ut(i.min,i.max,r);e===i&&(o-=t),e.min=Z0(e.min,t,n,o,s),e.max=Z0(e.max,t,n,o,s)}function ey(e,t,[n,r,s],i,a){A4(e,t[n],t[r],t[s],t.scale,i,a)}const N4=["x","scaleX","originX"],k4=["y","scaleY","originY"];function ty(e,t,n,r){ey(e.x,t,N4,n?n.x:void 0,r?r.x:void 0),ey(e.y,t,k4,n?n.y:void 0,r?r.y:void 0)}function ny(e){return e.translate===0&&e.scale===1}function fT(e){return ny(e.x)&&ny(e.y)}function ry(e,t){return e.min===t.min&&e.max===t.max}function I4(e,t){return ry(e.x,t.x)&&ry(e.y,t.y)}function sy(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function mT(e,t){return sy(e.x,t.x)&&sy(e.y,t.y)}function iy(e){return Xt(e.x)/Xt(e.y)}function ay(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class R4{constructor(){this.members=[]}add(t){ym(this.members,t),t.scheduleRender()}remove(t){if(bm(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function P4(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,a=(n==null?void 0:n.z)||0;if((s||i||a)&&(r=`translate3d(${s}px, ${i}px, ${a}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:c,rotateX:h,rotateY:m,skewX:f,skewY:g}=n;d&&(r=`perspective(${d}px) ${r}`),c&&(r+=`rotate(${c}deg) `),h&&(r+=`rotateX(${h}deg) `),m&&(r+=`rotateY(${m}deg) `),f&&(r+=`skewX(${f}deg) `),g&&(r+=`skewY(${g}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const Td=["","X","Y","Z"],O4={visibility:"hidden"},D4=1e3;let M4=0;function _d(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function pT(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Qw(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ct,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&pT(r)}function gT({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},o=t==null?void 0:t()){this.id=M4++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(F4),this.nodes.forEach(V4),this.nodes.forEach(z4),this.nodes.forEach(B4)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new E4)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new vm),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=Lw(a)&&!RL(a),this.instance=a;const{layoutId:o,layout:l,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),e){let c;const h=()=>this.root.updateBlockedByResize=!1;e(a,()=>{this.root.updateBlockedByResize=!0,c&&c(),c=w4(h,250),Zl.hasAnimatedSinceResize&&(Zl.hasAnimatedSinceResize=!1,this.nodes.forEach(ly))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&d&&(o||l)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:h,hasRelativeLayoutChanged:m,layout:f})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||K4,{onLayoutAnimationStart:y,onLayoutAnimationComplete:x}=d.getProps(),E=!this.targetLayout||!mT(this.targetLayout,f),v=!h&&m;if(this.options.layoutRoot||this.resumeFrom||v||h&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...Dm(g,"layout"),onPlay:y,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(c,v)}else h||ly(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=f})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ws(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(q4),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&pT(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const h=this.path[c];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(oy);return}this.isUpdating||this.nodes.forEach(H4),this.isUpdating=!1,this.nodes.forEach($4),this.nodes.forEach(L4),this.nodes.forEach(j4),this.clearAllSnapshots();const o=an.now();Mt.delta=zr(0,1e3/60,o-Mt.timestamp),Mt.timestamp=o,Mt.isProcessing=!0,md.update.process(Mt),md.preRender.process(Mt),md.render.process(Mt),Mt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Lm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(U4),this.sharedNodes.forEach(G4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ct.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ct.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Xt(this.snapshot.measuredBox.x)&&!Xt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=yt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!fT(this.projectionDelta),l=this.getTransformTemplate(),d=l?l(this.latestValues,""):void 0,c=d!==this.prevTransformTemplateValue;a&&this.instance&&(o||Ls(this.latestValues)||c)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),X4(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:a}=this.options;if(!a)return yt();const o=a.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(Q4))){const{scroll:c}=this.root;c&&(Pi(o.x,c.offset.x),Pi(o.y,c.offset.y))}return o}removeElementScroll(a){var l;const o=yt();if(Sn(o,a),(l=this.scroll)!=null&&l.wasRoot)return o;for(let d=0;d<this.path.length;d++){const c=this.path[d],{scroll:h,options:m}=c;c!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&Sn(o,a),Pi(o.x,h.offset.x),Pi(o.y,h.offset.y))}return o}applyTransform(a,o=!1){const l=yt();Sn(l,a);for(let d=0;d<this.path.length;d++){const c=this.path[d];!o&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Oi(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Ls(c.latestValues)&&Oi(l,c.latestValues)}return Ls(this.latestValues)&&Oi(l,this.latestValues),l}removeTransform(a){const o=yt();Sn(o,a);for(let l=0;l<this.path.length;l++){const d=this.path[l];if(!d.instance||!Ls(d.latestValues))continue;$h(d.latestValues)&&d.updateSnapshot();const c=yt(),h=d.measurePageBox();Sn(c,h),ty(o,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,c)}return Ls(this.latestValues)&&ty(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Mt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var m;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(a||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:c,layoutId:h}=this.options;if(!(!this.layout||!(c||h))){if(this.resolvedRelativeTargetAt=Mt.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yt(),this.relativeTargetOrigin=yt(),co(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),Sn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=yt(),this.targetWithTransforms=yt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Zj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Sn(this.target,this.layout.layoutBox),iT(this.target,this.targetDelta)):Sn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yt(),this.relativeTargetOrigin=yt(),co(this.relativeTargetOrigin,this.target,f.target),Sn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||$h(this.parent.latestValues)||sT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var g;const a=this.getLead(),o=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Mt.timestamp&&(l=!1),l)return;const{layout:d,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||c))return;Sn(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;e4(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=yt());const{target:f}=a;if(!f){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(J0(this.prevProjectionDelta.x,this.projectionDelta.x),J0(this.prevProjectionDelta.y,this.projectionDelta.y)),uo(this.projectionDelta,this.layoutCorrected,f,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==m||!ay(this.projectionDelta.x,this.prevProjectionDelta.x)||!ay(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ri(),this.projectionDelta=Ri(),this.projectionDeltaWithTransform=Ri()}setAnimationOrigin(a,o=!1){const l=this.snapshot,d=l?l.latestValues:{},c={...this.latestValues},h=Ri();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const m=yt(),f=l?l.source:void 0,g=this.layout?this.layout.source:void 0,y=f!==g,x=this.getStack(),E=!x||x.members.length<=1,v=!!(y&&!E&&this.options.crossfade===!0&&!this.path.some(Y4));this.animationProgress=0;let w;this.mixTargetDelta=T=>{const S=T/1e3;uy(h.x,a.x,S),uy(h.y,a.y,S),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(co(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),W4(this.relativeTarget,this.relativeTargetOrigin,m,S),w&&I4(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=yt()),Sn(w,this.relativeTarget)),y&&(this.animationValues=c,_4(c,d,this.latestValues,S,v,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var o,l,d;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(d=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||d.stop(),this.pendingAnimation&&(ws(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ct.update(()=>{Zl.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=aa(0)),this.currentAnimation=x4(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),a.onUpdate&&a.onUpdate(c)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(D4),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:d,latestValues:c}=a;if(!(!o||!l||!d)){if(this!==a&&this.layout&&d&&yT(this.options.animationType,this.layout.layoutBox,d.layoutBox)){l=this.target||yt();const h=Xt(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+h;const m=Xt(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+m}Sn(o,l),Oi(o,c),uo(this.projectionDeltaWithTransform,this.layoutCorrected,o,c)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new R4),this.sharedNodes.get(a).add(o);const d=o.options.initialPromotionConfig;o.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const d=this.getStack();d&&d.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const d={};l.z&&_d("z",a,d,this.animationValues);for(let c=0;c<Td.length;c++)_d(`rotate${Td[c]}`,a,d,this.animationValues),_d(`skew${Td[c]}`,a,d,this.animationValues);a.render();for(const c in d)a.setStaticValue(c,d[c]),this.animationValues&&(this.animationValues[c]=d[c]);a.scheduleRender()}getProjectionStyles(a){if(!this.instance||this.isSVG)return;if(!this.isVisible)return O4;const o={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,o.opacity="",o.pointerEvents=Jl(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none",o;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const f={};return this.options.layoutId&&(f.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,f.pointerEvents=Jl(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Ls(this.latestValues)&&(f.transform=l?l({},""):"none",this.hasProjected=!1),f}const c=d.animationValues||d.latestValues;this.applyTransformsToTarget(),o.transform=P4(this.projectionDeltaWithTransform,this.treeScale,c),l&&(o.transform=l(c,o.transform));const{x:h,y:m}=this.projectionDelta;o.transformOrigin=`${h.origin*100}% ${m.origin*100}% 0`,d.animationValues?o.opacity=d===this?c.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:o.opacity=d===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(const f in Do){if(c[f]===void 0)continue;const{correct:g,applyTo:y,isCSSVariable:x}=Do[f],E=o.transform==="none"?c[f]:g(c[f],d);if(y){const v=y.length;for(let w=0;w<v;w++)o[y[w]]=E}else x?this.options.visualElement.renderState.vars[f]=E:o[f]=E}return this.options.layoutId&&(o.pointerEvents=d===this?Jl(a==null?void 0:a.pointerEvents)||"":"none"),o}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(oy),this.root.sharedNodes.clear()}}}function L4(e){e.updateLayout()}function j4(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,a=t.source!==e.layout.source;i==="size"?Cn(h=>{const m=a?t.measuredBox[h]:t.layoutBox[h],f=Xt(m);m.min=r[h].min,m.max=m.min+f}):yT(i,t.layoutBox,r)&&Cn(h=>{const m=a?t.measuredBox[h]:t.layoutBox[h],f=Xt(r[h]);m.max=m.min+f,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+f)});const o=Ri();uo(o,r,t.layoutBox);const l=Ri();a?uo(l,e.applyTransform(s,!0),t.measuredBox):uo(l,r,t.layoutBox);const d=!fT(o);let c=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:f}=h;if(m&&f){const g=yt();co(g,t.layoutBox,m.layoutBox);const y=yt();co(y,r,f.layoutBox),mT(g,y)||(c=!0),h.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=g,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:d,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function F4(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function B4(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function U4(e){e.clearSnapshot()}function oy(e){e.clearMeasurements()}function H4(e){e.isLayoutDirty=!1}function $4(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ly(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function V4(e){e.resolveTargetDelta()}function z4(e){e.calcProjection()}function q4(e){e.resetSkewAndRotation()}function G4(e){e.removeLeadSnapshot()}function uy(e,t,n){e.translate=ut(t.translate,0,n),e.scale=ut(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function cy(e,t,n,r){e.min=ut(t.min,n.min,r),e.max=ut(t.max,n.max,r)}function W4(e,t,n,r){cy(e.x,t.x,n.x,r),cy(e.y,t.y,n.y,r)}function Y4(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const K4={duration:.45,ease:[.4,0,.1,1]},dy=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),hy=dy("applewebkit/")&&!dy("chrome/")?Math.round:Rn;function fy(e){e.min=hy(e.min),e.max=hy(e.max)}function X4(e){fy(e.x),fy(e.y)}function yT(e,t,n){return e==="position"||e==="preserve-aspect"&&!Jj(iy(t),iy(n),.2)}function Q4(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const J4=gT({attachResizeListener:(e,t)=>Lo(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Sd={current:void 0},bT=gT({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Sd.current){const e=new J4({});e.mount(window),e.setOptions({layoutScroll:!0}),Sd.current=e}return Sd.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Z4={pan:{Feature:p4},drag:{Feature:m4,ProjectionNode:bT,MeasureLayout:cT}};function my(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&ct.postRender(()=>i(t,cl(t)))}class e6 extends Is{mount(){const{current:t}=this.node;t&&(this.unmount=CL(t,(n,r)=>(my(this.node,r,"Start"),s=>my(this.node,s,"End"))))}unmount(){}}class t6 extends Is{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ol(Lo(this.node.current,"focus",()=>this.onFocus()),Lo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function py(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&ct.postRender(()=>i(t,cl(t)))}class n6 extends Is{mount(){const{current:t}=this.node;t&&(this.unmount=IL(t,(n,r)=>(py(this.node,r,"Start"),(s,{success:i})=>py(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const qh=new WeakMap,Cd=new WeakMap,r6=e=>{const t=qh.get(e.target);t&&t(e)},s6=e=>{e.forEach(r6)};function i6({root:e,...t}){const n=e||document;Cd.has(n)||Cd.set(n,{});const r=Cd.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(s6,{root:e,...t})),r[s]}function a6(e,t,n){const r=i6(t);return qh.set(e,n),r.observe(e),()=>{qh.delete(e),r.unobserve(e)}}const o6={some:0,all:1};class l6 extends Is{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:o6[s]},o=l=>{const{isIntersecting:d}=l;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:c,onViewportLeave:h}=this.node.getProps(),m=d?c:h;m&&m(l)};return a6(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(u6(t,n))&&this.startObserver()}unmount(){}}function u6({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const c6={inView:{Feature:l6},tap:{Feature:n6},focus:{Feature:t6},hover:{Feature:e6}},d6={layout:{ProjectionNode:bT,MeasureLayout:cT}},Gh={current:null},xT={current:!1};function h6(){if(xT.current=!0,!!gm)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Gh.current=e.matches;e.addListener(t),t()}else Gh.current=!1}const f6=new WeakMap;function m6(e,t,n){for(const r in t){const s=t[r],i=n[r];if(Ut(s))e.addValue(r,s);else if(Ut(i))e.addValue(r,aa(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const a=e.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=e.getStaticValue(r);e.addValue(r,aa(a!==void 0?a:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const gy=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class p6{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Pm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=an.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,ct.render(this.render,!1,!0))};const{latestValues:l,renderState:d}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=yc(n),this.isVariantNode=Uw(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in h){const f=h[m];l[m]!==void 0&&Ut(f)&&f.set(l[m],!1)}}mount(t){this.current=t,f6.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),xT.current||h6(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Gh.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ws(this.notifyUpdate),ws(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Sa.has(t);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&ct.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in oa){const n=oa[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):yt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<gy.length;r++){const s=gy[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=t[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=m6(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=aa(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(YE(r)||XE(r))?r=parseFloat(r):!OL(r)&&Ts.test(n)&&(r=Rw(t,n)),this.setBaseTarget(t,Ut(r)?r.get():r)),Ut(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=qm(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);a&&(r=a[t])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Ut(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new vm),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class vT extends p6{constructor(){super(...arguments),this.KeyframeResolver=EL}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ut(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function ET(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}function g6(e){return window.getComputedStyle(e)}class y6 extends vT{constructor(){super(...arguments),this.type="html",this.renderInstance=ET}readValueFromInstance(t,n){var r;if(Sa.has(n))return(r=this.projection)!=null&&r.isProjecting?Oh(n):UM(t,n);{const s=g6(t),i=(Tm(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return aT(t,n)}build(t,n,r){$m(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Gm(t,n,r)}}const wT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function b6(e,t,n,r){ET(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(wT.has(s)?s:Hm(s),t.attrs[s])}class x6 extends vT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=yt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Sa.has(n)){const r=Iw(n);return r&&r.default||0}return n=wT.has(n)?n:Hm(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return Xw(t,n,r)}build(t,n,r){Gw(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,s){b6(t,n,r,s)}mount(t){this.isSVGTag=Yw(t.tagName),super.mount(t)}}const v6=(e,t)=>zm(e)?new x6(t):new y6(t,{allowProjection:e!==b.Fragment}),E6=bj({...zj,...c6,...Z4,...d6},v6),Ad=VL(E6);function w6({features:e,className:t,title:n="Everything You Need Included",autoPlayInterval:r=3e3,imageHeight:s="h-[400px]"}){const[i,a]=b.useState(0),[o,l]=b.useState(0);return b.useEffect(()=>{const d=setInterval(()=>{o<100?l(c=>c+100/(r/100)):(a(c=>(c+1)%e.length),l(0))},100);return()=>clearInterval(d)},[o,e.length,r]),u.jsx("div",{className:I("p-8 md:p-12 bg-card",t),children:u.jsxs("div",{className:"max-w-7xl mx-auto w-full",children:[u.jsx("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold mb-10 text-center text-black",children:n}),u.jsxs("div",{className:"flex flex-col md:grid md:grid-cols-2 gap-6 md:gap-10",children:[u.jsx("div",{className:"order-2 md:order-1 space-y-8",children:e.map((d,c)=>u.jsxs(Ad.div,{className:"flex items-center gap-6 md:gap-8",initial:{opacity:.3},animate:{opacity:c===i?1:.3},transition:{duration:.5},children:[u.jsx(Ad.div,{className:I("w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center border-2",c===i?"bg-primary border-primary text-primary-foreground scale-110":"bg-muted border-muted-foreground"),children:c<=i?u.jsx("span",{className:"text-lg font-bold text-primary-foreground",children:""}):u.jsx("span",{className:"text-lg font-semibold",children:c+1})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-xl md:text-2xl font-semibold text-[#1D2B35]",children:d.title||d.step}),u.jsx("p",{className:"text-sm md:text-lg text-muted-foreground",children:d.content})]})]},c))}),u.jsx("div",{className:"order-1 md:order-2 relative h-[200px] md:h-[300px] lg:h-[400px] overflow-hidden rounded-lg",children:u.jsx(FL,{mode:"wait",children:e.map((d,c)=>c===i&&u.jsx(Ad.div,{className:"absolute inset-0 rounded-lg overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4,ease:"easeInOut"},children:u.jsx("img",{src:d.image,alt:d.step,className:"w-full h-full object-cover"})},c))})})]})]})})}var bc="Collapsible",[T6,TT]=Dn(bc),[_6,Ym]=T6(bc),_T=b.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:i,onOpenChange:a,...o}=e,[l,d]=Hr({prop:r,defaultProp:s??!1,onChange:a,caller:bc});return u.jsx(_6,{scope:n,disabled:i,contentId:Er(),open:l,onOpenToggle:b.useCallback(()=>d(c=>!c),[d]),children:u.jsx(Fe.div,{"data-state":Xm(l),"data-disabled":i?"":void 0,...o,ref:t})})});_T.displayName=bc;var ST="CollapsibleTrigger",CT=b.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,s=Ym(ST,n);return u.jsx(Fe.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":Xm(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:t,onClick:Ee(e.onClick,s.onOpenToggle)})});CT.displayName=ST;var Km="CollapsibleContent",AT=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Ym(Km,e.__scopeCollapsible);return u.jsx(kr,{present:n||s.open,children:({present:i})=>u.jsx(S6,{...r,ref:t,present:i})})});AT.displayName=Km;var S6=b.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:s,...i}=e,a=Ym(Km,n),[o,l]=b.useState(r),d=b.useRef(null),c=Ke(t,d),h=b.useRef(0),m=h.current,f=b.useRef(0),g=f.current,y=a.open||o,x=b.useRef(y),E=b.useRef(void 0);return b.useEffect(()=>{const v=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(v)},[]),On(()=>{const v=d.current;if(v){E.current=E.current||{transitionDuration:v.style.transitionDuration,animationName:v.style.animationName},v.style.transitionDuration="0s",v.style.animationName="none";const w=v.getBoundingClientRect();h.current=w.height,f.current=w.width,x.current||(v.style.transitionDuration=E.current.transitionDuration,v.style.animationName=E.current.animationName),l(r)}},[a.open,r]),u.jsx(Fe.div,{"data-state":Xm(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!y,...i,ref:c,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:y&&s})});function Xm(e){return e?"open":"closed"}var C6=_T,A6=CT,N6=AT,sr="Accordion",k6=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Qm,I6,R6]=wf(sr),[xc,bY]=Dn(sr,[R6,TT]),Jm=TT(),NT=K.forwardRef((e,t)=>{const{type:n,...r}=e,s=r,i=r;return u.jsx(Qm.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?u.jsx(M6,{...i,ref:t}):u.jsx(D6,{...s,ref:t})})});NT.displayName=sr;var[kT,P6]=xc(sr),[IT,O6]=xc(sr,{collapsible:!1}),D6=K.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},collapsible:i=!1,...a}=e,[o,l]=Hr({prop:n,defaultProp:r??"",onChange:s,caller:sr});return u.jsx(kT,{scope:e.__scopeAccordion,value:K.useMemo(()=>o?[o]:[],[o]),onItemOpen:l,onItemClose:K.useCallback(()=>i&&l(""),[i,l]),children:u.jsx(IT,{scope:e.__scopeAccordion,collapsible:i,children:u.jsx(RT,{...a,ref:t})})})}),M6=K.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...i}=e,[a,o]=Hr({prop:n,defaultProp:r??[],onChange:s,caller:sr}),l=K.useCallback(c=>o((h=[])=>[...h,c]),[o]),d=K.useCallback(c=>o((h=[])=>h.filter(m=>m!==c)),[o]);return u.jsx(kT,{scope:e.__scopeAccordion,value:a,onItemOpen:l,onItemClose:d,children:u.jsx(IT,{scope:e.__scopeAccordion,collapsible:!0,children:u.jsx(RT,{...i,ref:t})})})}),[L6,vc]=xc(sr),RT=K.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:r,dir:s,orientation:i="vertical",...a}=e,o=K.useRef(null),l=Ke(o,t),d=I6(n),h=$u(s)==="ltr",m=Ee(e.onKeyDown,f=>{var j;if(!k6.includes(f.key))return;const g=f.target,y=d().filter(F=>{var V;return!((V=F.ref.current)!=null&&V.disabled)}),x=y.findIndex(F=>F.ref.current===g),E=y.length;if(x===-1)return;f.preventDefault();let v=x;const w=0,T=E-1,S=()=>{v=x+1,v>T&&(v=w)},C=()=>{v=x-1,v<w&&(v=T)};switch(f.key){case"Home":v=w;break;case"End":v=T;break;case"ArrowRight":i==="horizontal"&&(h?S():C());break;case"ArrowDown":i==="vertical"&&S();break;case"ArrowLeft":i==="horizontal"&&(h?C():S());break;case"ArrowUp":i==="vertical"&&C();break}const D=v%E;(j=y[D].ref.current)==null||j.focus()});return u.jsx(L6,{scope:n,disabled:r,direction:s,orientation:i,children:u.jsx(Qm.Slot,{scope:n,children:u.jsx(Fe.div,{...a,"data-orientation":i,ref:l,onKeyDown:r?void 0:m})})})}),wu="AccordionItem",[j6,Zm]=xc(wu),PT=K.forwardRef((e,t)=>{const{__scopeAccordion:n,value:r,...s}=e,i=vc(wu,n),a=P6(wu,n),o=Jm(n),l=Er(),d=r&&a.value.includes(r)||!1,c=i.disabled||e.disabled;return u.jsx(j6,{scope:n,open:d,disabled:c,triggerId:l,children:u.jsx(C6,{"data-orientation":i.orientation,"data-state":FT(d),...o,...s,ref:t,disabled:c,open:d,onOpenChange:h=>{h?a.onItemOpen(r):a.onItemClose(r)}})})});PT.displayName=wu;var OT="AccordionHeader",DT=K.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=vc(sr,n),i=Zm(OT,n);return u.jsx(Fe.h3,{"data-orientation":s.orientation,"data-state":FT(i.open),"data-disabled":i.disabled?"":void 0,...r,ref:t})});DT.displayName=OT;var Wh="AccordionTrigger",MT=K.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=vc(sr,n),i=Zm(Wh,n),a=O6(Wh,n),o=Jm(n);return u.jsx(Qm.ItemSlot,{scope:n,children:u.jsx(A6,{"aria-disabled":i.open&&!a.collapsible||void 0,"data-orientation":s.orientation,id:i.triggerId,...o,...r,ref:t})})});MT.displayName=Wh;var LT="AccordionContent",jT=K.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=vc(sr,n),i=Zm(LT,n),a=Jm(n);return u.jsx(N6,{role:"region","aria-labelledby":i.triggerId,"data-orientation":s.orientation,...a,...r,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});jT.displayName=LT;function FT(e){return e?"open":"closed"}var F6=NT,B6=PT,U6=DT,BT=MT,UT=jT;const ep=F6,Ec=b.forwardRef(({className:e,...t},n)=>u.jsx(B6,{ref:n,className:I("border-b",e),...t}));Ec.displayName="AccordionItem";const wc=b.forwardRef(({className:e,children:t,...n},r)=>u.jsx(U6,{className:"flex",children:u.jsxs(BT,{ref:r,className:I("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...n,children:[t,u.jsx(Cf,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));wc.displayName=BT.displayName;const Tc=b.forwardRef(({className:e,children:t,...n},r)=>u.jsx(UT,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:u.jsx("div",{className:I("pb-4 pt-0",e),children:t})}));Tc.displayName=UT.displayName;var H6="Separator",yy="horizontal",$6=["horizontal","vertical"],HT=b.forwardRef((e,t)=>{const{decorative:n,orientation:r=yy,...s}=e,i=V6(r)?r:yy,o=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return u.jsx(Fe.div,{"data-orientation":i,...o,...s,ref:t})});HT.displayName=H6;function V6(e){return $6.includes(e)}var $T=HT;const tp=b.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},s)=>u.jsx($T,{ref:s,decorative:n,orientation:t,className:I("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));tp.displayName=$T.displayName;const z6=({heading:e="Frequently asked questions",items:t=[{question:"What is the Murder Mystery Creator and how does it work?",answer:"Murder Mystery Creator is an AI-powered app that designs custom murder mystery party games. You answer a few questions about your preferences (theme, player count), and our AI generates a complete package with character guides, story elements, and game materialsall tailored to your specific event needs."},{question:"How does the creation and purchase process work?",answer:"The process is simple: First, create your murder mystery story by answering a few questions about theme and player count. You'll get a preview of your story and characters for free. When you're satisfied with your creation, you can purchase the complete package for $4.99. This one-time purchase gives you instant access to downloadable PDFs including a comprehensive host guide and detailed character profiles for every player."},{question:"Can I save my work and come back to it later?",answer:"Yes! All your murder mystery projects are saved to your account and you can return to edit them at any time."},{question:"Are these murder mysteries replayable?",answer:"Yes! Our murder mysteries are designed with replayability in mind. The random murderer selection mechanism means that even with the same character set and scenario, you'll get a different experience each time you play. This allows you to host the same mystery multiple times with different groups or even with the same group for a fresh experience."},{question:"How many players do I need for a murder mystery game?",answer:"Our murder mysteries are designed to accommodate various group sizes. We have options for small gatherings (5-6 players), medium-sized events (7-10 players), and larger parties (11+ players). The system will customize the character count and story complexity based on your specified player count."},{question:"Can I customize the difficulty level of my mystery?",answer:"Absolutely! When creating your mystery, you can choose from three difficulty levels: Easy (perfect for first-time players and casual gatherings), Medium (balanced complexity with moderate sleuthing required), and Hard (intricate plots with complex clues for experienced mystery solvers)."},{question:"Do I need to prepare anything else for my murder mystery party?",answer:"Our packages include everything needed for the game itself. You'll receive a host guide with setup instructions, individual character materials for each player, and all necessary clues and game elements. You may want to plan complementary aspects like themed food, decorations, or costume suggestions, but these are optional enhancements."},{question:"What if I need to add or remove players at the last minute?",answer:"We understand plans can change! Our system allows you to adjust your player count even after creating your mystery. The AI will intelligently adapt the story and characters to accommodate these changes without compromising the quality or coherence of the mystery."},{question:"Can I run the same mystery multiple times with different groups?",answer:"Absolutely! Once you've purchased a mystery, it's yours to use as many times as you want. Many hosts find they can run the same mystery with different groups of friends, adding their own spin to it each time."},{question:"Do you offer themed mysteries for special occasions?",answer:"Yes, we have specially designed themes for holidays, birthdays, corporate events, and more. You can also work with our AI to customize any theme to fit your specific occasion."},{question:"How long does a typical murder mystery game last?",answer:"Most of our mysteries are designed to run for 2-3 hours, but the timing is flexible. The host guide provides suggestions for pacing, and you can adjust the game length by extending casual conversation periods or shortening them to fit your schedule."},{question:"Is there an age recommendation for your murder mysteries?",answer:"We offer mysteries appropriate for various age groups. Our standard mysteries are designed for adults and teens (13+), but we also have family-friendly options suitable for players as young as 10. Each mystery listing clearly indicates the recommended minimum age."}]})=>u.jsx("section",{className:"py-32",children:u.jsxs("div",{className:"container mx-auto",children:[u.jsx("h1",{className:"mb-4 text-3xl font-semibold md:mb-11 md:text-5xl",children:e}),u.jsx("div",{children:t.map((n,r)=>u.jsxs(K.Fragment,{children:[u.jsx(ep,{type:"single",collapsible:!0,children:u.jsxs(Ec,{value:`item-${r}`,className:"border-none",children:[u.jsx(wc,{className:"hover:text-foreground/60 hover:no-underline",children:n.question}),u.jsx(Tc,{children:n.answer})]})}),r<t.length-1&&u.jsx(tp,{className:"my-1"})]},r))})]})});function q6({steps:e,className:t}){return u.jsx("div",{className:I("py-16 px-4",t),children:u.jsx("div",{className:"max-w-7xl mx-auto",children:u.jsx("div",{className:"flex items-center justify-center",children:u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 relative",children:e.map((n,r)=>u.jsxs("div",{className:"flex flex-col items-center text-center relative",children:[u.jsx("div",{className:"bg-black text-white rounded-full h-16 w-16 flex items-center justify-center text-xl font-bold mb-5 z-10",children:n.number}),u.jsxs("div",{className:"max-w-[180px]",children:[u.jsx("h3",{className:"font-medium mb-2",children:n.title}),u.jsx("p",{className:"text-sm text-muted-foreground",children:n.description})]})]},r))})})})})}const G6=768;function ir(){const[e,t]=b.useState(!1);return b.useEffect(()=>{const n=()=>{t(window.innerWidth<G6)};return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),e}const kt=b.forwardRef(({className:e,...t},n)=>{const r=ir();return u.jsx("div",{ref:n,className:I("rounded-lg border bg-card text-card-foreground shadow-sm overflow-hidden",r&&"shadow-none border-0 bg-transparent",e),...t})});kt.displayName="Card";const Ht=b.forwardRef(({className:e,...t},n)=>{const r=ir();return u.jsx("div",{ref:n,className:I("flex flex-col space-y-1.5",r?"p-3":"p-6",e),...t})});Ht.displayName="CardHeader";const on=b.forwardRef(({className:e,...t},n)=>u.jsx("h4",{ref:n,className:I("text-lg font-semibold leading-tight line-clamp-2",e),...t}));on.displayName="CardTitle";const xn=b.forwardRef(({className:e,...t},n)=>u.jsx("p",{ref:n,className:I("text-sm text-muted-foreground",e),...t}));xn.displayName="CardDescription";const It=b.forwardRef(({className:e,...t},n)=>{const r=ir();return u.jsx("div",{ref:n,className:I(r?"p-3 pt-0":"p-6 pt-0",e),...t})});It.displayName="CardContent";const jo=b.forwardRef(({className:e,...t},n)=>{const r=ir();return u.jsx("div",{ref:n,className:I("flex items-center pt-0",r?"p-3":"p-6",e),...t})});jo.displayName="CardFooter";const dt=b.forwardRef(({className:e,type:t,...n},r)=>u.jsx("input",{type:t,className:I("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));dt.displayName="Input";const W6=pa("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Nd({className:e,variant:t,...n}){return u.jsx("div",{className:I(W6({variant:t}),e),...n})}var Yh=["Enter"," "],Y6=["ArrowDown","PageUp","Home"],VT=["ArrowUp","PageDown","End"],K6=[...Y6,...VT],X6={ltr:[...Yh,"ArrowRight"],rtl:[...Yh,"ArrowLeft"]},Q6={ltr:["ArrowLeft"],rtl:["ArrowRight"]},dl="Menu",[Fo,J6,Z6]=wf(dl),[ui,zT]=Dn(dl,[Z6,xa,Vu]),_c=xa(),qT=Vu(),[eF,ci]=ui(dl),[tF,hl]=ui(dl),GT=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:i,modal:a=!0}=e,o=_c(t),[l,d]=b.useState(null),c=b.useRef(!1),h=ta(i),m=$u(s);return b.useEffect(()=>{const f=()=>{c.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>c.current=!1;return document.addEventListener("keydown",f,{capture:!0}),()=>{document.removeEventListener("keydown",f,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),u.jsx(Ov,{...o,children:u.jsx(eF,{scope:t,open:n,onOpenChange:h,content:l,onContentChange:d,children:u.jsx(tF,{scope:t,onClose:b.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:c,dir:m,modal:a,children:r})})})};GT.displayName=dl;var nF="MenuAnchor",np=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=_c(n);return u.jsx(Bf,{...s,...r,ref:t})});np.displayName=nF;var rp="MenuPortal",[rF,WT]=ui(rp,{forceMount:void 0}),YT=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,i=ci(rp,t);return u.jsx(rF,{scope:t,forceMount:n,children:u.jsx(kr,{present:n||i.open,children:u.jsx(Tf,{asChild:!0,container:s,children:r})})})};YT.displayName=rp;var Pn="MenuContent",[sF,sp]=ui(Pn),KT=b.forwardRef((e,t)=>{const n=WT(Pn,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,i=ci(Pn,e.__scopeMenu),a=hl(Pn,e.__scopeMenu);return u.jsx(Fo.Provider,{scope:e.__scopeMenu,children:u.jsx(kr,{present:r||i.open,children:u.jsx(Fo.Slot,{scope:e.__scopeMenu,children:a.modal?u.jsx(iF,{...s,ref:t}):u.jsx(aF,{...s,ref:t})})})})}),iF=b.forwardRef((e,t)=>{const n=ci(Pn,e.__scopeMenu),r=b.useRef(null),s=Ke(t,r);return b.useEffect(()=>{const i=r.current;if(i)return em(i)},[]),u.jsx(ip,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ee(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),aF=b.forwardRef((e,t)=>{const n=ci(Pn,e.__scopeMenu);return u.jsx(ip,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),oF=_f("MenuContent.ScrollLock"),ip=b.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEntryFocus:l,onEscapeKeyDown:d,onPointerDownOutside:c,onFocusOutside:h,onInteractOutside:m,onDismiss:f,disableOutsideScroll:g,...y}=e,x=ci(Pn,n),E=hl(Pn,n),v=_c(n),w=qT(n),T=J6(n),[S,C]=b.useState(null),D=b.useRef(null),j=Ke(t,D,x.onContentChange),F=b.useRef(0),V=b.useRef(""),z=b.useRef(0),P=b.useRef(null),W=b.useRef("right"),Q=b.useRef(0),te=g?uc:b.Fragment,L=g?{as:oF,allowPinchZoom:!0}:void 0,U=O=>{var G,ce;const _=V.current+O,ee=T().filter(de=>!de.disabled),ie=document.activeElement,k=(G=ee.find(de=>de.ref.current===ie))==null?void 0:G.textValue,ge=ee.map(de=>de.textValue),Re=xF(ge,_,k),Ae=(ce=ee.find(de=>de.textValue===Re))==null?void 0:ce.ref.current;(function de(be){V.current=be,window.clearTimeout(F.current),be!==""&&(F.current=window.setTimeout(()=>de(""),1e3))})(_),Ae&&setTimeout(()=>Ae.focus())};b.useEffect(()=>()=>window.clearTimeout(F.current),[]),Jf();const Y=b.useCallback(O=>{var ee,ie;return W.current===((ee=P.current)==null?void 0:ee.side)&&EF(O,(ie=P.current)==null?void 0:ie.area)},[]);return u.jsx(sF,{scope:n,searchRef:V,onItemEnter:b.useCallback(O=>{Y(O)&&O.preventDefault()},[Y]),onItemLeave:b.useCallback(O=>{var _;Y(O)||((_=D.current)==null||_.focus(),C(null))},[Y]),onTriggerLeave:b.useCallback(O=>{Y(O)&&O.preventDefault()},[Y]),pointerGraceTimerRef:z,onPointerGraceIntentChange:b.useCallback(O=>{P.current=O},[]),children:u.jsx(te,{...L,children:u.jsx(oc,{asChild:!0,trapped:s,onMountAutoFocus:Ee(i,O=>{var _;O.preventDefault(),(_=D.current)==null||_.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:u.jsx(Hu,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:d,onPointerDownOutside:c,onFocusOutside:h,onInteractOutside:m,onDismiss:f,children:u.jsx(zx,{asChild:!0,...w,dir:E.dir,orientation:"vertical",loop:r,currentTabStopId:S,onCurrentTabStopIdChange:C,onEntryFocus:Ee(l,O=>{E.isUsingKeyboardRef.current||O.preventDefault()}),preventScrollOnEntryFocus:!0,children:u.jsx(Uf,{role:"menu","aria-orientation":"vertical","data-state":d_(x.open),"data-radix-menu-content":"",dir:E.dir,...v,...y,ref:j,style:{outline:"none",...y.style},onKeyDown:Ee(y.onKeyDown,O=>{const ee=O.target.closest("[data-radix-menu-content]")===O.currentTarget,ie=O.ctrlKey||O.altKey||O.metaKey,k=O.key.length===1;ee&&(O.key==="Tab"&&O.preventDefault(),!ie&&k&&U(O.key));const ge=D.current;if(O.target!==ge||!K6.includes(O.key))return;O.preventDefault();const Ae=T().filter(G=>!G.disabled).map(G=>G.ref.current);VT.includes(O.key)&&Ae.reverse(),yF(Ae)}),onBlur:Ee(e.onBlur,O=>{O.currentTarget.contains(O.target)||(window.clearTimeout(F.current),V.current="")}),onPointerMove:Ee(e.onPointerMove,Bo(O=>{const _=O.target,ee=Q.current!==O.clientX;if(O.currentTarget.contains(_)&&ee){const ie=O.clientX>Q.current?"right":"left";W.current=ie,Q.current=O.clientX}}))})})})})})})});KT.displayName=Pn;var lF="MenuGroup",ap=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return u.jsx(Fe.div,{role:"group",...r,ref:t})});ap.displayName=lF;var uF="MenuLabel",XT=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return u.jsx(Fe.div,{...r,ref:t})});XT.displayName=uF;var Tu="MenuItem",by="menu.itemSelect",Sc=b.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,i=b.useRef(null),a=hl(Tu,e.__scopeMenu),o=sp(Tu,e.__scopeMenu),l=Ke(t,i),d=b.useRef(!1),c=()=>{const h=i.current;if(!n&&h){const m=new CustomEvent(by,{bubbles:!0,cancelable:!0});h.addEventListener(by,f=>r==null?void 0:r(f),{once:!0}),nN(h,m),m.defaultPrevented?d.current=!1:a.onClose()}};return u.jsx(QT,{...s,ref:l,disabled:n,onClick:Ee(e.onClick,c),onPointerDown:h=>{var m;(m=e.onPointerDown)==null||m.call(e,h),d.current=!0},onPointerUp:Ee(e.onPointerUp,h=>{var m;d.current||(m=h.currentTarget)==null||m.click()}),onKeyDown:Ee(e.onKeyDown,h=>{const m=o.searchRef.current!=="";n||m&&h.key===" "||Yh.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Sc.displayName=Tu;var QT=b.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=e,a=sp(Tu,n),o=qT(n),l=b.useRef(null),d=Ke(t,l),[c,h]=b.useState(!1),[m,f]=b.useState("");return b.useEffect(()=>{const g=l.current;g&&f((g.textContent??"").trim())},[i.children]),u.jsx(Fo.ItemSlot,{scope:n,disabled:r,textValue:s??m,children:u.jsx(qx,{asChild:!0,...o,focusable:!r,children:u.jsx(Fe.div,{role:"menuitem","data-highlighted":c?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:d,onPointerMove:Ee(e.onPointerMove,Bo(g=>{r?a.onItemLeave(g):(a.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ee(e.onPointerLeave,Bo(g=>a.onItemLeave(g))),onFocus:Ee(e.onFocus,()=>h(!0)),onBlur:Ee(e.onBlur,()=>h(!1))})})})}),cF="MenuCheckboxItem",JT=b.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return u.jsx(r_,{scope:e.__scopeMenu,checked:n,children:u.jsx(Sc,{role:"menuitemcheckbox","aria-checked":_u(n)?"mixed":n,...s,ref:t,"data-state":lp(n),onSelect:Ee(s.onSelect,()=>r==null?void 0:r(_u(n)?!0:!n),{checkForDefaultPrevented:!1})})})});JT.displayName=cF;var ZT="MenuRadioGroup",[dF,hF]=ui(ZT,{value:void 0,onValueChange:()=>{}}),e_=b.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,i=ta(r);return u.jsx(dF,{scope:e.__scopeMenu,value:n,onValueChange:i,children:u.jsx(ap,{...s,ref:t})})});e_.displayName=ZT;var t_="MenuRadioItem",n_=b.forwardRef((e,t)=>{const{value:n,...r}=e,s=hF(t_,e.__scopeMenu),i=n===s.value;return u.jsx(r_,{scope:e.__scopeMenu,checked:i,children:u.jsx(Sc,{role:"menuitemradio","aria-checked":i,...r,ref:t,"data-state":lp(i),onSelect:Ee(r.onSelect,()=>{var a;return(a=s.onValueChange)==null?void 0:a.call(s,n)},{checkForDefaultPrevented:!1})})})});n_.displayName=t_;var op="MenuItemIndicator",[r_,fF]=ui(op,{checked:!1}),s_=b.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,i=fF(op,n);return u.jsx(kr,{present:r||_u(i.checked)||i.checked===!0,children:u.jsx(Fe.span,{...s,ref:t,"data-state":lp(i.checked)})})});s_.displayName=op;var mF="MenuSeparator",i_=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return u.jsx(Fe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});i_.displayName=mF;var pF="MenuArrow",a_=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=_c(n);return u.jsx(Hf,{...s,...r,ref:t})});a_.displayName=pF;var gF="MenuSub",[xY,o_]=ui(gF),Qa="MenuSubTrigger",l_=b.forwardRef((e,t)=>{const n=ci(Qa,e.__scopeMenu),r=hl(Qa,e.__scopeMenu),s=o_(Qa,e.__scopeMenu),i=sp(Qa,e.__scopeMenu),a=b.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:l}=i,d={__scopeMenu:e.__scopeMenu},c=b.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return b.useEffect(()=>c,[c]),b.useEffect(()=>{const h=o.current;return()=>{window.clearTimeout(h),l(null)}},[o,l]),u.jsx(np,{asChild:!0,...d,children:u.jsx(QT,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":d_(n.open),...e,ref:Gx(t,s.onTriggerChange),onClick:h=>{var m;(m=e.onClick)==null||m.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ee(e.onPointerMove,Bo(h=>{i.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!n.open&&!a.current&&(i.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),c()},100))})),onPointerLeave:Ee(e.onPointerLeave,Bo(h=>{var f,g;c();const m=(f=n.content)==null?void 0:f.getBoundingClientRect();if(m){const y=(g=n.content)==null?void 0:g.dataset.side,x=y==="right",E=x?-5:5,v=m[x?"left":"right"],w=m[x?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+E,y:h.clientY},{x:v,y:m.top},{x:w,y:m.top},{x:w,y:m.bottom},{x:v,y:m.bottom}],side:y}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Ee(e.onKeyDown,h=>{var f;const m=i.searchRef.current!=="";e.disabled||m&&h.key===" "||X6[r.dir].includes(h.key)&&(n.onOpenChange(!0),(f=n.content)==null||f.focus(),h.preventDefault())})})})});l_.displayName=Qa;var u_="MenuSubContent",c_=b.forwardRef((e,t)=>{const n=WT(Pn,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,i=ci(Pn,e.__scopeMenu),a=hl(Pn,e.__scopeMenu),o=o_(u_,e.__scopeMenu),l=b.useRef(null),d=Ke(t,l);return u.jsx(Fo.Provider,{scope:e.__scopeMenu,children:u.jsx(kr,{present:r||i.open,children:u.jsx(Fo.Slot,{scope:e.__scopeMenu,children:u.jsx(ip,{id:o.contentId,"aria-labelledby":o.triggerId,...s,ref:d,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:c=>{var h;a.isUsingKeyboardRef.current&&((h=l.current)==null||h.focus()),c.preventDefault()},onCloseAutoFocus:c=>c.preventDefault(),onFocusOutside:Ee(e.onFocusOutside,c=>{c.target!==o.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Ee(e.onEscapeKeyDown,c=>{a.onClose(),c.preventDefault()}),onKeyDown:Ee(e.onKeyDown,c=>{var f;const h=c.currentTarget.contains(c.target),m=Q6[a.dir].includes(c.key);h&&m&&(i.onOpenChange(!1),(f=o.trigger)==null||f.focus(),c.preventDefault())})})})})})});c_.displayName=u_;function d_(e){return e?"open":"closed"}function _u(e){return e==="indeterminate"}function lp(e){return _u(e)?"indeterminate":e?"checked":"unchecked"}function yF(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function bF(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function xF(e,t,n){const s=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let a=bF(e,Math.max(i,0));s.length===1&&(a=a.filter(d=>d!==n));const l=a.find(d=>d.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function vF(e,t){const{x:n,y:r}=e;let s=!1;for(let i=0,a=t.length-1;i<t.length;a=i++){const o=t[i],l=t[a],d=o.x,c=o.y,h=l.x,m=l.y;c>r!=m>r&&n<(h-d)*(r-c)/(m-c)+d&&(s=!s)}return s}function EF(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return vF(n,t)}function Bo(e){return t=>t.pointerType==="mouse"?e(t):void 0}var wF=GT,TF=np,_F=YT,SF=KT,CF=ap,AF=XT,NF=Sc,kF=JT,IF=e_,RF=n_,PF=s_,OF=i_,DF=a_,MF=l_,LF=c_,Cc="DropdownMenu",[jF,vY]=Dn(Cc,[zT]),Qt=zT(),[FF,h_]=jF(Cc),f_=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,l=Qt(t),d=b.useRef(null),[c,h]=Hr({prop:s,defaultProp:i??!1,onChange:a,caller:Cc});return u.jsx(FF,{scope:t,triggerId:Er(),triggerRef:d,contentId:Er(),open:c,onOpenChange:h,onOpenToggle:b.useCallback(()=>h(m=>!m),[h]),modal:o,children:u.jsx(wF,{...l,open:c,onOpenChange:h,dir:r,modal:o,children:n})})};f_.displayName=Cc;var m_="DropdownMenuTrigger",p_=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,i=h_(m_,n),a=Qt(n);return u.jsx(TF,{asChild:!0,...a,children:u.jsx(Fe.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Gx(t,i.triggerRef),onPointerDown:Ee(e.onPointerDown,o=>{!r&&o.button===0&&o.ctrlKey===!1&&(i.onOpenToggle(),i.open||o.preventDefault())}),onKeyDown:Ee(e.onKeyDown,o=>{r||(["Enter"," "].includes(o.key)&&i.onOpenToggle(),o.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});p_.displayName=m_;var BF="DropdownMenuPortal",g_=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Qt(t);return u.jsx(_F,{...r,...n})};g_.displayName=BF;var y_="DropdownMenuContent",b_=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=h_(y_,n),i=Qt(n),a=b.useRef(!1);return u.jsx(SF,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:t,onCloseAutoFocus:Ee(e.onCloseAutoFocus,o=>{var l;a.current||(l=s.triggerRef.current)==null||l.focus(),a.current=!1,o.preventDefault()}),onInteractOutside:Ee(e.onInteractOutside,o=>{const l=o.detail.originalEvent,d=l.button===0&&l.ctrlKey===!0,c=l.button===2||d;(!s.modal||c)&&(a.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});b_.displayName=y_;var UF="DropdownMenuGroup",HF=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Qt(n);return u.jsx(CF,{...s,...r,ref:t})});HF.displayName=UF;var $F="DropdownMenuLabel",x_=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Qt(n);return u.jsx(AF,{...s,...r,ref:t})});x_.displayName=$F;var VF="DropdownMenuItem",v_=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Qt(n);return u.jsx(NF,{...s,...r,ref:t})});v_.displayName=VF;var zF="DropdownMenuCheckboxItem",E_=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Qt(n);return u.jsx(kF,{...s,...r,ref:t})});E_.displayName=zF;var qF="DropdownMenuRadioGroup",GF=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Qt(n);return u.jsx(IF,{...s,...r,ref:t})});GF.displayName=qF;var WF="DropdownMenuRadioItem",w_=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Qt(n);return u.jsx(RF,{...s,...r,ref:t})});w_.displayName=WF;var YF="DropdownMenuItemIndicator",T_=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Qt(n);return u.jsx(PF,{...s,...r,ref:t})});T_.displayName=YF;var KF="DropdownMenuSeparator",__=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Qt(n);return u.jsx(OF,{...s,...r,ref:t})});__.displayName=KF;var XF="DropdownMenuArrow",QF=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Qt(n);return u.jsx(DF,{...s,...r,ref:t})});QF.displayName=XF;var JF="DropdownMenuSubTrigger",S_=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Qt(n);return u.jsx(MF,{...s,...r,ref:t})});S_.displayName=JF;var ZF="DropdownMenuSubContent",C_=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Qt(n);return u.jsx(LF,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});C_.displayName=ZF;var e5=f_,t5=p_,n5=g_,A_=b_,N_=x_,k_=v_,I_=E_,R_=w_,P_=T_,O_=__,D_=S_,M_=C_;const r5=e5,s5=t5,i5=b.forwardRef(({className:e,inset:t,children:n,...r},s)=>u.jsxs(D_,{ref:s,className:I("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,u.jsx(EN,{className:"ml-auto h-4 w-4"})]}));i5.displayName=D_.displayName;const a5=b.forwardRef(({className:e,...t},n)=>u.jsx(M_,{ref:n,className:I("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));a5.displayName=M_.displayName;const L_=b.forwardRef(({className:e,sideOffset:t=4,...n},r)=>u.jsx(n5,{children:u.jsx(A_,{ref:r,sideOffset:t,className:I("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));L_.displayName=A_.displayName;const Kh=b.forwardRef(({className:e,inset:t,...n},r)=>u.jsx(k_,{ref:r,className:I("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));Kh.displayName=k_.displayName;const o5=b.forwardRef(({className:e,children:t,checked:n,...r},s)=>u.jsxs(I_,{ref:s,className:I("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(P_,{children:u.jsx(Sf,{className:"h-4 w-4"})})}),t]}));o5.displayName=I_.displayName;const l5=b.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(R_,{ref:r,className:I("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(P_,{children:u.jsx(tv,{className:"h-2 w-2 fill-current"})})}),t]}));l5.displayName=R_.displayName;const u5=b.forwardRef(({className:e,inset:t,...n},r)=>u.jsx(N_,{ref:r,className:I("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));u5.displayName=N_.displayName;const c5=b.forwardRef(({className:e,...t},n)=>u.jsx(O_,{ref:n,className:I("-mx-1 my-1 h-px bg-muted",e),...t}));c5.displayName=O_.displayName;var j_="AlertDialog",[d5,EY]=Dn(j_,[AE]),Wr=AE(),F_=e=>{const{__scopeAlertDialog:t,...n}=e,r=Wr(t);return u.jsx(lm,{...r,...n,modal:!0})};F_.displayName=j_;var h5="AlertDialogTrigger",B_=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Wr(n);return u.jsx(VE,{...s,...r,ref:t})});B_.displayName=h5;var f5="AlertDialogPortal",U_=e=>{const{__scopeAlertDialog:t,...n}=e,r=Wr(t);return u.jsx(um,{...r,...n})};U_.displayName=f5;var m5="AlertDialogOverlay",H_=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Wr(n);return u.jsx(nl,{...s,...r,ref:t})});H_.displayName=m5;var $i="AlertDialogContent",[p5,g5]=d5($i),y5=$x("AlertDialogContent"),$_=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...s}=e,i=Wr(n),a=b.useRef(null),o=Ke(t,a),l=b.useRef(null);return u.jsx(R3,{contentName:$i,titleName:V_,docsSlug:"alert-dialog",children:u.jsx(p5,{scope:n,cancelRef:l,children:u.jsxs(rl,{role:"alertdialog",...i,...s,ref:o,onOpenAutoFocus:Ee(s.onOpenAutoFocus,d=>{var c;d.preventDefault(),(c=l.current)==null||c.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[u.jsx(y5,{children:r}),u.jsx(x5,{contentRef:a})]})})})});$_.displayName=$i;var V_="AlertDialogTitle",z_=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Wr(n);return u.jsx(sl,{...s,...r,ref:t})});z_.displayName=V_;var q_="AlertDialogDescription",G_=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Wr(n);return u.jsx(il,{...s,...r,ref:t})});G_.displayName=q_;var b5="AlertDialogAction",W_=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Wr(n);return u.jsx(al,{...s,...r,ref:t})});W_.displayName=b5;var Y_="AlertDialogCancel",K_=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:s}=g5(Y_,n),i=Wr(n),a=Ke(t,s);return u.jsx(al,{...i,...r,ref:a})});K_.displayName=Y_;var x5=({contentRef:e})=>{const t=`\`${$i}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${$i}\` by passing a \`${q_}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${$i}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return b.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},v5=F_,E5=B_,w5=U_,X_=H_,Q_=$_,J_=W_,Z_=K_,eS=z_,tS=G_;const nS=v5,T5=E5,_5=w5,rS=b.forwardRef(({className:e,...t},n)=>u.jsx(X_,{className:I("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));rS.displayName=X_.displayName;const up=b.forwardRef(({className:e,...t},n)=>u.jsxs(_5,{children:[u.jsx(rS,{}),u.jsx(Q_,{ref:n,className:I("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));up.displayName=Q_.displayName;const cp=({className:e,...t})=>u.jsx("div",{className:I("flex flex-col space-y-2 text-center sm:text-left",e),...t});cp.displayName="AlertDialogHeader";const dp=({className:e,...t})=>u.jsx("div",{className:I("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});dp.displayName="AlertDialogFooter";const hp=b.forwardRef(({className:e,...t},n)=>u.jsx(eS,{ref:n,className:I("text-lg font-semibold",e),...t}));hp.displayName=eS.displayName;const fp=b.forwardRef(({className:e,...t},n)=>u.jsx(tS,{ref:n,className:I("text-sm text-muted-foreground",e),...t}));fp.displayName=tS.displayName;const mp=b.forwardRef(({className:e,...t},n)=>u.jsx(J_,{ref:n,className:I(Qf(),e),...t}));mp.displayName=J_.displayName;const pp=b.forwardRef(({className:e,...t},n)=>u.jsx(Z_,{ref:n,className:I(Qf({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));pp.displayName=Z_.displayName;const Ll=43200,xy=1440,vy=Symbol.for("constructDateFrom");function gp(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&vy in e?e[vy](t):e instanceof Date?new e.constructor(t):new Date(t)}function _s(e,t){return gp(e,e)}let S5={};function C5(){return S5}function Ey(e){const t=_s(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function yp(e,...t){const n=gp.bind(null,e||t.find(r=>typeof r=="object"));return t.map(n)}function eu(e,t){const n=+_s(e)-+_s(t);return n<0?-1:n>0?1:n}function A5(e){return gp(e,Date.now())}function N5(e,t,n){const[r,s]=yp(n==null?void 0:n.in,e,t),i=r.getFullYear()-s.getFullYear(),a=r.getMonth()-s.getMonth();return i*12+a}function k5(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function I5(e,t){return+_s(e)-+_s(t)}function R5(e,t){const n=_s(e);return n.setHours(23,59,59,999),n}function P5(e,t){const n=_s(e),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function O5(e,t){const n=_s(e);return+R5(n)==+P5(n)}function D5(e,t,n){const[r,s,i]=yp(n==null?void 0:n.in,e,e,t),a=eu(s,i),o=Math.abs(N5(s,i));if(o<1)return 0;s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-a*o);let l=eu(s,i)===-a;O5(r)&&o===1&&eu(r,i)===1&&(l=!1);const d=a*(o-+l);return d===0?0:d}function M5(e,t,n){const r=I5(e,t)/1e3;return k5(n==null?void 0:n.roundingMethod)(r)}const L5={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},j5=(e,t,n)=>{let r;const s=L5[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function kd(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const F5={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},B5={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},U5={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},H5={date:kd({formats:F5,defaultWidth:"full"}),time:kd({formats:B5,defaultWidth:"full"}),dateTime:kd({formats:U5,defaultWidth:"full"})},$5={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},V5=(e,t,n,r)=>$5[e];function Ba(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,o=n!=null&&n.width?String(n.width):a;s=e.formattingValues[o]||e.formattingValues[a]}else{const a=e.defaultWidth,o=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[o]||e.values[a]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const z5={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},q5={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},G5={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},W5={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Y5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},K5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},X5=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Q5={ordinalNumber:X5,era:Ba({values:z5,defaultWidth:"wide"}),quarter:Ba({values:q5,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ba({values:G5,defaultWidth:"wide"}),day:Ba({values:W5,defaultWidth:"wide"}),dayPeriod:Ba({values:Y5,defaultWidth:"wide",formattingValues:K5,defaultFormattingWidth:"wide"})};function Ua(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const a=i[0],o=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?Z5(o,h=>h.test(a)):J5(o,h=>h.test(a));let d;d=e.valueCallback?e.valueCallback(l):l,d=n.valueCallback?n.valueCallback(d):d;const c=t.slice(a.length);return{value:d,rest:c}}}function J5(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function Z5(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function e8(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],i=t.match(e.parsePattern);if(!i)return null;let a=e.valueCallback?e.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;const o=t.slice(s.length);return{value:a,rest:o}}}const t8=/^(\d+)(th|st|nd|rd)?/i,n8=/\d+/i,r8={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},s8={any:[/^b/i,/^(a|c)/i]},i8={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},a8={any:[/1/i,/2/i,/3/i,/4/i]},o8={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},l8={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},u8={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},c8={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},d8={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},h8={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},f8={ordinalNumber:e8({matchPattern:t8,parsePattern:n8,valueCallback:e=>parseInt(e,10)}),era:Ua({matchPatterns:r8,defaultMatchWidth:"wide",parsePatterns:s8,defaultParseWidth:"any"}),quarter:Ua({matchPatterns:i8,defaultMatchWidth:"wide",parsePatterns:a8,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ua({matchPatterns:o8,defaultMatchWidth:"wide",parsePatterns:l8,defaultParseWidth:"any"}),day:Ua({matchPatterns:u8,defaultMatchWidth:"wide",parsePatterns:c8,defaultParseWidth:"any"}),dayPeriod:Ua({matchPatterns:d8,defaultMatchWidth:"any",parsePatterns:h8,defaultParseWidth:"any"})},m8={code:"en-US",formatDistance:j5,formatLong:H5,formatRelative:V5,localize:Q5,match:f8,options:{weekStartsOn:0,firstWeekContainsDate:1}};function p8(e,t,n){const r=C5(),s=(n==null?void 0:n.locale)??r.locale??m8,i=2520,a=eu(e,t);if(isNaN(a))throw new RangeError("Invalid time value");const o=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:a}),[l,d]=yp(n==null?void 0:n.in,...a>0?[t,e]:[e,t]),c=M5(d,l),h=(Ey(d)-Ey(l))/1e3,m=Math.round((c-h)/60);let f;if(m<2)return n!=null&&n.includeSeconds?c<5?s.formatDistance("lessThanXSeconds",5,o):c<10?s.formatDistance("lessThanXSeconds",10,o):c<20?s.formatDistance("lessThanXSeconds",20,o):c<40?s.formatDistance("halfAMinute",0,o):c<60?s.formatDistance("lessThanXMinutes",1,o):s.formatDistance("xMinutes",1,o):m===0?s.formatDistance("lessThanXMinutes",1,o):s.formatDistance("xMinutes",m,o);if(m<45)return s.formatDistance("xMinutes",m,o);if(m<90)return s.formatDistance("aboutXHours",1,o);if(m<xy){const g=Math.round(m/60);return s.formatDistance("aboutXHours",g,o)}else{if(m<i)return s.formatDistance("xDays",1,o);if(m<Ll){const g=Math.round(m/xy);return s.formatDistance("xDays",g,o)}else if(m<Ll*2)return f=Math.round(m/Ll),s.formatDistance("aboutXMonths",f,o)}if(f=D5(d,l),f<12){const g=Math.round(m/Ll);return s.formatDistance("xMonths",g,o)}else{const g=f%12,y=Math.trunc(f/12);return g<3?s.formatDistance("aboutXYears",y,o):g<9?s.formatDistance("overXYears",y,o):s.formatDistance("almostXYears",y+1,o)}}function g8(e,t){return p8(e,A5(e),t)}function y8(e){try{const t=new Date(e);return g8(t,{addSuffix:!0})}catch(t){return console.error("Error formatting date:",t),"recently"}}function b8({mystery:e,onView:t,onEdit:n,onArchive:r,onDelete:s}){const[i,a]=b.useState(!1),o=e.display_status==="purchased",l=e.display_status==="generating",d=(y,x=80)=>y.length<=x?y:y.substring(0,x)+"...",c=()=>{o||l?t(e.id):n(e.id)},h=()=>{r&&r(e.id)},m=()=>{s&&s(e.id),a(!1)},f=()=>l?u.jsxs(Nd,{variant:"secondary",className:"flex items-center gap-1 bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300 text-xs px-2 py-1",children:[u.jsx(Qd,{className:"h-3 w-3 animate-pulse"}),u.jsx("span",{className:"hidden sm:inline",children:"Generating..."}),u.jsx("span",{className:"sm:hidden",children:"Gen..."})]}):o?u.jsxs(Nd,{variant:"default",className:"flex items-center gap-1 text-xs px-2 py-1",children:[u.jsx(_N,{className:"h-3 w-3"}),u.jsx("span",{className:"hidden sm:inline",children:"Purchased"}),u.jsx("span",{className:"sm:hidden",children:"Bought"})]}):u.jsx(Nd,{variant:"secondary",className:"text-xs px-2 py-1",children:"Draft"}),g=()=>l?u.jsxs(Se,{onClick:c,className:"w-full min-h-[44px] text-sm",variant:"outline",children:[u.jsx(Qd,{className:"h-4 w-4 mr-2"}),u.jsx("span",{className:"hidden sm:inline",children:"View Progress"}),u.jsx("span",{className:"sm:hidden",children:"Progress"})]}):o?u.jsxs(Se,{onClick:c,className:"w-full min-h-[44px] text-sm",variant:"default",children:[u.jsx(kN,{className:"h-4 w-4 mr-2"}),u.jsx("span",{className:"hidden sm:inline",children:"View Mystery"}),u.jsx("span",{className:"sm:hidden",children:"View"})]}):u.jsxs(Se,{onClick:c,className:"w-full min-h-[44px] text-sm",variant:"outline",children:[u.jsx(Af,{className:"h-4 w-4 mr-2"}),u.jsx("span",{className:"hidden sm:inline",children:"Edit Mystery"}),u.jsx("span",{className:"sm:hidden",children:"Edit"})]});return u.jsxs(kt,{className:"hover:shadow-md transition-shadow h-full flex flex-col",children:[u.jsxs(Ht,{className:"pb-3 flex-shrink-0",children:[u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[f(),u.jsxs(r5,{children:[u.jsx(s5,{asChild:!0,children:u.jsx(Se,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 min-h-[44px] min-w-[44px] flex-shrink-0",children:u.jsx(NN,{className:"h-4 w-4"})})}),u.jsxs(L_,{align:"end",className:"w-48",children:[!l&&u.jsxs(Kh,{onClick:h,className:"min-h-[44px]",children:[u.jsx(bN,{className:"h-4 w-4 mr-2"}),"Archive"]}),u.jsxs(Kh,{onClick:()=>a(!0),className:"text-red-600 min-h-[44px]",children:[u.jsx(nv,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]}),u.jsx("div",{className:"mt-2",children:u.jsx("h3",{className:"text-base sm:text-lg font-semibold leading-tight line-clamp-3",children:d(e.title)})})]}),u.jsx(It,{className:"pt-0 flex-1 flex flex-col",children:u.jsxs("div",{className:"space-y-3 flex-1 flex flex-col",children:[u.jsx("p",{className:"text-sm text-muted-foreground flex-1",children:l?"Generation in progress...":`Edited ${y8(e.created_at)}`}),u.jsx("div",{className:"mt-auto",children:g()})]})}),u.jsx(nS,{open:i,onOpenChange:a,children:u.jsxs(up,{className:"max-w-[90vw] sm:max-w-md",children:[u.jsxs(cp,{children:[u.jsx(hp,{className:"text-base sm:text-lg",children:"Delete Mystery"}),u.jsx(fp,{className:"text-sm",children:"Are you sure you want to delete this mystery? This action cannot be undone."})]}),u.jsxs(dp,{className:"flex-col sm:flex-row gap-2",children:[u.jsx(pp,{className:"min-h-[44px] w-full sm:w-auto",children:"Cancel"}),u.jsx(mp,{onClick:m,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90 min-h-[44px] w-full sm:w-auto",children:"Delete"})]})]})})]})}const bp=e=>{if(!e||e.length===0)return null;const t=e.filter(i=>{const a=(i.content||"").toLowerCase();return!(a.includes("initial questions")||a.includes("clarification")||a.includes("# questions")||a.includes("## questions"))}),n=/#\s*["']?([^"'\n#]*(?:[''][^"'\n#]*)*)["']?(?:\s*-\s*A\s+MURDER\s+MYSTERY)?/i,r=/title:\s*["']?([^"'\n]*(?:[''][^"'\n]*)*)["']?/i,s=/"([^"]*(?:[''][^"]*)*)"\s*(?:-\s*A\s+MURDER\s+MYSTERY)?/i;for(const i of t)if(i.role==="assistant"||i.is_ai){const a=i.content||"",o=a.match(n);if(o&&o[1]&&o[1].trim())return Id(o[1]);const l=a.match(s);if(l&&l[1]&&l[1].trim())return Id(l[1]);const d=a.match(r);if(d&&d[1]&&d[1].trim())return Id(d[1])}return null},Id=e=>e.trim().split(" ").map(t=>t.includes("'")||t.includes("'")?t.split(/([''])/).map((r,s)=>s===0?r.charAt(0).toUpperCase()+r.slice(1).toLowerCase():r==="'"||r==="'"?r:r.toLowerCase()).join(""):t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" ");var wy={};const x8=()=>typeof window<"u"?window.location.origin:wy.VERCEL_URL?`https://${wy.VERCEL_URL}`:"https://murder-mystery.party";async function v8(e,t){console.log(" [DEBUG] saveStructuredPackageData called with:"),console.log("  - mysteryId:",e),console.log("  - jsonData keys:",t?Object.keys(t):"null/undefined"),console.log("  - jsonData:",t);try{if(!t)throw console.error(" [DEBUG] No jsonData provided"),new Error("No JSON data provided");t.title||console.error(" [DEBUG] Missing title in jsonData"),!t.gameOverview&&!t.game_overview&&console.error(" [DEBUG] Missing gameOverview/game_overview in jsonData"),!t.hostGuide&&!t.host_guide&&console.error(" [DEBUG] Missing hostGuide/host_guide in jsonData"),Array.isArray(t.characters)||console.error(" [DEBUG] Missing or invalid characters array in jsonData");const r={title:t.title,gameOverview:t.gameOverview||t.game_overview,hostGuide:t.hostGuide||t.host_guide,materials:t.materials,preparation:t.preparation||t.preparation_instructions,timeline:t.timeline,hostingTips:t.hostingTips||t.hosting_tips,evidenceCards:t.evidenceCards||t.evidence_cards,relationshipMatrix:t.relationshipMatrix||t.relationship_matrix,detectiveScript:t.detectiveScript||t.detective_script,characters:t.characters||[]};console.log(" [DEBUG] Normalized data:",r),console.log(" [DEBUG] Fetching package for conversation:",e);const{data:s,error:i}=await _e.from("mystery_packages").select("id").eq("conversation_id",e).order("updated_at",{ascending:!1}).limit(1).maybeSingle();if(i)throw console.error(" [DEBUG] Error fetching package:",i),new Error(`Failed to fetch package record: ${i.message}`);if(s){var n=s.id;console.log(" [DEBUG] Found existing package with ID:",n);const{error:l}=await _e.from("mystery_packages").update({title:r.title,game_overview:r.gameOverview,host_guide:r.hostGuide,materials:r.materials||null,preparation_instructions:r.preparation||null,timeline:r.timeline||null,hosting_tips:r.hostingTips||null,evidence_cards:r.evidenceCards||null,relationship_matrix:r.relationshipMatrix||null,detective_script:r.detectiveScript||null,generation_status:{status:"completed",progress:100,currentStep:"Package generation completed"},generation_completed_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",n);if(l)throw console.error(" [DEBUG] Error updating package data:",l),new Error(`Failed to save package data: ${l.message}`);console.log(" [DEBUG] Package data updated successfully")}else{console.log(" [DEBUG] No existing package found, creating new one");const{data:o,error:l}=await _e.from("mystery_packages").insert({conversation_id:e,title:r.title,game_overview:r.gameOverview,host_guide:r.hostGuide,materials:r.materials||null,preparation_instructions:r.preparation||null,timeline:r.timeline||null,hosting_tips:r.hostingTips||null,evidence_cards:r.evidenceCards||null,relationship_matrix:r.relationshipMatrix||null,detective_script:r.detectiveScript||null,generation_status:{status:"completed",progress:100,currentStep:"Package generation completed"},generation_completed_at:new Date().toISOString(),created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).select("id").single();if(l||!o)throw console.error(" [DEBUG] Error creating package:",l),new Error(`Failed to create package record: ${l==null?void 0:l.message}`);var n=o.id;console.log(" [DEBUG] Created new package with ID:",n)}if(Array.isArray(r.characters)&&r.characters.length>0){console.log(` [DEBUG] Processing ${r.characters.length} characters`);const{error:o}=await _e.from("mystery_characters").delete().eq("package_id",n);if(o)throw console.error(" [DEBUG] Error deleting existing characters:",o),new Error(`Failed to delete existing characters: ${o.message}`);console.log(" [DEBUG] Existing characters deleted");const l=r.characters.map(c=>({package_id:n,character_name:c.name||c.character_name,description:c.description||null,background:c.background||null,secret:c.secret||null,introduction:c.introduction||null,rumors:c.rumors||null,round2_questions:c.round2Questions||c.round2_questions||null,round2_innocent:c.round2Innocent||c.round2_innocent||null,round2_guilty:c.round2Guilty||c.round2_guilty||null,round2_accomplice:c.round2Accomplice||c.round2_accomplice||null,round3_questions:c.round3Questions||c.round3_questions||null,round3_innocent:c.round3Innocent||c.round3_innocent||null,round3_guilty:c.round3Guilty||c.round3_guilty||null,round3_accomplice:c.round3Accomplice||c.round3_accomplice||null,round4_questions:c.round4Questions||c.round4_questions||null,round4_innocent:c.round4Innocent||c.round4_innocent||null,round4_guilty:c.round4Guilty||c.round4_guilty||null,round4_accomplice:c.round4Accomplice||c.round4_accomplice||null,final_innocent:c.finalInnocent||c.final_innocent||null,final_guilty:c.finalGuilty||c.final_guilty||null,final_accomplice:c.finalAccomplice||c.final_accomplice||null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}));console.log(" [DEBUG] Characters to insert:",l);const{error:d}=await _e.from("mystery_characters").insert(l);if(d)throw console.error(" [DEBUG] Error inserting characters:",d),new Error(`Failed to save characters data: ${d.message}`);console.log(` [DEBUG] Successfully saved ${l.length} characters`)}else console.log(" [DEBUG] No characters provided or empty array");console.log(" [DEBUG] Updating conversation status");const{error:a}=await _e.from("conversations").update({needs_package_generation:!1,has_complete_package:!0,is_paid:!0,display_status:"purchased",updated_at:new Date().toISOString()}).eq("id",e);if(a)throw console.error(" [DEBUG] Error updating conversation:",a),new Error(`Failed to update conversation status: ${a.message}`);console.log(" [DEBUG] Conversation updated successfully"),console.log(" [DEBUG] saveStructuredPackageData completed successfully for mystery:",e)}catch(r){throw console.error(" [DEBUG] Error in saveStructuredPackageData:",r),r}}async function sS(e,t=!1){var n,r;try{console.log("Starting package generation for conversation ID:",e);const{data:s,error:i}=await _e.from("conversations").select("*, messages(*), user_id, theme, player_count, script_type, has_accomplice, additional_details").eq("id",e).single();if(i||!s)throw console.error("Error fetching conversation:",i),new Error("Failed to fetch conversation data");console.log(`Found conversation with ${((n=s.messages)==null?void 0:n.length)||0} messages`);const{data:a,error:o}=await _e.from("mystery_packages").select("id").eq("conversation_id",e).order("updated_at",{ascending:!1}).limit(1).maybeSingle();if(o&&o.code!=="PGRST116")throw console.error("Error checking for existing package:",o),new Error("Failed to check existing package");let l;const d={status:"in_progress",progress:10,currentStep:"Sending to external generation service...",sections:{hostGuide:!1,characters:!1,clues:!1,inspectorScript:!1,characterMatrix:!1,solution:!1}};if(a)l=a.id,await _e.from("mystery_packages").update({generation_status:d,generation_started_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",l);else{const{data:y,error:x}=await _e.from("mystery_packages").insert({conversation_id:e,legacy_content:"",generation_status:d,generation_started_at:new Date().toISOString(),created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).select("id").single();if(x||!y)throw console.error("Error creating package:",x),new Error("Failed to create package record");l=y.id}const c=s.messages?s.messages.map(y=>`${y.role==="assistant"?"AI":"User"}: ${y.content}`).join(`

---

`):"",h=x8();console.log("Detected domain for webhook callback:",h);const m={userId:s.user_id,conversationId:e,callback_domain:h,callback_url:`${h}/api/generation-complete`,environment:"production",title:s.title||null,systemInstruction:s.system_instruction||null,messages:s.messages?s.messages.map(y=>({role:y.role,content:y.content,timestamp:y.created_at,is_ai:y.is_ai||y.role==="assistant"})):[],content:c,playerCount:s.player_count||null,theme:s.theme||null,scriptType:s.script_type||"full",additionalDetails:s.additional_details||null,hasAccomplice:s.has_accomplice||!1,createdAt:s.created_at,updatedAt:s.updated_at,testMode:t||!1};console.log("=== ENHANCED WEBHOOK PAYLOAD DEBUG ==="),console.log("Conversation ID:",m.conversationId),console.log("User ID:",m.userId),console.log("Callback Domain:",m.callback_domain),console.log("Callback URL:",m.callback_url),console.log("Environment:",m.environment),console.log("Messages count:",((r=m.messages)==null?void 0:r.length)||0),console.log("Theme:",m.theme),console.log("Player count:",m.playerCount),console.log("Test Mode:",m.testMode),console.log("Payload size (chars):",JSON.stringify(m).length),console.log("=== END ENHANCED WEBHOOK PAYLOAD DEBUG ==="),console.log("Sending enhanced payload to Make.com webhook");const f=await fetch("https://hook.eu2.make.com/uannnuc9hc79vorh1iyxwb9t5lp484n3",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)});if(!f.ok){const y=await f.text();throw console.error("Make.com webhook error:",f.status,y),await _e.from("mystery_packages").update({generation_status:{status:"failed",progress:0,currentStep:"Failed to send to external service: "+y,resumable:!0},updated_at:new Date().toISOString()}).eq("id",l),new Error(`Webhook failed: ${f.status} ${y}`)}let g;try{if(g=await f.json(),console.log("Make.com webhook response:",g),g&&typeof g=="object"&&g.title)return console.log("Received structured JSON response, saving data..."),await v8(e,g),console.log("Structured data saved successfully"),"Package generation completed successfully"}catch{console.log("Webhook responded with non-JSON (normal for async webhooks)")}return await _e.from("mystery_packages").update({generation_status:{status:"in_progress",progress:20,currentStep:"Package generation in progress (3-5 minutes)...",sections:{hostGuide:!1,characters:!1,clues:!1,inspectorScript:!1,characterMatrix:!1,solution:!1}},updated_at:new Date().toISOString()}).eq("id",l),await _e.from("conversations").update({needs_package_generation:!0,updated_at:new Date().toISOString()}).eq("id",e),console.log("Successfully sent enhanced data to Make.com webhook with callback URL"),"Webhook sent - generation in progress"}catch(s){throw console.error("Error in generateCompletePackage:",s),s}}async function E8(e){return console.log("Resuming package generation by calling generateCompletePackage"),sS(e)}async function Xh(e){var t;console.log(" [STATUS CHECK] getPackageGenerationStatus called for:",e);try{const{data:n,error:r}=await _e.from("mystery_packages").select(`
        generation_status, 
        generation_completed_at, 
        generation_started_at,
        title,
        host_guide,
        characters:mystery_characters(count)
      `).eq("conversation_id",e).order("updated_at",{ascending:!1}).limit(1).maybeSingle();if(r)throw console.error(" [STATUS CHECK] Error fetching generation status:",r),new Error(`Failed to fetch generation status: ${r.message}`);if(console.log(" [STATUS CHECK] Raw package data received:",n),!n){console.log(" [STATUS CHECK] No mystery package found, returning default not_started status");const c={status:"not_started",progress:0,currentStep:"Not started",sections:{}};return console.log(" [STATUS CHECK] Returning default status:",c),c}const s=!!(n.title&&n.host_guide),i=!!(n.characters&&n.characters.length>0),a=s&&i;console.log(" [STATUS CHECK] Content check results:"),console.log("  - Has title and host_guide:",s),console.log("  - Has characters:",i,`(count: ${((t=n.characters)==null?void 0:t.length)||0})`),console.log("  - Content complete:",a);let o=n.generation_status;if(console.log(" [STATUS CHECK] Current database status:",o),a&&o&&o.status!=="completed"){console.log(" [STATUS CHECK] Content exists but status is not 'completed', auto-correcting...");const c={status:"completed",progress:100,currentStep:"Package generation completed",sections:{hostGuide:!0,characters:!0,clues:!0,inspectorScript:!0,characterMatrix:!0}},{error:h}=await _e.from("mystery_packages").update({generation_status:c,generation_completed_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("conversation_id",e);h?console.error(" [STATUS CHECK] Error updating corrected status:",h):(console.log(" [STATUS CHECK] Status auto-corrected to 'completed'"),o=c)}if(!o||typeof o!="object"){if(console.log(" [STATUS CHECK] No valid generation_status found, checking completion dates and content"),n.generation_completed_at||a){const h={status:"completed",progress:100,currentStep:"Package generation completed",sections:{hostGuide:!0,characters:!0,clues:!0,inspectorScript:!0,characterMatrix:!0}};return console.log(" [STATUS CHECK] Inferring completed status from completion date or content:",h),h}else if(n.generation_started_at){const h={status:"in_progress",progress:50,currentStep:"Package generation in progress...",sections:{}};return console.log(" [STATUS CHECK] Inferring in_progress status from start date:",h),h}const c={status:"not_started",progress:0,currentStep:"Not started",sections:{}};return console.log(" [STATUS CHECK] No dates found, returning not_started:",c),c}const l=o;console.log(" [STATUS CHECK] Returning generation status:",l);const d={status:l.status||"not_started",progress:l.progress||0,currentStep:l.currentStep||"Unknown step",resumable:l.resumable,sections:l.sections||{}};return console.log(" [STATUS CHECK] Normalized status:",d),d}catch(n){console.error(" [STATUS CHECK] Error in getPackageGenerationStatus:",n);const r={status:"not_started",progress:0,currentStep:"Error checking status",sections:{}};return console.log(" [STATUS CHECK] Returning error fallback status:",r),r}}const w8=({onCreateNew:e})=>{const t=En(),{user:n}=un(),[r,s]=b.useState([]),[i,a]=b.useState(!0),[o,l]=b.useState(""),[d,c]=b.useState(1),[h,m]=b.useState(!0),f=6;b.useEffect(()=>{n!=null&&n.id&&g(1,!0)},[n==null?void 0:n.id,o]);const g=async(S,C=!1)=>{try{if(a(!0),!(n!=null&&n.id))return;let D=_e.from("conversations").select("id, title, created_at, updated_at, theme, player_count, script_type, has_accomplice, additional_details, status, display_status, is_paid, purchase_date, is_completed, needs_package_generation").eq("user_id",n.id);o.trim()&&(D=D.or(`title.ilike.%${o.trim()}%,theme.ilike.%${o.trim()}%`)),D=D.order("updated_at",{ascending:!1}).range((S-1)*f,S*f-1);const{data:j,error:F}=await D;if(F)throw console.error("Error fetching conversations:",F),F;if(!j){s([]),m(!1);return}m(j.length===f);const z=(await Promise.all(j.map(async P=>{try{const{data:W,error:Q}=await _e.from("messages").select("*").eq("conversation_id",P.id).order("created_at",{ascending:!0});Q&&console.error(`Error fetching messages for conversation ${P.id}:`,Q);const te=bp(W||[]),L=P.theme||"Mystery",U=te||P.title||`${L} Mystery`;let Y;if(P.needs_package_generation&&P.is_paid)try{const _=await Xh(P.id);_.status==="in_progress"?Y="generating":_.status==="completed"?(Y="purchased",await _e.from("conversations").update({needs_package_generation:!1}).eq("id",P.id)):Y="purchased"}catch(_){console.error(`Error checking generation status for ${P.id}:`,_),Y="purchased"}else P.is_paid===!0||P.display_status==="purchased"?Y="purchased":P.display_status==="archived"?Y="archived":Y=P.status||"draft";return{id:P.id,title:U,created_at:P.created_at,updated_at:P.updated_at||P.created_at,status:Y,display_status:Y,mystery_data:{theme:P.theme,playerCount:P.player_count,scriptType:P.script_type,hasAccomplice:P.has_accomplice,additionalDetails:P.additional_details,status:Y},theme:L,guests:P.player_count||6,is_purchased:P.is_paid===!0||P.display_status==="purchased",is_completed:P.is_completed||!1,ai_title:te,purchase_date:P.purchase_date,needs_package_generation:P.needs_package_generation||!1}}catch(W){return console.error(`Error processing conversation ${P.id}:`,W),{id:P.id,title:P.title||"Mystery",created_at:P.created_at,updated_at:P.updated_at||P.created_at,status:"draft",display_status:"draft",mystery_data:{theme:P.theme||"Mystery",playerCount:P.player_count||6,scriptType:P.script_type||"full",hasAccomplice:P.has_accomplice||!1,additionalDetails:P.additional_details||""},theme:P.theme||"Mystery",guests:P.player_count||6,is_purchased:!1,is_completed:!1,ai_title:null,purchase_date:null,needs_package_generation:!1}}}))).filter(Boolean).sort((P,W)=>P.status==="generating"&&W.status!=="generating"?-1:W.status==="generating"&&P.status!=="generating"?1:new Date(W.updated_at).getTime()-new Date(P.updated_at).getTime());C?(s(z),c(S)):(s(P=>[...P,...z]),c(S))}catch(D){console.error("Error fetching mysteries:",D),se.error("Failed to load some mysteries. Please refresh the page.")}finally{a(!1)}},y=()=>{h&&!i&&g(d+1,!1)},x=S=>{const C=r.find(D=>D.id===S);C!=null&&C.is_purchased||(C==null?void 0:C.status)==="purchased"||(C==null?void 0:C.status)==="generating"?t(`/mystery/${S}`):t(`/mystery/edit/${S}`)},E=S=>{t(`/mystery/edit/${S}`)},v=async S=>{try{const{error:C}=await _e.from("conversations").update({display_status:"archived"}).eq("id",S);if(C)throw C;se.success("Mystery archived"),g(1,!0)}catch(C){console.error("Error archiving mystery:",C),se.error("Failed to archive mystery")}},w=async S=>{try{const{error:C}=await _e.from("conversations").delete().eq("id",S);if(C)throw C;se.success("Mystery deleted"),g(1,!0)}catch(C){console.error("Error deleting mystery:",C),se.error("Failed to delete mystery")}},T=S=>{l(S.target.value)};return u.jsx("div",{className:"py-12 px-4 bg-card/30",children:u.jsxs("div",{className:"container mx-auto max-w-5xl",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Your Mysteries"}),u.jsx("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:u.jsxs("div",{className:"relative flex-grow",children:[u.jsx(ON,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),u.jsx(dt,{className:"pl-8",placeholder:"Search mysteries...",value:o,onChange:T})]})})]}),i&&r.length===0?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 py-4",children:[1,2,3].map(S=>u.jsxs(kt,{className:"opacity-70 animate-pulse h-56",children:[u.jsx(Ht,{className:"h-16",children:u.jsx("div",{className:"h-6 bg-muted rounded"})}),u.jsxs(It,{children:[u.jsx("div",{className:"h-4 bg-muted rounded mb-4"}),u.jsx("div",{className:"h-4 bg-muted rounded mb-4"}),u.jsx("div",{className:"h-10 bg-muted rounded mt-auto"})]})]},S))}):r.length===0?u.jsxs("div",{className:"text-center py-12 bg-muted/20 rounded-lg",children:[u.jsx("p",{className:"text-xl font-medium mb-2",children:"You haven't created any mysteries yet"}),u.jsx("p",{className:"text-muted-foreground mb-4",children:"Use the input box above to start creating your first murder mystery!"})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(S=>u.jsx(b8,{mystery:{id:S.id,title:S.title,mystery_data:S.mystery_data||{},display_status:S.status,created_at:S.created_at,is_completed:!!S.is_completed},onView:x,onEdit:E,onArchive:v,onDelete:w},S.id))}),h&&u.jsx("div",{className:"mt-8 text-center",children:u.jsxs(Se,{onClick:y,variant:"outline",disabled:i,children:[i?"Loading...":"Load More",!i&&u.jsx(xN,{className:"ml-2 h-4 w-4"})]})})]})]})})},Ty=()=>{const{isAuthenticated:e}=un(),t=En(),{t:n}=el(),r=[{step:n("features.step1.step"),title:n("features.step1.title"),content:n("features.step1.content"),image:"https://github.com/CoachJ87/murder-mystery-party-generator/blob/main/public/images/custom_themes.png?raw=true"},{step:n("features.step2.step"),title:n("features.step2.title"),content:n("features.step2.content"),image:"https://github.com/CoachJ87/murder-mystery-party-generator/blob/main/public/images/character_profiles.png?raw=true"},{step:n("features.step3.step"),title:n("features.step3.title"),content:n("features.step3.content"),image:"https://github.com/CoachJ87/murder-mystery-party-generator/blob/main/public/images/host_guide.png?raw=true"}],s=[{number:1,title:n("howItWorks.step1.title"),description:n("howItWorks.step1.description")},{number:2,title:n("howItWorks.step2.title"),description:n("howItWorks.step2.description")},{number:3,title:n("howItWorks.step3.title"),description:n("howItWorks.step3.description")},{number:4,title:n("howItWorks.step4.title"),description:n("howItWorks.step4.description")}],i=()=>{t("/mystery/new")};return u.jsxs("div",{className:"min-h-screen flex flex-col font-inter",children:[u.jsx(fm,{title:"Create Custom Murder Mystery Parties",description:"Generate unique murder mystery party scenarios with our AI-powered tool. Customize themes, characters, and plots for unforgettable events."}),u.jsx(Pt,{}),u.jsxs("main",{className:"flex-1 w-full overflow-x-hidden",children:[u.jsx("div",{className:"bg-card",children:u.jsx(F3,{})}),e?u.jsx("div",{className:"w-full px-2 sm:px-4 md:px-6 lg:px-8",children:u.jsx(w8,{onCreateNew:i})}):u.jsxs(u.Fragment,{children:[u.jsx("section",{className:"py-6 sm:py-8 px-2 sm:px-4 md:px-6 lg:px-8",children:u.jsx("div",{className:"w-full max-w-7xl mx-auto",children:u.jsx(q6,{steps:s})})}),u.jsx("section",{className:"py-6 sm:py-8 bg-card px-2 sm:px-4 md:px-6 lg:px-8",children:u.jsx("div",{className:"w-full max-w-7xl mx-auto",children:u.jsx(w6,{features:r,title:n("features.title"),autoPlayInterval:4e3,imageHeight:"h-[300px] sm:h-[400px] lg:h-[500px]"})})}),u.jsx("section",{className:"py-12 sm:py-16 lg:py-20 px-2 sm:px-4 md:px-6 lg:px-8",children:u.jsxs("div",{className:"w-full max-w-7xl mx-auto",children:[u.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-center mb-8 sm:mb-12 text-black font-playfair",children:n("testimonials.title")}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 lg:gap-8",children:[1,2,3].map(a=>u.jsxs("div",{className:"bg-muted text-foreground rounded-xl p-4 sm:p-6 shadow-md",children:[u.jsx("div",{className:"flex items-center space-x-1 mb-4",children:[1,2,3,4,5].map(o=>u.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},o))}),u.jsx("p",{className:"text-foreground mb-4 text-sm sm:text-base font-inter",children:n(`testimonials.testimonial${a}.text`)}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-primary flex items-center justify-center mr-3",children:u.jsx("span",{className:"font-medium text-xs sm:text-sm text-primary-foreground font-inter",children:["JD","MK","AS"][a-1]})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-sm sm:text-base font-inter",children:n(`testimonials.testimonial${a}.author`)}),u.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground font-inter",children:n(`testimonials.testimonial${a}.role`)})]})]})]},a))})]})}),u.jsx("section",{className:"py-6 sm:py-8 bg-card px-2 sm:px-4 md:px-6 lg:px-8",children:u.jsx("div",{className:"w-full max-w-7xl mx-auto",children:u.jsx(z6,{})})}),u.jsx("section",{className:"py-8 sm:py-12 px-2 sm:px-4 md:px-6 lg:px-8",children:u.jsxs("div",{className:"w-full max-w-7xl mx-auto text-center",children:[u.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-bold mb-4 text-black font-playfair",children:n("support.title")}),u.jsx("p",{className:"text-muted-foreground mb-6 max-w-2xl mx-auto text-sm sm:text-base font-inter",children:n("support.description")}),u.jsx(Se,{asChild:!0,size:"lg",className:"bg-[#E6A73E] text-[#1D2B35] hover:bg-[#C26E3E] hover:text-white no-underline h-12 px-6 text-base font-inter",children:u.jsx(it,{to:"/support",className:"no-underline",children:n("support.button")})})]})})]})]}),u.jsx(Vt,{})]})};var T8="Label",iS=b.forwardRef((e,t)=>u.jsx(Fe.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));iS.displayName=T8;var aS=iS;const _8=pa("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Rt=b.forwardRef(({className:e,...t},n)=>u.jsx(aS,{ref:n,className:I(_8(),e),...t}));Rt.displayName=aS.displayName;const S8=()=>{const e=En(),[t,n]=b.useState(""),[r,s]=b.useState(""),[i,a]=b.useState(!1),o=async l=>{if(l.preventDefault(),!t||!r){se.error("Please fill in all fields");return}try{a(!0),console.log("Attempting direct signin with:",t);const{data:d,error:c}=await _e.auth.signInWithPassword({email:t,password:r});if(c){console.error("Direct signin error:",c.message),c.message.includes("Invalid login credentials")?se.error("The email or password you entered is incorrect. Please try again."):c.message.includes("Email not confirmed")?(se.error("Please confirm your email before logging in. Check your inbox."),e("/check-email")):se.error(`Failed to sign in: ${c.message}`);return}d!=null&&d.user&&(console.log("Signin successful:",d),se.success("Signed in successfully!"),e("/dashboard"))}catch(d){console.error("Signin catch block error:",d),se.error(`An unexpected error occurred: ${d.message||"Unknown error"}`)}finally{a(!1)}};return u.jsxs("div",{className:"min-h-screen flex flex-col",children:[u.jsx(Pt,{}),u.jsx("main",{className:"flex-1 flex items-center justify-center py-12 px-4",children:u.jsx("div",{className:"w-full max-w-md",children:u.jsxs("div",{className:"bg-card rounded-lg shadow-lg border p-8",children:[u.jsx("h1",{className:"text-2xl font-bold mb-6 text-center",children:"Sign In"}),u.jsxs("form",{onSubmit:o,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Rt,{htmlFor:"email",children:"Email"}),u.jsxs("div",{className:"relative",children:[u.jsx(Xo,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),u.jsx(dt,{id:"email",type:"email",placeholder:"your@email.com",value:t,onChange:l=>n(l.target.value),className:"pl-10",required:!0})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx(Rt,{htmlFor:"password",children:"Password"}),u.jsx(it,{to:"/forgot-password",className:"text-sm text-primary hover:underline",children:"Forgot password?"})]}),u.jsxs("div",{className:"relative",children:[u.jsx(ou,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),u.jsx(dt,{id:"password",type:"password",placeholder:"",value:r,onChange:l=>s(l.target.value),className:"pl-10",required:!0})]})]}),u.jsxs(Se,{type:"submit",className:"w-full",disabled:i,children:[i?u.jsx("div",{className:"h-4 w-4 border-2 border-current border-t-transparent rounded-full animate-spin mr-2"}):u.jsx(qu,{className:"h-4 w-4 mr-2"}),i?"Signing in...":"Sign In"]})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Don't have an account?"," ",u.jsx(it,{to:"/sign-up",className:"text-primary hover:underline",children:"Sign up"})]})})]})})}),u.jsx(Vt,{})]})},C8=()=>{const[e,t]=b.useState(""),[n,r]=b.useState(""),[s,i]=b.useState(""),[a,o]=b.useState(!1),l=En(),d=async c=>{if(c.preventDefault(),!e||!n||!s){se.error("Please fill in all fields");return}if(s.length<6){se.error("Password must be at least 6 characters");return}try{o(!0),console.log("Attempting signup with:",{email:n,name:e});const{data:h,error:m}=await _e.auth.signUp({email:n,password:s,options:{data:{name:e},emailRedirectTo:`${window.location.origin}/auth/callback`}});if(m){console.error("Sign-up error:",m),m.message.includes("already registered")?se.error("This email is already registered. Please sign in instead."):se.error(m.message||"Failed to create account");return}if(!h.user){se.error("Failed to create account");return}console.log("Sign up successful:",h),se.success("Account created! Please check your email to confirm your account."),setTimeout(()=>{l("/check-email")},100)}catch(h){console.error("Sign-up catch block:",h),se.error("An unexpected error occurred. Please try again.")}finally{o(!1)}};return u.jsxs("div",{className:"min-h-screen flex flex-col",children:[u.jsx(Pt,{}),u.jsx("main",{className:"flex-1 flex items-center justify-center py-12 px-4",children:u.jsx("div",{className:"w-full max-w-md",children:u.jsxs("div",{className:"bg-card rounded-lg shadow-lg border p-8",children:[u.jsx("h1",{className:"text-2xl font-bold mb-6 text-center",children:"Create an Account"}),u.jsxs("form",{onSubmit:d,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Rt,{htmlFor:"name",children:"Name"}),u.jsxs("div",{className:"relative",children:[u.jsx(_o,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),u.jsx(dt,{id:"name",type:"text",placeholder:"Your name",value:e,onChange:c=>t(c.target.value),className:"pl-10",required:!0})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Rt,{htmlFor:"email",children:"Email"}),u.jsxs("div",{className:"relative",children:[u.jsx(Xo,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),u.jsx(dt,{id:"email",type:"email",placeholder:"your@email.com",value:n,onChange:c=>r(c.target.value),className:"pl-10",required:!0})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Rt,{htmlFor:"password",children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(ou,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),u.jsx(dt,{id:"password",type:"password",placeholder:"",value:s,onChange:c=>i(c.target.value),className:"pl-10",required:!0})]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Password must be at least 6 characters"})]}),u.jsxs(Se,{type:"submit",className:"w-full",disabled:a,children:[a?u.jsx("div",{className:"h-4 w-4 border-2 border-current border-t-transparent rounded-full animate-spin mr-2"}):u.jsx(qu,{className:"h-4 w-4 mr-2"}),a?"Creating account...":"Create Account"]})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Already have an account?"," ",u.jsx(it,{to:"/sign-in",className:"text-primary hover:underline",children:"Sign in"})]})})]})})}),u.jsx(Vt,{})]})},A8=()=>{const{resetPassword:e,loading:t}=un(),[n,r]=b.useState(""),[s,i]=b.useState(!1),a=async o=>{if(o.preventDefault(),!n){se.error("Please enter your email address");return}try{await e(n),i(!0)}catch(l){console.error(l)}};return u.jsxs("div",{className:"min-h-screen flex flex-col",children:[u.jsx(Pt,{}),u.jsx("main",{className:"flex-1 flex items-center justify-center py-12 px-4",children:u.jsx("div",{className:"w-full max-w-md",children:u.jsx("div",{className:"bg-card rounded-lg shadow-lg border p-8",children:s?u.jsxs(u.Fragment,{children:[u.jsx("h1",{className:"text-2xl font-bold mb-4 text-center",children:"Check Your Email"}),u.jsxs("p",{className:"text-center text-muted-foreground mb-6",children:["We've sent a password reset link to ",u.jsx("strong",{children:n})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx(Se,{asChild:!0,className:"w-full",children:u.jsx(it,{to:"/sign-in",children:"Return to Sign In"})}),u.jsxs("p",{className:"text-sm text-center text-muted-foreground",children:["Didn't receive an email?"," ",u.jsx("button",{onClick:()=>i(!1),className:"text-primary hover:underline",children:"Try again"})]})]})]}):u.jsxs(u.Fragment,{children:[u.jsx("h1",{className:"text-2xl font-bold mb-6 text-center",children:"Reset Your Password"}),u.jsxs("form",{onSubmit:a,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Rt,{htmlFor:"email",children:"Email"}),u.jsx(dt,{id:"email",type:"email",placeholder:"your@email.com",value:n,onChange:o=>r(o.target.value),required:!0})]}),u.jsx(Se,{type:"submit",className:"w-full",disabled:t,children:t?"Sending...":"Send Reset Link"})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Remembered your password?"," ",u.jsx(it,{to:"/sign-in",className:"text-primary hover:underline",children:"Back to sign in"})]})})]})})})}),u.jsx(Vt,{})]})},N8=()=>{const[e,t]=b.useState(""),[n,r]=b.useState(""),[s,i]=b.useState(!1),[a,o]=b.useState(!1),l=En();b.useEffect(()=>{const c=window.location.hash;o(!!c),c||se.error("Invalid or expired password reset link")},[]);const d=async c=>{if(c.preventDefault(),!e||!n){se.error("Please fill in all fields");return}if(e!==n){se.error("Passwords do not match");return}i(!0);try{const{error:h}=await _e.auth.updateUser({password:e});if(h)throw h;se.success("Password has been reset successfully"),l("/sign-in")}catch(h){se.error(`Failed to reset password: ${h.message}`),console.error(h)}finally{i(!1)}};return u.jsxs("div",{className:"min-h-screen flex flex-col",children:[u.jsx(Pt,{}),u.jsx("main",{className:"flex-1 flex items-center justify-center py-12 px-4",children:u.jsx("div",{className:"w-full max-w-md",children:u.jsxs("div",{className:"bg-card rounded-lg shadow-lg border p-8",children:[u.jsx("h1",{className:"text-2xl font-bold mb-6 text-center",children:"Reset Your Password"}),a?u.jsxs("form",{onSubmit:d,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Rt,{htmlFor:"password",children:"New Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(ou,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),u.jsx(dt,{id:"password",type:"password",placeholder:"",value:e,onChange:c=>t(c.target.value),className:"pl-10",required:!0})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Rt,{htmlFor:"confirmPassword",children:"Confirm New Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(ou,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),u.jsx(dt,{id:"confirmPassword",type:"password",placeholder:"",value:n,onChange:c=>r(c.target.value),className:"pl-10",required:!0})]})]}),u.jsx(Se,{type:"submit",className:"w-full",disabled:s,children:s?"Resetting Password...":"Reset Password"})]}):u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-muted-foreground mb-6",children:"The password reset link is invalid or has expired. Please request a new one."}),u.jsx(Se,{asChild:!0,className:"w-full",children:u.jsx("a",{href:"/forgot-password",children:"Request New Link"})})]})]})})}),u.jsx(Vt,{})]})},k8=()=>u.jsxs("div",{className:"min-h-screen flex flex-col",children:[u.jsx(Pt,{}),u.jsx("main",{className:"flex-1 flex items-center justify-center py-12 px-4",children:u.jsx("div",{className:"w-full max-w-md",children:u.jsxs("div",{className:"bg-card rounded-lg shadow-lg border p-8 text-center",children:[u.jsx("div",{className:"flex justify-center mb-6",children:u.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:u.jsx(Xo,{className:"h-6 w-6 text-primary"})})}),u.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Check Your Email"}),u.jsx("p",{className:"text-muted-foreground mb-6",children:"We've sent you a verification link. Please check your email to confirm your account."}),u.jsxs("div",{className:"space-y-4",children:[u.jsx(Se,{asChild:!0,className:"w-full",children:u.jsx(it,{to:"/sign-in",children:"Return to Sign In"})}),u.jsxs("p",{className:"text-sm text-muted-foreground mt-4",children:["Didn't receive an email?"," ",u.jsx(it,{to:"/sign-up",className:"text-primary hover:underline",children:"Try again"})]}),u.jsx("div",{className:"mt-6 p-4 bg-amber-50 border border-amber-200 rounded-md text-amber-800",children:u.jsxs("div",{className:"flex items-start",children:[u.jsx(ts,{className:"h-5 w-5 mr-2 mt-0.5 flex-shrink-0"}),u.jsxs("p",{className:"text-sm text-left",children:[u.jsx("strong",{children:"Note:"})," For testing purposes, you may want to disable email confirmation in your Supabase project settings."]})]})})]})]})})}),u.jsx(Vt,{})]}),xp=rN,Ac=b.forwardRef(({className:e,...t},n)=>u.jsx(Wx,{ref:n,className:I("inline-flex h-10 items-center justify-start overflow-x-auto scrollbar-none rounded-md bg-[#F6E8C6] p-1 text-muted-foreground",e),...t}));Ac.displayName=Wx.displayName;const Xn=b.forwardRef(({className:e,...t},n)=>u.jsx(Yx,{ref:n,className:I("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm min-h-[44px] touch-manipulation",e),...t}));Xn.displayName=Yx.displayName;const Qn=b.forwardRef(({className:e,...t},n)=>u.jsx(Kx,{ref:n,className:I("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 overflow-x-auto",e),...t}));Qn.displayName=Kx.displayName;const I8=({initialName:e,email:t})=>{const[n,r]=b.useState(e),[s,i]=b.useState(!1),a=async o=>{if(o.preventDefault(),!n){se.error("Name is required");return}i(!0);try{const{error:l}=await _e.auth.updateUser({data:{name:n}});if(l)throw l;se.success("Profile updated successfully")}catch(l){se.error(`Failed to update profile: ${l.message}`),console.error(l)}finally{i(!1)}};return u.jsxs(kt,{children:[u.jsxs(Ht,{children:[u.jsxs(on,{className:"flex items-center gap-2",children:[u.jsx(_o,{className:"h-5 w-5"}),u.jsx("span",{children:"Profile Information"})]}),u.jsx(xn,{children:"Update your personal information and how it appears on your account"})]}),u.jsx(It,{children:u.jsxs("form",{onSubmit:a,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Rt,{htmlFor:"name",children:"Full Name"}),u.jsx(dt,{id:"name",value:n,onChange:o=>r(o.target.value),placeholder:"Your name"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Rt,{htmlFor:"email",children:"Email"}),u.jsx(dt,{id:"email",value:t,disabled:!0,className:"bg-muted"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Your email address is used for login and cannot be changed"})]}),u.jsx(Se,{type:"submit",disabled:s,children:s?"Saving...":"Save Changes"})]})})]})},R8=({email:e})=>{const[t,n]=b.useState(""),[r,s]=b.useState(""),[i,a]=b.useState(""),[o,l]=b.useState(!1),d=async c=>{if(c.preventDefault(),!t||!r||!i){se.error("All password fields are required");return}if(r!==i){se.error("New passwords do not match");return}l(!0);try{const{error:h}=await _e.auth.signInWithPassword({email:e,password:t});if(h)throw new Error("Current password is incorrect");const{error:m}=await _e.auth.updateUser({password:r});if(m)throw m;n(""),s(""),a(""),se.success("Password updated successfully")}catch(h){se.error(`Failed to update password: ${h.message}`),console.error(h)}finally{l(!1)}};return u.jsxs(kt,{children:[u.jsxs(Ht,{children:[u.jsxs(on,{className:"flex items-center gap-2",children:[u.jsx(RN,{className:"h-5 w-5"}),u.jsx("span",{children:"Password"})]}),u.jsx(xn,{children:"Update your password to keep your account secure"})]}),u.jsx(It,{children:u.jsxs("form",{onSubmit:d,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Rt,{htmlFor:"oldPassword",children:"Current Password"}),u.jsx(dt,{id:"oldPassword",type:"password",value:t,onChange:c=>n(c.target.value),placeholder:""})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Rt,{htmlFor:"newPassword",children:"New Password"}),u.jsx(dt,{id:"newPassword",type:"password",value:r,onChange:c=>s(c.target.value),placeholder:""})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Rt,{htmlFor:"confirmPassword",children:"Confirm New Password"}),u.jsx(dt,{id:"confirmPassword",type:"password",value:i,onChange:c=>a(c.target.value),placeholder:""})]}),u.jsx(Se,{type:"submit",disabled:o,children:o?"Updating...":"Update Password"})]})})]})},P8=({onDeleteAccount:e})=>{const[t,n]=b.useState(!1),r=async()=>{n(!0);try{await e()}catch(s){console.error("Error deleting account:",s),se.error("Failed to delete account")}finally{n(!1)}};return u.jsxs(kt,{children:[u.jsxs(Ht,{children:[u.jsxs(on,{className:"flex items-center gap-2 text-destructive",children:[u.jsx(nv,{className:"h-5 w-5"}),u.jsx("span",{children:"Delete Account"})]}),u.jsx(xn,{children:"Once you delete your account, all of your data will be permanently removed"})]}),u.jsx(It,{children:u.jsxs(nS,{children:[u.jsx(T5,{asChild:!0,children:u.jsx(Se,{variant:"destructive",children:"Delete Account"})}),u.jsxs(up,{children:[u.jsxs(cp,{children:[u.jsx(hp,{children:"Are you absolutely sure?"}),u.jsx(fp,{children:"This action cannot be undone. This will permanently delete your account and remove all of your data from our servers."})]}),u.jsxs(dp,{children:[u.jsx(pp,{children:"Cancel"}),u.jsx(mp,{onClick:r,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:t?"Deleting...":"Delete Account"})]})]})]})})]})},O8=()=>{const{user:e,signOut:t}=un(),[n,r]=b.useState(""),[s,i]=b.useState("");b.useEffect(()=>{if(e){const o=e.user_metadata||{};r(o.name||""),i(e.email||"")}},[e]);const a=async()=>{try{const{error:o}=await _e.functions.invoke("delete_user_account",{body:{}});if(o)throw o;await t(),se.success("Your account has been deleted")}catch(o){throw console.error("Error deleting account:",o),se.error("Failed to delete account: "+o.message),o}};return e?u.jsxs("div",{className:"min-h-screen flex flex-col",children:[u.jsx(Pt,{}),u.jsx("main",{className:"flex-1 py-12 px-4",children:u.jsxs("div",{className:"container mx-auto max-w-4xl",children:[u.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Account Settings"}),u.jsxs(xp,{defaultValue:"profile",children:[u.jsxs(Ac,{className:"mb-8 grid w-full grid-cols-2 md:w-auto md:inline-flex",children:[u.jsx(Xn,{value:"profile",children:"Profile"}),u.jsx(Xn,{value:"security",children:"Security"})]}),u.jsx(Qn,{value:"profile",children:u.jsx(I8,{initialName:n,email:s})}),u.jsx(Qn,{value:"security",children:u.jsxs("div",{className:"space-y-8",children:[u.jsx(R8,{email:s}),u.jsx(P8,{onDeleteAccount:a})]})})]})]})}),u.jsx(Vt,{})]}):u.jsx("div",{children:"Loading..."})};var fl=e=>e.type==="checkbox",$s=e=>e instanceof Date,Yt=e=>e==null;const oS=e=>typeof e=="object";var vt=e=>!Yt(e)&&!Array.isArray(e)&&oS(e)&&!$s(e),lS=e=>vt(e)&&e.target?fl(e.target)?e.target.checked:e.target.value:e,D8=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,uS=(e,t)=>e.has(D8(t)),M8=e=>{const t=e.constructor&&e.constructor.prototype;return vt(t)&&t.hasOwnProperty("isPrototypeOf")},vp=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Dt(e){let t;const n=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(vp&&(e instanceof Blob||r))&&(n||vt(e)))if(t=n?[]:{},!n&&!M8(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=Dt(e[s]));else return e;return t}var Nc=e=>Array.isArray(e)?e.filter(Boolean):[],bt=e=>e===void 0,me=(e,t,n)=>{if(!t||!vt(e))return n;const r=Nc(t.split(/[,[\].]+?/)).reduce((s,i)=>Yt(s)?s:s[i],e);return bt(r)||r===e?bt(e[t])?n:e[t]:r},pn=e=>typeof e=="boolean",Ep=e=>/^\w*$/.test(e),cS=e=>Nc(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Je=(e,t,n)=>{let r=-1;const s=Ep(t)?[t]:cS(t),i=s.length,a=i-1;for(;++r<i;){const o=s[r];let l=n;if(r!==a){const d=e[o];l=vt(d)||Array.isArray(d)?d:isNaN(+s[r+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;e[o]=l,e=e[o]}};const Su={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Jn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Dr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},dS=K.createContext(null),kc=()=>K.useContext(dS),L8=e=>{const{children:t,...n}=e;return K.createElement(dS.Provider,{value:n},t)};var hS=(e,t,n,r=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const a=i;return t._proxyFormState[a]!==Jn.all&&(t._proxyFormState[a]=!r||Jn.all),n&&(n[a]=!0),e[a]}});return s};const wp=typeof window<"u"?b.useLayoutEffect:b.useEffect;function j8(e){const t=kc(),{control:n=t.control,disabled:r,name:s,exact:i}=e||{},[a,o]=K.useState(n._formState),l=K.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return wp(()=>n._subscribe({name:s,formState:l.current,exact:i,callback:d=>{!r&&o({...n._formState,...d})}}),[s,r,i]),K.useEffect(()=>{l.current.isValid&&n._setValid(!0)},[n]),K.useMemo(()=>hS(a,n,l.current,!1),[a,n])}var xr=e=>typeof e=="string",fS=(e,t,n,r,s)=>xr(e)?(r&&t.watch.add(e),me(n,e,s)):Array.isArray(e)?e.map(i=>(r&&t.watch.add(i),me(n,i))):(r&&(t.watchAll=!0),n);function F8(e){const t=kc(),{control:n=t.control,name:r,defaultValue:s,disabled:i,exact:a}=e||{},o=K.useRef(s),[l,d]=K.useState(n._getWatch(r,o.current));return wp(()=>n._subscribe({name:r,formState:{values:!0},exact:a,callback:c=>!i&&d(fS(r,n._names,c.values||n._formValues,!1,o.current))}),[r,n,i,a]),K.useEffect(()=>n._removeUnmounted()),l}function B8(e){const t=kc(),{name:n,disabled:r,control:s=t.control,shouldUnregister:i}=e,a=uS(s._names.array,n),o=F8({control:s,name:n,defaultValue:me(s._formValues,n,me(s._defaultValues,n,e.defaultValue)),exact:!0}),l=j8({control:s,name:n,exact:!0}),d=K.useRef(e),c=K.useRef(s.register(n,{...e.rules,value:o,...pn(e.disabled)?{disabled:e.disabled}:{}})),h=K.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!me(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!me(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!me(l.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!me(l.validatingFields,n)},error:{enumerable:!0,get:()=>me(l.errors,n)}}),[l,n]),m=K.useCallback(x=>c.current.onChange({target:{value:lS(x),name:n},type:Su.CHANGE}),[n]),f=K.useCallback(()=>c.current.onBlur({target:{value:me(s._formValues,n),name:n},type:Su.BLUR}),[n,s._formValues]),g=K.useCallback(x=>{const E=me(s._fields,n);E&&x&&(E._f.ref={focus:()=>x.focus&&x.focus(),select:()=>x.select&&x.select(),setCustomValidity:v=>x.setCustomValidity(v),reportValidity:()=>x.reportValidity()})},[s._fields,n]),y=K.useMemo(()=>({name:n,value:o,...pn(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:m,onBlur:f,ref:g}),[n,r,l.disabled,m,f,g,o]);return K.useEffect(()=>{const x=s._options.shouldUnregister||i;s.register(n,{...d.current.rules,...pn(d.current.disabled)?{disabled:d.current.disabled}:{}});const E=(v,w)=>{const T=me(s._fields,v);T&&T._f&&(T._f.mount=w)};if(E(n,!0),x){const v=Dt(me(s._options.defaultValues,n));Je(s._defaultValues,n,v),bt(me(s._formValues,n))&&Je(s._formValues,n,v)}return!a&&s.register(n),()=>{(a?x&&!s._state.action:x)?s.unregister(n):E(n,!1)}},[n,s,a,i]),K.useEffect(()=>{s._setDisabledField({disabled:r,name:n})},[r,n,s]),K.useMemo(()=>({field:y,formState:l,fieldState:h}),[y,l,h])}const U8=e=>e.render(B8(e));var mS=(e,t,n,r,s)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:s||!0}}:{},ho=e=>Array.isArray(e)?e:[e],_y=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}},Qh=e=>Yt(e)||!oS(e);function hs(e,t){if(Qh(e)||Qh(t))return e===t;if($s(e)&&$s(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const s of n){const i=e[s];if(!r.includes(s))return!1;if(s!=="ref"){const a=t[s];if($s(i)&&$s(a)||vt(i)&&vt(a)||Array.isArray(i)&&Array.isArray(a)?!hs(i,a):i!==a)return!1}}return!0}var nn=e=>vt(e)&&!Object.keys(e).length,Tp=e=>e.type==="file",Zn=e=>typeof e=="function",Cu=e=>{if(!vp)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},pS=e=>e.type==="select-multiple",_p=e=>e.type==="radio",H8=e=>_p(e)||fl(e),Rd=e=>Cu(e)&&e.isConnected;function $8(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=bt(e)?r++:e[t[r++]];return e}function V8(e){for(const t in e)if(e.hasOwnProperty(t)&&!bt(e[t]))return!1;return!0}function _t(e,t){const n=Array.isArray(t)?t:Ep(t)?[t]:cS(t),r=n.length===1?e:$8(e,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(vt(r)&&nn(r)||Array.isArray(r)&&V8(r))&&_t(e,n.slice(0,-1)),e}var gS=e=>{for(const t in e)if(Zn(e[t]))return!0;return!1};function Au(e,t={}){const n=Array.isArray(e);if(vt(e)||n)for(const r in e)Array.isArray(e[r])||vt(e[r])&&!gS(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Au(e[r],t[r])):Yt(e[r])||(t[r]=!0);return t}function yS(e,t,n){const r=Array.isArray(e);if(vt(e)||r)for(const s in e)Array.isArray(e[s])||vt(e[s])&&!gS(e[s])?bt(t)||Qh(n[s])?n[s]=Array.isArray(e[s])?Au(e[s],[]):{...Au(e[s])}:yS(e[s],Yt(t)?{}:t[s],n[s]):n[s]=!hs(e[s],t[s]);return n}var Ha=(e,t)=>yS(e,t,Au(t));const Sy={value:!1,isValid:!1},Cy={value:!0,isValid:!0};var bS=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!bt(e[0].attributes.value)?bt(e[0].value)||e[0].value===""?Cy:{value:e[0].value,isValid:!0}:Cy:Sy}return Sy},xS=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>bt(e)?e:t?e===""?NaN:e&&+e:n&&xr(e)?new Date(e):r?r(e):e;const Ay={isValid:!1,value:null};var vS=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,Ay):Ay;function Ny(e){const t=e.ref;return Tp(t)?t.files:_p(t)?vS(e.refs).value:pS(t)?[...t.selectedOptions].map(({value:n})=>n):fl(t)?bS(e.refs).value:xS(bt(t.value)?e.ref.value:t.value,e)}var z8=(e,t,n,r)=>{const s={};for(const i of e){const a=me(t,i);a&&Je(s,i,a._f)}return{criteriaMode:n,names:[...e],fields:s,shouldUseNativeValidation:r}},Nu=e=>e instanceof RegExp,$a=e=>bt(e)?e:Nu(e)?e.source:vt(e)?Nu(e.value)?e.value.source:e.value:e,ky=e=>({isOnSubmit:!e||e===Jn.onSubmit,isOnBlur:e===Jn.onBlur,isOnChange:e===Jn.onChange,isOnAll:e===Jn.all,isOnTouch:e===Jn.onTouched});const Iy="AsyncFunction";var q8=e=>!!e&&!!e.validate&&!!(Zn(e.validate)&&e.validate.constructor.name===Iy||vt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Iy)),G8=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Ry=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const fo=(e,t,n,r)=>{for(const s of n||Object.keys(e)){const i=me(e,s);if(i){const{_f:a,...o}=i;if(a){if(a.refs&&a.refs[0]&&t(a.refs[0],s)&&!r)return!0;if(a.ref&&t(a.ref,a.name)&&!r)return!0;if(fo(o,t))break}else if(vt(o)&&fo(o,t))break}}};function Py(e,t,n){const r=me(e,n);if(r||Ep(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),a=me(t,i),o=me(e,i);if(a&&!Array.isArray(a)&&n!==i)return{name:n};if(o&&o.type)return{name:i,error:o};if(o&&o.root&&o.root.type)return{name:`${i}.root`,error:o.root};s.pop()}return{name:n}}var W8=(e,t,n,r)=>{n(e);const{name:s,...i}=e;return nn(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(a=>t[a]===(!r||Jn.all))},Y8=(e,t,n)=>!e||!t||e===t||ho(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),K8=(e,t,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(t||e):(n?r.isOnBlur:s.isOnBlur)?!e:(n?r.isOnChange:s.isOnChange)?e:!0,X8=(e,t)=>!Nc(me(e,t)).length&&_t(e,t),Q8=(e,t,n)=>{const r=ho(me(e,n));return Je(r,"root",t[n]),Je(e,n,r),e},tu=e=>xr(e);function Oy(e,t,n="validate"){if(tu(e)||Array.isArray(e)&&e.every(tu)||pn(e)&&!e)return{type:n,message:tu(e)?e:"",ref:t}}var Ei=e=>vt(e)&&!Nu(e)?e:{value:e,message:""},Dy=async(e,t,n,r,s,i)=>{const{ref:a,refs:o,required:l,maxLength:d,minLength:c,min:h,max:m,pattern:f,validate:g,name:y,valueAsNumber:x,mount:E}=e._f,v=me(n,y);if(!E||t.has(y))return{};const w=o?o[0]:a,T=P=>{s&&w.reportValidity&&(w.setCustomValidity(pn(P)?"":P||""),w.reportValidity())},S={},C=_p(a),D=fl(a),j=C||D,F=(x||Tp(a))&&bt(a.value)&&bt(v)||Cu(a)&&a.value===""||v===""||Array.isArray(v)&&!v.length,V=mS.bind(null,y,r,S),z=(P,W,Q,te=Dr.maxLength,L=Dr.minLength)=>{const U=P?W:Q;S[y]={type:P?te:L,message:U,ref:a,...V(P?te:L,U)}};if(i?!Array.isArray(v)||!v.length:l&&(!j&&(F||Yt(v))||pn(v)&&!v||D&&!bS(o).isValid||C&&!vS(o).isValid)){const{value:P,message:W}=tu(l)?{value:!!l,message:l}:Ei(l);if(P&&(S[y]={type:Dr.required,message:W,ref:w,...V(Dr.required,W)},!r))return T(W),S}if(!F&&(!Yt(h)||!Yt(m))){let P,W;const Q=Ei(m),te=Ei(h);if(!Yt(v)&&!isNaN(v)){const L=a.valueAsNumber||v&&+v;Yt(Q.value)||(P=L>Q.value),Yt(te.value)||(W=L<te.value)}else{const L=a.valueAsDate||new Date(v),U=_=>new Date(new Date().toDateString()+" "+_),Y=a.type=="time",O=a.type=="week";xr(Q.value)&&v&&(P=Y?U(v)>U(Q.value):O?v>Q.value:L>new Date(Q.value)),xr(te.value)&&v&&(W=Y?U(v)<U(te.value):O?v<te.value:L<new Date(te.value))}if((P||W)&&(z(!!P,Q.message,te.message,Dr.max,Dr.min),!r))return T(S[y].message),S}if((d||c)&&!F&&(xr(v)||i&&Array.isArray(v))){const P=Ei(d),W=Ei(c),Q=!Yt(P.value)&&v.length>+P.value,te=!Yt(W.value)&&v.length<+W.value;if((Q||te)&&(z(Q,P.message,W.message),!r))return T(S[y].message),S}if(f&&!F&&xr(v)){const{value:P,message:W}=Ei(f);if(Nu(P)&&!v.match(P)&&(S[y]={type:Dr.pattern,message:W,ref:a,...V(Dr.pattern,W)},!r))return T(W),S}if(g){if(Zn(g)){const P=await g(v,n),W=Oy(P,w);if(W&&(S[y]={...W,...V(Dr.validate,W.message)},!r))return T(W.message),S}else if(vt(g)){let P={};for(const W in g){if(!nn(P)&&!r)break;const Q=Oy(await g[W](v,n),w,W);Q&&(P={...Q,...V(W,Q.message)},T(Q.message),r&&(S[y]=P))}if(!nn(P)&&(S[y]={ref:w,...P},!r))return S}}return T(!0),S};const J8={mode:Jn.onSubmit,reValidateMode:Jn.onChange,shouldFocusError:!0};function Z8(e={}){let t={...J8,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Zn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const r={};let s=vt(t.defaultValues)||vt(t.values)?Dt(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Dt(s),a={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,d=0;const c={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...c};const m={array:_y(),state:_y()},f=t.criteriaMode===Jn.all,g=M=>$=>{clearTimeout(d),d=setTimeout(M,$)},y=async M=>{if(!t.disabled&&(c.isValid||h.isValid||M)){const $=t.resolver?nn((await D()).errors):await F(r,!0);$!==n.isValid&&m.state.next({isValid:$})}},x=(M,$)=>{!t.disabled&&(c.isValidating||c.validatingFields||h.isValidating||h.validatingFields)&&((M||Array.from(o.mount)).forEach(X=>{X&&($?Je(n.validatingFields,X,$):_t(n.validatingFields,X))}),m.state.next({validatingFields:n.validatingFields,isValidating:!nn(n.validatingFields)}))},E=(M,$=[],X,fe,he=!0,ue=!0)=>{if(fe&&X&&!t.disabled){if(a.action=!0,ue&&Array.isArray(me(r,M))){const B=X(me(r,M),fe.argA,fe.argB);he&&Je(r,M,B)}if(ue&&Array.isArray(me(n.errors,M))){const B=X(me(n.errors,M),fe.argA,fe.argB);he&&Je(n.errors,M,B),X8(n.errors,M)}if((c.touchedFields||h.touchedFields)&&ue&&Array.isArray(me(n.touchedFields,M))){const B=X(me(n.touchedFields,M),fe.argA,fe.argB);he&&Je(n.touchedFields,M,B)}(c.dirtyFields||h.dirtyFields)&&(n.dirtyFields=Ha(s,i)),m.state.next({name:M,isDirty:z(M,$),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Je(i,M,$)},v=(M,$)=>{Je(n.errors,M,$),m.state.next({errors:n.errors})},w=M=>{n.errors=M,m.state.next({errors:n.errors,isValid:!1})},T=(M,$,X,fe)=>{const he=me(r,M);if(he){const ue=me(i,M,bt(X)?me(s,M):X);bt(ue)||fe&&fe.defaultChecked||$?Je(i,M,$?ue:Ny(he._f)):Q(M,ue),a.mount&&y()}},S=(M,$,X,fe,he)=>{let ue=!1,B=!1;const J={name:M};if(!t.disabled){if(!X||fe){(c.isDirty||h.isDirty)&&(B=n.isDirty,n.isDirty=J.isDirty=z(),ue=B!==J.isDirty);const pe=hs(me(s,M),$);B=!!me(n.dirtyFields,M),pe?_t(n.dirtyFields,M):Je(n.dirtyFields,M,!0),J.dirtyFields=n.dirtyFields,ue=ue||(c.dirtyFields||h.dirtyFields)&&B!==!pe}if(X){const pe=me(n.touchedFields,M);pe||(Je(n.touchedFields,M,X),J.touchedFields=n.touchedFields,ue=ue||(c.touchedFields||h.touchedFields)&&pe!==X)}ue&&he&&m.state.next(J)}return ue?J:{}},C=(M,$,X,fe)=>{const he=me(n.errors,M),ue=(c.isValid||h.isValid)&&pn($)&&n.isValid!==$;if(t.delayError&&X?(l=g(()=>v(M,X)),l(t.delayError)):(clearTimeout(d),l=null,X?Je(n.errors,M,X):_t(n.errors,M)),(X?!hs(he,X):he)||!nn(fe)||ue){const B={...fe,...ue&&pn($)?{isValid:$}:{},errors:n.errors,name:M};n={...n,...B},m.state.next(B)}},D=async M=>{x(M,!0);const $=await t.resolver(i,t.context,z8(M||o.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return x(M),$},j=async M=>{const{errors:$}=await D(M);if(M)for(const X of M){const fe=me($,X);fe?Je(n.errors,X,fe):_t(n.errors,X)}else n.errors=$;return $},F=async(M,$,X={valid:!0})=>{for(const fe in M){const he=M[fe];if(he){const{_f:ue,...B}=he;if(ue){const J=o.array.has(ue.name),pe=he._f&&q8(he._f);pe&&c.validatingFields&&x([fe],!0);const Ce=await Dy(he,o.disabled,i,f,t.shouldUseNativeValidation&&!$,J);if(pe&&c.validatingFields&&x([fe]),Ce[ue.name]&&(X.valid=!1,$))break;!$&&(me(Ce,ue.name)?J?Q8(n.errors,Ce,ue.name):Je(n.errors,ue.name,Ce[ue.name]):_t(n.errors,ue.name))}!nn(B)&&await F(B,$,X)}}return X.valid},V=()=>{for(const M of o.unMount){const $=me(r,M);$&&($._f.refs?$._f.refs.every(X=>!Rd(X)):!Rd($._f.ref))&&G(M)}o.unMount=new Set},z=(M,$)=>!t.disabled&&(M&&$&&Je(i,M,$),!hs(_(),s)),P=(M,$,X)=>fS(M,o,{...a.mount?i:bt($)?s:xr(M)?{[M]:$}:$},X,$),W=M=>Nc(me(a.mount?i:s,M,t.shouldUnregister?me(s,M,[]):[])),Q=(M,$,X={})=>{const fe=me(r,M);let he=$;if(fe){const ue=fe._f;ue&&(!ue.disabled&&Je(i,M,xS($,ue)),he=Cu(ue.ref)&&Yt($)?"":$,pS(ue.ref)?[...ue.ref.options].forEach(B=>B.selected=he.includes(B.value)):ue.refs?fl(ue.ref)?ue.refs.forEach(B=>{(!B.defaultChecked||!B.disabled)&&(Array.isArray(he)?B.checked=!!he.find(J=>J===B.value):B.checked=he===B.value||!!he)}):ue.refs.forEach(B=>B.checked=B.value===he):Tp(ue.ref)?ue.ref.value="":(ue.ref.value=he,ue.ref.type||m.state.next({name:M,values:Dt(i)})))}(X.shouldDirty||X.shouldTouch)&&S(M,he,X.shouldTouch,X.shouldDirty,!0),X.shouldValidate&&O(M)},te=(M,$,X)=>{for(const fe in $){if(!$.hasOwnProperty(fe))return;const he=$[fe],ue=M+"."+fe,B=me(r,ue);(o.array.has(M)||vt(he)||B&&!B._f)&&!$s(he)?te(ue,he,X):Q(ue,he,X)}},L=(M,$,X={})=>{const fe=me(r,M),he=o.array.has(M),ue=Dt($);Je(i,M,ue),he?(m.array.next({name:M,values:Dt(i)}),(c.isDirty||c.dirtyFields||h.isDirty||h.dirtyFields)&&X.shouldDirty&&m.state.next({name:M,dirtyFields:Ha(s,i),isDirty:z(M,ue)})):fe&&!fe._f&&!Yt(ue)?te(M,ue,X):Q(M,ue,X),Ry(M,o)&&m.state.next({...n}),m.state.next({name:a.mount?M:void 0,values:Dt(i)})},U=async M=>{a.mount=!0;const $=M.target;let X=$.name,fe=!0;const he=me(r,X),ue=pe=>{fe=Number.isNaN(pe)||$s(pe)&&isNaN(pe.getTime())||hs(pe,me(i,X,pe))},B=ky(t.mode),J=ky(t.reValidateMode);if(he){let pe,Ce;const Ve=$.type?Ny(he._f):lS(M),ht=M.type===Su.BLUR||M.type===Su.FOCUS_OUT,_n=!G8(he._f)&&!t.resolver&&!me(n.errors,X)&&!he._f.deps||K8(ht,me(n.touchedFields,X),n.isSubmitted,J,B),Ot=Ry(X,o,ht);Je(i,X,Ve),ht?(he._f.onBlur&&he._f.onBlur(M),l&&l(0)):he._f.onChange&&he._f.onChange(M);const Lt=S(X,Ve,ht),or=!nn(Lt)||Ot;if(!ht&&m.state.next({name:X,type:M.type,values:Dt(i)}),_n)return(c.isValid||h.isValid)&&(t.mode==="onBlur"?ht&&y():ht||y()),or&&m.state.next({name:X,...Ot?{}:Lt});if(!ht&&Ot&&m.state.next({...n}),t.resolver){const{errors:lt}=await D([X]);if(ue(Ve),fe){const lr=Py(n.errors,r,X),Jt=Py(lt,r,lr.name||X);pe=Jt.error,X=Jt.name,Ce=nn(lt)}}else x([X],!0),pe=(await Dy(he,o.disabled,i,f,t.shouldUseNativeValidation))[X],x([X]),ue(Ve),fe&&(pe?Ce=!1:(c.isValid||h.isValid)&&(Ce=await F(r,!0)));fe&&(he._f.deps&&O(he._f.deps),C(X,Ce,pe,Lt))}},Y=(M,$)=>{if(me(n.errors,$)&&M.focus)return M.focus(),1},O=async(M,$={})=>{let X,fe;const he=ho(M);if(t.resolver){const ue=await j(bt(M)?M:he);X=nn(ue),fe=M?!he.some(B=>me(ue,B)):X}else M?(fe=(await Promise.all(he.map(async ue=>{const B=me(r,ue);return await F(B&&B._f?{[ue]:B}:B)}))).every(Boolean),!(!fe&&!n.isValid)&&y()):fe=X=await F(r);return m.state.next({...!xr(M)||(c.isValid||h.isValid)&&X!==n.isValid?{}:{name:M},...t.resolver||!M?{isValid:X}:{},errors:n.errors}),$.shouldFocus&&!fe&&fo(r,Y,M?he:o.mount),fe},_=M=>{const $={...a.mount?i:s};return bt(M)?$:xr(M)?me($,M):M.map(X=>me($,X))},ee=(M,$)=>({invalid:!!me(($||n).errors,M),isDirty:!!me(($||n).dirtyFields,M),error:me(($||n).errors,M),isValidating:!!me(n.validatingFields,M),isTouched:!!me(($||n).touchedFields,M)}),ie=M=>{M&&ho(M).forEach($=>_t(n.errors,$)),m.state.next({errors:M?n.errors:{}})},k=(M,$,X)=>{const fe=(me(r,M,{_f:{}})._f||{}).ref,he=me(n.errors,M)||{},{ref:ue,message:B,type:J,...pe}=he;Je(n.errors,M,{...pe,...$,ref:fe}),m.state.next({name:M,errors:n.errors,isValid:!1}),X&&X.shouldFocus&&fe&&fe.focus&&fe.focus()},ge=(M,$)=>Zn(M)?m.state.subscribe({next:X=>M(P(void 0,$),X)}):P(M,$,!0),Re=M=>m.state.subscribe({next:$=>{Y8(M.name,$.name,M.exact)&&W8($,M.formState||c,wn,M.reRenderRoot)&&M.callback({values:{...i},...n,...$})}}).unsubscribe,Ae=M=>(a.mount=!0,h={...h,...M.formState},Re({...M,formState:h})),G=(M,$={})=>{for(const X of M?ho(M):o.mount)o.mount.delete(X),o.array.delete(X),$.keepValue||(_t(r,X),_t(i,X)),!$.keepError&&_t(n.errors,X),!$.keepDirty&&_t(n.dirtyFields,X),!$.keepTouched&&_t(n.touchedFields,X),!$.keepIsValidating&&_t(n.validatingFields,X),!t.shouldUnregister&&!$.keepDefaultValue&&_t(s,X);m.state.next({values:Dt(i)}),m.state.next({...n,...$.keepDirty?{isDirty:z()}:{}}),!$.keepIsValid&&y()},ce=({disabled:M,name:$})=>{(pn(M)&&a.mount||M||o.disabled.has($))&&(M?o.disabled.add($):o.disabled.delete($))},de=(M,$={})=>{let X=me(r,M);const fe=pn($.disabled)||pn(t.disabled);return Je(r,M,{...X||{},_f:{...X&&X._f?X._f:{ref:{name:M}},name:M,mount:!0,...$}}),o.mount.add(M),X?ce({disabled:pn($.disabled)?$.disabled:t.disabled,name:M}):T(M,!0,$.value),{...fe?{disabled:$.disabled||t.disabled}:{},...t.progressive?{required:!!$.required,min:$a($.min),max:$a($.max),minLength:$a($.minLength),maxLength:$a($.maxLength),pattern:$a($.pattern)}:{},name:M,onChange:U,onBlur:U,ref:he=>{if(he){de(M,$),X=me(r,M);const ue=bt(he.value)&&he.querySelectorAll&&he.querySelectorAll("input,select,textarea")[0]||he,B=H8(ue),J=X._f.refs||[];if(B?J.find(pe=>pe===ue):ue===X._f.ref)return;Je(r,M,{_f:{...X._f,...B?{refs:[...J.filter(Rd),ue,...Array.isArray(me(s,M))?[{}]:[]],ref:{type:ue.type,name:M}}:{ref:ue}}}),T(M,!1,void 0,ue)}else X=me(r,M,{}),X._f&&(X._f.mount=!1),(t.shouldUnregister||$.shouldUnregister)&&!(uS(o.array,M)&&a.action)&&o.unMount.add(M)}}},be=()=>t.shouldFocusError&&fo(r,Y,o.mount),we=M=>{pn(M)&&(m.state.next({disabled:M}),fo(r,($,X)=>{const fe=me(r,X);fe&&($.disabled=fe._f.disabled||M,Array.isArray(fe._f.refs)&&fe._f.refs.forEach(he=>{he.disabled=fe._f.disabled||M}))},0,!1))},Te=(M,$)=>async X=>{let fe;X&&(X.preventDefault&&X.preventDefault(),X.persist&&X.persist());let he=Dt(i);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:ue,values:B}=await D();n.errors=ue,he=B}else await F(r);if(o.disabled.size)for(const ue of o.disabled)Je(he,ue,void 0);if(_t(n.errors,"root"),nn(n.errors)){m.state.next({errors:{}});try{await M(he,X)}catch(ue){fe=ue}}else $&&await $({...n.errors},X),be(),setTimeout(be);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:nn(n.errors)&&!fe,submitCount:n.submitCount+1,errors:n.errors}),fe)throw fe},Xe=(M,$={})=>{me(r,M)&&(bt($.defaultValue)?L(M,Dt(me(s,M))):(L(M,$.defaultValue),Je(s,M,Dt($.defaultValue))),$.keepTouched||_t(n.touchedFields,M),$.keepDirty||(_t(n.dirtyFields,M),n.isDirty=$.defaultValue?z(M,Dt(me(s,M))):z()),$.keepError||(_t(n.errors,M),c.isValid&&y()),m.state.next({...n}))},Tt=(M,$={})=>{const X=M?Dt(M):s,fe=Dt(X),he=nn(M),ue=he?s:fe;if($.keepDefaultValues||(s=X),!$.keepValues){if($.keepDirtyValues){const B=new Set([...o.mount,...Object.keys(Ha(s,i))]);for(const J of Array.from(B))me(n.dirtyFields,J)?Je(ue,J,me(i,J)):L(J,me(ue,J))}else{if(vp&&bt(M))for(const B of o.mount){const J=me(r,B);if(J&&J._f){const pe=Array.isArray(J._f.refs)?J._f.refs[0]:J._f.ref;if(Cu(pe)){const Ce=pe.closest("form");if(Ce){Ce.reset();break}}}}for(const B of o.mount)L(B,me(ue,B))}i=Dt(ue),m.array.next({values:{...ue}}),m.state.next({values:{...ue}})}o={mount:$.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!c.isValid||!!$.keepIsValid||!!$.keepDirtyValues,a.watch=!!t.shouldUnregister,m.state.next({submitCount:$.keepSubmitCount?n.submitCount:0,isDirty:he?!1:$.keepDirty?n.isDirty:!!($.keepDefaultValues&&!hs(M,s)),isSubmitted:$.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:he?{}:$.keepDirtyValues?$.keepDefaultValues&&i?Ha(s,i):n.dirtyFields:$.keepDefaultValues&&M?Ha(s,M):$.keepDirty?n.dirtyFields:{},touchedFields:$.keepTouched?n.touchedFields:{},errors:$.keepErrors?n.errors:{},isSubmitSuccessful:$.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},St=(M,$)=>Tt(Zn(M)?M(i):M,$),dn=(M,$={})=>{const X=me(r,M),fe=X&&X._f;if(fe){const he=fe.refs?fe.refs[0]:fe.ref;he.focus&&(he.focus(),$.shouldSelect&&Zn(he.select)&&he.select())}},wn=M=>{n={...n,...M}},Tn={control:{register:de,unregister:G,getFieldState:ee,handleSubmit:Te,setError:k,_subscribe:Re,_runSchema:D,_focusError:be,_getWatch:P,_getDirty:z,_setValid:y,_setFieldArray:E,_setDisabledField:ce,_setErrors:w,_getFieldArray:W,_reset:Tt,_resetDefaultValues:()=>Zn(t.defaultValues)&&t.defaultValues().then(M=>{St(M,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:V,_disableForm:we,_subjects:m,_proxyFormState:c,get _fields(){return r},get _formValues(){return i},get _state(){return a},set _state(M){a=M},get _defaultValues(){return s},get _names(){return o},set _names(M){o=M},get _formState(){return n},get _options(){return t},set _options(M){t={...t,...M}}},subscribe:Ae,trigger:O,register:de,handleSubmit:Te,watch:ge,setValue:L,getValues:_,reset:St,resetField:Xe,clearErrors:ie,unregister:G,setError:k,setFocus:dn,getFieldState:ee};return{...Tn,formControl:Tn}}function ES(e={}){const t=K.useRef(void 0),n=K.useRef(void 0),[r,s]=K.useState({isDirty:!1,isValidating:!1,isLoading:Zn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Zn(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:Z8(e),formState:r},e.formControl&&e.defaultValues&&!Zn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const i=t.current.control;return i._options=e,wp(()=>{const a=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(o=>({...o,isReady:!0})),i._formState.isReady=!0,a},[i]),K.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),K.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),K.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),K.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),K.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==r.isDirty&&i._subjects.state.next({isDirty:a})}},[i,r.isDirty]),K.useEffect(()=>{e.values&&!hs(e.values,n.current)?(i._reset(e.values,i._options.resetOptions),n.current=e.values,s(a=>({...a}))):i._resetDefaultValues()},[i,e.values]),K.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=hS(r,i),t.current}const My=(e,t,n)=>{if(e&&"reportValidity"in e){const r=me(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},wS=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?My(r.ref,n,e):r.refs&&r.refs.forEach(s=>My(s,n,e))}},eB=(e,t)=>{t.shouldUseNativeValidation&&wS(e,t);const n={};for(const r in e){const s=me(t.fields,r),i=Object.assign(e[r]||{},{ref:s&&s.ref});if(tB(t.names||Object.keys(e),r)){const a=Object.assign({},me(n,r));Je(a,"root",i),Je(n,r,a)}else Je(n,r,i)}return n},tB=(e,t)=>e.some(n=>n.startsWith(t+"."));var nB=function(e,t){for(var n={};e.length;){var r=e[0],s=r.code,i=r.message,a=r.path.join(".");if(!n[a])if("unionErrors"in r){var o=r.unionErrors[0].errors[0];n[a]={message:o.message,type:o.code}}else n[a]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(c){return c.errors.forEach(function(h){return e.push(h)})}),t){var l=n[a].types,d=l&&l[r.code];n[a]=mS(a,t,n,s,d?[].concat(d,r.message):r.message)}e.shift()}return n},TS=function(e,t,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve(function(a,o){try{var l=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(d){return i.shouldUseNativeValidation&&wS({},i),{errors:{},values:n.raw?r:d}})}catch(d){return o(d)}return l&&l.then?l.then(void 0,o):l}(0,function(a){if(function(o){return Array.isArray(o==null?void 0:o.errors)}(a))return{values:{},errors:eB(nB(a.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw a}))}catch(a){return Promise.reject(a)}}},Ye;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function n(s){throw new Error}e.assertNever=n,e.arrayToEnum=s=>{const i={};for(const a of s)i[a]=a;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(o=>typeof s[s[o]]!="number"),a={};for(const o of i)a[o]=s[o];return e.objectValues(a)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},e.find=(s,i)=>{for(const a of s)if(i(a))return a},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}e.joinValues=r,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Ye||(Ye={}));var Ly;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(Ly||(Ly={}));const xe=Ye.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),cs=e=>{switch(typeof e){case"undefined":return xe.undefined;case"string":return xe.string;case"number":return Number.isNaN(e)?xe.nan:xe.number;case"boolean":return xe.boolean;case"function":return xe.function;case"bigint":return xe.bigint;case"symbol":return xe.symbol;case"object":return Array.isArray(e)?xe.array:e===null?xe.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?xe.promise:typeof Map<"u"&&e instanceof Map?xe.map:typeof Set<"u"&&e instanceof Set?xe.set:typeof Date<"u"&&e instanceof Date?xe.date:xe.object;default:return xe.unknown}},le=Ye.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Gr extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(i){return i.message},r={_errors:[]},s=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let o=r,l=0;for(;l<a.path.length;){const d=a.path[l];l===a.path.length-1?(o[d]=o[d]||{_errors:[]},o[d]._errors.push(n(a))):o[d]=o[d]||{_errors:[]},o=o[d],l++}}};return s(this),r}static assert(t){if(!(t instanceof Gr))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ye.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(t(s))):r.push(t(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Gr.create=e=>new Gr(e);const Jh=(e,t)=>{let n;switch(e.code){case le.invalid_type:e.received===xe.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case le.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Ye.jsonStringifyReplacer)}`;break;case le.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ye.joinValues(e.keys,", ")}`;break;case le.invalid_union:n="Invalid input";break;case le.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ye.joinValues(e.options)}`;break;case le.invalid_enum_value:n=`Invalid enum value. Expected ${Ye.joinValues(e.options)}, received '${e.received}'`;break;case le.invalid_arguments:n="Invalid function arguments";break;case le.invalid_return_type:n="Invalid function return type";break;case le.invalid_date:n="Invalid date";break;case le.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Ye.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case le.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case le.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case le.custom:n="Invalid input";break;case le.invalid_intersection_types:n="Intersection results could not be merged";break;case le.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case le.not_finite:n="Number must be finite";break;default:n=t.defaultError,Ye.assertNever(e)}return{message:n}};let rB=Jh;function sB(){return rB}const iB=e=>{const{data:t,path:n,errorMaps:r,issueData:s}=e,i=[...n,...s.path||[]],a={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let o="";const l=r.filter(d=>!!d).slice().reverse();for(const d of l)o=d(a,{data:t,defaultError:o}).message;return{...s,path:i,message:o}};function ye(e,t){const n=sB(),r=iB({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Jh?void 0:Jh].filter(s=>!!s)});e.common.issues.push(r)}class vn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const s of n){if(s.status==="aborted")return Pe;s.status==="dirty"&&t.dirty(),r.push(s.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const s of n){const i=await s.key,a=await s.value;r.push({key:i,value:a})}return vn.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const s of n){const{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return Pe;i.status==="dirty"&&t.dirty(),a.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(r[i.value]=a.value)}return{status:t.value,value:r}}}const Pe=Object.freeze({status:"aborted"}),Ja=e=>({status:"dirty",value:e}),Mn=e=>({status:"valid",value:e}),jy=e=>e.status==="aborted",Fy=e=>e.status==="dirty",la=e=>e.status==="valid",ku=e=>typeof Promise<"u"&&e instanceof Promise;var ve;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(ve||(ve={}));class Ss{constructor(t,n,r,s){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const By=(e,t)=>{if(la(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Gr(e.common.issues);return this._error=n,this._error}}};function $e(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:s}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(a,o)=>{const{message:l}=e;return a.code==="invalid_enum_value"?{message:l??o.defaultError}:typeof o.data>"u"?{message:l??r??o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:l??n??o.defaultError}},description:s}}class Ge{get description(){return this._def.description}_getType(t){return cs(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:cs(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new vn,ctx:{common:t.parent.common,data:t.data,parsedType:cs(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(ku(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:cs(t)},s=this._parseSync({data:t,path:r.path,parent:r});return By(r,s)}"~validate"(t){var r,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:cs(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:n});return la(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(s=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(i=>la(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:cs(t)},s=this._parse({data:t,path:r.path,parent:r}),i=await(ku(s)?s:Promise.resolve(s));return By(r,i)}refine(t,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const a=t(s),o=()=>i.addIssue({code:le.custom,...r(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(l=>l?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(t,n){return this._refinement((r,s)=>t(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(t){return new da({schema:this,typeName:Oe.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return xs.create(this,this._def)}nullable(){return ha.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Cr.create(this)}promise(){return Ou.create(this,this._def)}or(t){return Ru.create([this,t],this._def)}and(t){return Pu.create(this,t,this._def)}transform(t){return new da({...$e(this._def),schema:this,typeName:Oe.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new ef({...$e(this._def),innerType:this,defaultValue:n,typeName:Oe.ZodDefault})}brand(){return new NB({typeName:Oe.ZodBranded,type:this,...$e(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new tf({...$e(this._def),innerType:this,catchValue:n,typeName:Oe.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return Sp.create(this,t)}readonly(){return nf.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const aB=/^c[^\s-]{8,}$/i,oB=/^[0-9a-z]+$/,lB=/^[0-9A-HJKMNP-TV-Z]{26}$/i,uB=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,cB=/^[a-z0-9_-]{21}$/i,dB=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,hB=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,fB=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,mB="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Pd;const pB=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,gB=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,yB=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,bB=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,xB=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,vB=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,_S="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",EB=new RegExp(`^${_S}$`);function SS(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function wB(e){return new RegExp(`^${SS(e)}$`)}function TB(e){let t=`${_S}T${SS(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function _B(e,t){return!!((t==="v4"||!t)&&pB.test(e)||(t==="v6"||!t)&&yB.test(e))}function SB(e,t){if(!dB.test(e))return!1;try{const[n]=e.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function CB(e,t){return!!((t==="v4"||!t)&&gB.test(e)||(t==="v6"||!t)&&bB.test(e))}class Br extends Ge{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==xe.string){const i=this._getOrReturnCtx(t);return ye(i,{code:le.invalid_type,expected:xe.string,received:i.parsedType}),Pe}const r=new vn;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),ye(s,{code:le.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),ye(s,{code:le.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const a=t.data.length>i.value,o=t.data.length<i.value;(a||o)&&(s=this._getOrReturnCtx(t,s),a?ye(s,{code:le.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&ye(s,{code:le.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")fB.test(t.data)||(s=this._getOrReturnCtx(t,s),ye(s,{validation:"email",code:le.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Pd||(Pd=new RegExp(mB,"u")),Pd.test(t.data)||(s=this._getOrReturnCtx(t,s),ye(s,{validation:"emoji",code:le.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")uB.test(t.data)||(s=this._getOrReturnCtx(t,s),ye(s,{validation:"uuid",code:le.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")cB.test(t.data)||(s=this._getOrReturnCtx(t,s),ye(s,{validation:"nanoid",code:le.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")aB.test(t.data)||(s=this._getOrReturnCtx(t,s),ye(s,{validation:"cuid",code:le.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")oB.test(t.data)||(s=this._getOrReturnCtx(t,s),ye(s,{validation:"cuid2",code:le.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")lB.test(t.data)||(s=this._getOrReturnCtx(t,s),ye(s,{validation:"ulid",code:le.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),ye(s,{validation:"url",code:le.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),ye(s,{validation:"regex",code:le.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),ye(s,{code:le.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),ye(s,{code:le.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),ye(s,{code:le.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?TB(i).test(t.data)||(s=this._getOrReturnCtx(t,s),ye(s,{code:le.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?EB.test(t.data)||(s=this._getOrReturnCtx(t,s),ye(s,{code:le.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?wB(i).test(t.data)||(s=this._getOrReturnCtx(t,s),ye(s,{code:le.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?hB.test(t.data)||(s=this._getOrReturnCtx(t,s),ye(s,{validation:"duration",code:le.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?_B(t.data,i.version)||(s=this._getOrReturnCtx(t,s),ye(s,{validation:"ip",code:le.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?SB(t.data,i.alg)||(s=this._getOrReturnCtx(t,s),ye(s,{validation:"jwt",code:le.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?CB(t.data,i.version)||(s=this._getOrReturnCtx(t,s),ye(s,{validation:"cidr",code:le.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?xB.test(t.data)||(s=this._getOrReturnCtx(t,s),ye(s,{validation:"base64",code:le.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?vB.test(t.data)||(s=this._getOrReturnCtx(t,s),ye(s,{validation:"base64url",code:le.invalid_string,message:i.message}),r.dirty()):Ye.assertNever(i);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(s=>t.test(s),{validation:n,code:le.invalid_string,...ve.errToObj(r)})}_addCheck(t){return new Br({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...ve.errToObj(t)})}url(t){return this._addCheck({kind:"url",...ve.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...ve.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...ve.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...ve.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...ve.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...ve.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...ve.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...ve.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...ve.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...ve.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...ve.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...ve.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...ve.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...ve.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...ve.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...ve.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...ve.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...ve.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...ve.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...ve.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...ve.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...ve.errToObj(n)})}nonempty(t){return this.min(1,ve.errToObj(t))}trim(){return new Br({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Br({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Br({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Br.create=e=>new Br({checks:[],typeName:Oe.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...$e(e)});function AB(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,s=n>r?n:r,i=Number.parseInt(e.toFixed(s).replace(".","")),a=Number.parseInt(t.toFixed(s).replace(".",""));return i%a/10**s}class ii extends Ge{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==xe.number){const i=this._getOrReturnCtx(t);return ye(i,{code:le.invalid_type,expected:xe.number,received:i.parsedType}),Pe}let r;const s=new vn;for(const i of this._def.checks)i.kind==="int"?Ye.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),ye(r,{code:le.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),ye(r,{code:le.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),ye(r,{code:le.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?AB(t.data,i.value)!==0&&(r=this._getOrReturnCtx(t,r),ye(r,{code:le.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),ye(r,{code:le.not_finite,message:i.message}),s.dirty()):Ye.assertNever(i);return{status:s.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,ve.toString(n))}gt(t,n){return this.setLimit("min",t,!1,ve.toString(n))}lte(t,n){return this.setLimit("max",t,!0,ve.toString(n))}lt(t,n){return this.setLimit("max",t,!1,ve.toString(n))}setLimit(t,n,r,s){return new ii({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:ve.toString(s)}]})}_addCheck(t){return new ii({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:ve.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ve.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ve.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ve.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ve.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:ve.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:ve.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ve.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ve.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Ye.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}ii.create=e=>new ii({checks:[],typeName:Oe.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...$e(e)});class ai extends Ge{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==xe.bigint)return this._getInvalidInput(t);let r;const s=new vn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),ye(r,{code:le.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),ye(r,{code:le.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),ye(r,{code:le.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Ye.assertNever(i);return{status:s.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return ye(n,{code:le.invalid_type,expected:xe.bigint,received:n.parsedType}),Pe}gte(t,n){return this.setLimit("min",t,!0,ve.toString(n))}gt(t,n){return this.setLimit("min",t,!1,ve.toString(n))}lte(t,n){return this.setLimit("max",t,!0,ve.toString(n))}lt(t,n){return this.setLimit("max",t,!1,ve.toString(n))}setLimit(t,n,r,s){return new ai({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:ve.toString(s)}]})}_addCheck(t){return new ai({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ve.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ve.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ve.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ve.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:ve.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}ai.create=e=>new ai({checks:[],typeName:Oe.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...$e(e)});class Iu extends Ge{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==xe.boolean){const r=this._getOrReturnCtx(t);return ye(r,{code:le.invalid_type,expected:xe.boolean,received:r.parsedType}),Pe}return Mn(t.data)}}Iu.create=e=>new Iu({typeName:Oe.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...$e(e)});class ua extends Ge{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==xe.date){const i=this._getOrReturnCtx(t);return ye(i,{code:le.invalid_type,expected:xe.date,received:i.parsedType}),Pe}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return ye(i,{code:le.invalid_date}),Pe}const r=new vn;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),ye(s,{code:le.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),ye(s,{code:le.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Ye.assertNever(i);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new ua({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:ve.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:ve.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}ua.create=e=>new ua({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Oe.ZodDate,...$e(e)});class Uy extends Ge{_parse(t){if(this._getType(t)!==xe.symbol){const r=this._getOrReturnCtx(t);return ye(r,{code:le.invalid_type,expected:xe.symbol,received:r.parsedType}),Pe}return Mn(t.data)}}Uy.create=e=>new Uy({typeName:Oe.ZodSymbol,...$e(e)});class Hy extends Ge{_parse(t){if(this._getType(t)!==xe.undefined){const r=this._getOrReturnCtx(t);return ye(r,{code:le.invalid_type,expected:xe.undefined,received:r.parsedType}),Pe}return Mn(t.data)}}Hy.create=e=>new Hy({typeName:Oe.ZodUndefined,...$e(e)});class $y extends Ge{_parse(t){if(this._getType(t)!==xe.null){const r=this._getOrReturnCtx(t);return ye(r,{code:le.invalid_type,expected:xe.null,received:r.parsedType}),Pe}return Mn(t.data)}}$y.create=e=>new $y({typeName:Oe.ZodNull,...$e(e)});class Vy extends Ge{constructor(){super(...arguments),this._any=!0}_parse(t){return Mn(t.data)}}Vy.create=e=>new Vy({typeName:Oe.ZodAny,...$e(e)});class zy extends Ge{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Mn(t.data)}}zy.create=e=>new zy({typeName:Oe.ZodUnknown,...$e(e)});class Cs extends Ge{_parse(t){const n=this._getOrReturnCtx(t);return ye(n,{code:le.invalid_type,expected:xe.never,received:n.parsedType}),Pe}}Cs.create=e=>new Cs({typeName:Oe.ZodNever,...$e(e)});class qy extends Ge{_parse(t){if(this._getType(t)!==xe.undefined){const r=this._getOrReturnCtx(t);return ye(r,{code:le.invalid_type,expected:xe.void,received:r.parsedType}),Pe}return Mn(t.data)}}qy.create=e=>new qy({typeName:Oe.ZodVoid,...$e(e)});class Cr extends Ge{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),s=this._def;if(n.parsedType!==xe.array)return ye(n,{code:le.invalid_type,expected:xe.array,received:n.parsedType}),Pe;if(s.exactLength!==null){const a=n.data.length>s.exactLength.value,o=n.data.length<s.exactLength.value;(a||o)&&(ye(n,{code:a?le.too_big:le.too_small,minimum:o?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(ye(n,{code:le.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(ye(n,{code:le.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,o)=>s.type._parseAsync(new Ss(n,a,n.path,o)))).then(a=>vn.mergeArray(r,a));const i=[...n.data].map((a,o)=>s.type._parseSync(new Ss(n,a,n.path,o)));return vn.mergeArray(r,i)}get element(){return this._def.type}min(t,n){return new Cr({...this._def,minLength:{value:t,message:ve.toString(n)}})}max(t,n){return new Cr({...this._def,maxLength:{value:t,message:ve.toString(n)}})}length(t,n){return new Cr({...this._def,exactLength:{value:t,message:ve.toString(n)}})}nonempty(t){return this.min(1,t)}}Cr.create=(e,t)=>new Cr({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Oe.ZodArray,...$e(t)});function Ai(e){if(e instanceof gt){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=xs.create(Ai(r))}return new gt({...e._def,shape:()=>t})}else return e instanceof Cr?new Cr({...e._def,type:Ai(e.element)}):e instanceof xs?xs.create(Ai(e.unwrap())):e instanceof ha?ha.create(Ai(e.unwrap())):e instanceof oi?oi.create(e.items.map(t=>Ai(t))):e}class gt extends Ge{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=Ye.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==xe.object){const d=this._getOrReturnCtx(t);return ye(d,{code:le.invalid_type,expected:xe.object,received:d.parsedType}),Pe}const{status:r,ctx:s}=this._processInputParams(t),{shape:i,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof Cs&&this._def.unknownKeys==="strip"))for(const d in s.data)a.includes(d)||o.push(d);const l=[];for(const d of a){const c=i[d],h=s.data[d];l.push({key:{status:"valid",value:d},value:c._parse(new Ss(s,h,s.path,d)),alwaysSet:d in s.data})}if(this._def.catchall instanceof Cs){const d=this._def.unknownKeys;if(d==="passthrough")for(const c of o)l.push({key:{status:"valid",value:c},value:{status:"valid",value:s.data[c]}});else if(d==="strict")o.length>0&&(ye(s,{code:le.unrecognized_keys,keys:o}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const c of o){const h=s.data[c];l.push({key:{status:"valid",value:c},value:d._parse(new Ss(s,h,s.path,c)),alwaysSet:c in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const d=[];for(const c of l){const h=await c.key,m=await c.value;d.push({key:h,value:m,alwaysSet:c.alwaysSet})}return d}).then(d=>vn.mergeObjectSync(r,d)):vn.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(t){return ve.errToObj,new gt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var i,a;const s=((a=(i=this._def).errorMap)==null?void 0:a.call(i,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:ve.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new gt({...this._def,unknownKeys:"strip"})}passthrough(){return new gt({...this._def,unknownKeys:"passthrough"})}extend(t){return new gt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new gt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Oe.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new gt({...this._def,catchall:t})}pick(t){const n={};for(const r of Ye.objectKeys(t))t[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new gt({...this._def,shape:()=>n})}omit(t){const n={};for(const r of Ye.objectKeys(this.shape))t[r]||(n[r]=this.shape[r]);return new gt({...this._def,shape:()=>n})}deepPartial(){return Ai(this)}partial(t){const n={};for(const r of Ye.objectKeys(this.shape)){const s=this.shape[r];t&&!t[r]?n[r]=s:n[r]=s.optional()}return new gt({...this._def,shape:()=>n})}required(t){const n={};for(const r of Ye.objectKeys(this.shape))if(t&&!t[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof xs;)i=i._def.innerType;n[r]=i}return new gt({...this._def,shape:()=>n})}keyof(){return CS(Ye.objectKeys(this.shape))}}gt.create=(e,t)=>new gt({shape:()=>e,unknownKeys:"strip",catchall:Cs.create(),typeName:Oe.ZodObject,...$e(t)});gt.strictCreate=(e,t)=>new gt({shape:()=>e,unknownKeys:"strict",catchall:Cs.create(),typeName:Oe.ZodObject,...$e(t)});gt.lazycreate=(e,t)=>new gt({shape:e,unknownKeys:"strip",catchall:Cs.create(),typeName:Oe.ZodObject,...$e(t)});class Ru extends Ge{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function s(i){for(const o of i)if(o.result.status==="valid")return o.result;for(const o of i)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const a=i.map(o=>new Gr(o.ctx.common.issues));return ye(n,{code:le.invalid_union,unionErrors:a}),Pe}if(n.common.async)return Promise.all(r.map(async i=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(s);{let i;const a=[];for(const l of r){const d={...n,common:{...n.common,issues:[]},parent:null},c=l._parseSync({data:n.data,path:n.path,parent:d});if(c.status==="valid")return c;c.status==="dirty"&&!i&&(i={result:c,ctx:d}),d.common.issues.length&&a.push(d.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const o=a.map(l=>new Gr(l));return ye(n,{code:le.invalid_union,unionErrors:o}),Pe}}get options(){return this._def.options}}Ru.create=(e,t)=>new Ru({options:e,typeName:Oe.ZodUnion,...$e(t)});function Zh(e,t){const n=cs(e),r=cs(t);if(e===t)return{valid:!0,data:e};if(n===xe.object&&r===xe.object){const s=Ye.objectKeys(t),i=Ye.objectKeys(e).filter(o=>s.indexOf(o)!==-1),a={...e,...t};for(const o of i){const l=Zh(e[o],t[o]);if(!l.valid)return{valid:!1};a[o]=l.data}return{valid:!0,data:a}}else if(n===xe.array&&r===xe.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const a=e[i],o=t[i],l=Zh(a,o);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return n===xe.date&&r===xe.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Pu extends Ge{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=(i,a)=>{if(jy(i)||jy(a))return Pe;const o=Zh(i.value,a.value);return o.valid?((Fy(i)||Fy(a))&&n.dirty(),{status:n.value,value:o.data}):(ye(r,{code:le.invalid_intersection_types}),Pe)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Pu.create=(e,t,n)=>new Pu({left:e,right:t,typeName:Oe.ZodIntersection,...$e(n)});class oi extends Ge{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==xe.array)return ye(r,{code:le.invalid_type,expected:xe.array,received:r.parsedType}),Pe;if(r.data.length<this._def.items.length)return ye(r,{code:le.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Pe;!this._def.rest&&r.data.length>this._def.items.length&&(ye(r,{code:le.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((a,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new Ss(r,a,r.path,o)):null}).filter(a=>!!a);return r.common.async?Promise.all(i).then(a=>vn.mergeArray(n,a)):vn.mergeArray(n,i)}get items(){return this._def.items}rest(t){return new oi({...this._def,rest:t})}}oi.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new oi({items:e,typeName:Oe.ZodTuple,rest:null,...$e(t)})};class Gy extends Ge{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==xe.map)return ye(r,{code:le.invalid_type,expected:xe.map,received:r.parsedType}),Pe;const s=this._def.keyType,i=this._def.valueType,a=[...r.data.entries()].map(([o,l],d)=>({key:s._parse(new Ss(r,o,r.path,[d,"key"])),value:i._parse(new Ss(r,l,r.path,[d,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of a){const d=await l.key,c=await l.value;if(d.status==="aborted"||c.status==="aborted")return Pe;(d.status==="dirty"||c.status==="dirty")&&n.dirty(),o.set(d.value,c.value)}return{status:n.value,value:o}})}else{const o=new Map;for(const l of a){const d=l.key,c=l.value;if(d.status==="aborted"||c.status==="aborted")return Pe;(d.status==="dirty"||c.status==="dirty")&&n.dirty(),o.set(d.value,c.value)}return{status:n.value,value:o}}}}Gy.create=(e,t,n)=>new Gy({valueType:t,keyType:e,typeName:Oe.ZodMap,...$e(n)});class Uo extends Ge{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==xe.set)return ye(r,{code:le.invalid_type,expected:xe.set,received:r.parsedType}),Pe;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(ye(r,{code:le.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(ye(r,{code:le.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function a(l){const d=new Set;for(const c of l){if(c.status==="aborted")return Pe;c.status==="dirty"&&n.dirty(),d.add(c.value)}return{status:n.value,value:d}}const o=[...r.data.values()].map((l,d)=>i._parse(new Ss(r,l,r.path,d)));return r.common.async?Promise.all(o).then(l=>a(l)):a(o)}min(t,n){return new Uo({...this._def,minSize:{value:t,message:ve.toString(n)}})}max(t,n){return new Uo({...this._def,maxSize:{value:t,message:ve.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}Uo.create=(e,t)=>new Uo({valueType:e,minSize:null,maxSize:null,typeName:Oe.ZodSet,...$e(t)});class Wy extends Ge{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Wy.create=(e,t)=>new Wy({getter:e,typeName:Oe.ZodLazy,...$e(t)});class Yy extends Ge{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return ye(n,{received:n.data,code:le.invalid_literal,expected:this._def.value}),Pe}return{status:"valid",value:t.data}}get value(){return this._def.value}}Yy.create=(e,t)=>new Yy({value:e,typeName:Oe.ZodLiteral,...$e(t)});function CS(e,t){return new ca({values:e,typeName:Oe.ZodEnum,...$e(t)})}class ca extends Ge{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return ye(n,{expected:Ye.joinValues(r),received:n.parsedType,code:le.invalid_type}),Pe}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return ye(n,{received:n.data,code:le.invalid_enum_value,options:r}),Pe}return Mn(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return ca.create(t,{...this._def,...n})}exclude(t,n=this._def){return ca.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}ca.create=CS;class Ky extends Ge{_parse(t){const n=Ye.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==xe.string&&r.parsedType!==xe.number){const s=Ye.objectValues(n);return ye(r,{expected:Ye.joinValues(s),received:r.parsedType,code:le.invalid_type}),Pe}if(this._cache||(this._cache=new Set(Ye.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=Ye.objectValues(n);return ye(r,{received:r.data,code:le.invalid_enum_value,options:s}),Pe}return Mn(t.data)}get enum(){return this._def.values}}Ky.create=(e,t)=>new Ky({values:e,typeName:Oe.ZodNativeEnum,...$e(t)});class Ou extends Ge{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==xe.promise&&n.common.async===!1)return ye(n,{code:le.invalid_type,expected:xe.promise,received:n.parsedType}),Pe;const r=n.parsedType===xe.promise?n.data:Promise.resolve(n.data);return Mn(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Ou.create=(e,t)=>new Ou({type:e,typeName:Oe.ZodPromise,...$e(t)});class da extends Ge{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Oe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:a=>{ye(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const a=s.transform(r.data,i);if(r.common.async)return Promise.resolve(a).then(async o=>{if(n.value==="aborted")return Pe;const l=await this._def.schema._parseAsync({data:o,path:r.path,parent:r});return l.status==="aborted"?Pe:l.status==="dirty"||n.value==="dirty"?Ja(l.value):l});{if(n.value==="aborted")return Pe;const o=this._def.schema._parseSync({data:a,path:r.path,parent:r});return o.status==="aborted"?Pe:o.status==="dirty"||n.value==="dirty"?Ja(o.value):o}}if(s.type==="refinement"){const a=o=>{const l=s.refinement(o,i);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?Pe:(o.status==="dirty"&&n.dirty(),a(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?Pe:(o.status==="dirty"&&n.dirty(),a(o.value).then(()=>({status:n.value,value:o.value}))))}if(s.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!la(a))return Pe;const o=s.transform(a.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>la(a)?Promise.resolve(s.transform(a.value,i)).then(o=>({status:n.value,value:o})):Pe);Ye.assertNever(s)}}da.create=(e,t,n)=>new da({schema:e,typeName:Oe.ZodEffects,effect:t,...$e(n)});da.createWithPreprocess=(e,t,n)=>new da({schema:t,effect:{type:"preprocess",transform:e},typeName:Oe.ZodEffects,...$e(n)});class xs extends Ge{_parse(t){return this._getType(t)===xe.undefined?Mn(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}xs.create=(e,t)=>new xs({innerType:e,typeName:Oe.ZodOptional,...$e(t)});class ha extends Ge{_parse(t){return this._getType(t)===xe.null?Mn(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ha.create=(e,t)=>new ha({innerType:e,typeName:Oe.ZodNullable,...$e(t)});class ef extends Ge{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===xe.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}ef.create=(e,t)=>new ef({innerType:e,typeName:Oe.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...$e(t)});class tf extends Ge{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return ku(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Gr(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Gr(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}tf.create=(e,t)=>new tf({innerType:e,typeName:Oe.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...$e(t)});class Xy extends Ge{_parse(t){if(this._getType(t)!==xe.nan){const r=this._getOrReturnCtx(t);return ye(r,{code:le.invalid_type,expected:xe.nan,received:r.parsedType}),Pe}return{status:"valid",value:t.data}}}Xy.create=e=>new Xy({typeName:Oe.ZodNaN,...$e(e)});class NB extends Ge{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Sp extends Ge{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Pe:i.status==="dirty"?(n.dirty(),Ja(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Pe:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(t,n){return new Sp({in:t,out:n,typeName:Oe.ZodPipeline})}}class nf extends Ge{_parse(t){const n=this._def.innerType._parse(t),r=s=>(la(s)&&(s.value=Object.freeze(s.value)),s);return ku(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}nf.create=(e,t)=>new nf({innerType:e,typeName:Oe.ZodReadonly,...$e(t)});gt.lazycreate;var Oe;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Oe||(Oe={}));const Vs=Br.create;ii.create;ai.create;const kB=Iu.create;ua.create;Cs.create;Cr.create;const AS=gt.create;gt.strictCreate;Ru.create;Pu.create;oi.create;const IB=ca.create;Ou.create;xs.create;ha.create;const RB={string:e=>Br.create({...e,coerce:!0}),number:e=>ii.create({...e,coerce:!0}),boolean:e=>Iu.create({...e,coerce:!0}),bigint:e=>ai.create({...e,coerce:!0}),date:e=>ua.create({...e,coerce:!0})},NS=L8,kS=b.createContext({}),mr=({...e})=>u.jsx(kS.Provider,{value:{name:e.name},children:u.jsx(U8,{...e})}),Ic=()=>{const e=b.useContext(kS),t=b.useContext(IS),{getFieldState:n,formState:r}=kc(),s=n(e.name,r);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},IS=b.createContext({}),Wn=b.forwardRef(({className:e,...t},n)=>{const r=b.useId();return u.jsx(IS.Provider,{value:{id:r},children:u.jsx("div",{ref:n,className:I("space-y-2",e),...t})})});Wn.displayName="FormItem";const Yn=b.forwardRef(({className:e,...t},n)=>{const{error:r,formItemId:s}=Ic();return u.jsx(Rt,{ref:n,className:I(r&&"text-destructive",e),htmlFor:s,...t})});Yn.displayName="FormLabel";const Kn=b.forwardRef(({...e},t)=>{const{error:n,formItemId:r,formDescriptionId:s,formMessageId:i}=Ic();return u.jsx(Vx,{ref:t,id:r,"aria-describedby":n?`${s} ${i}`:`${s}`,"aria-invalid":!!n,...e})});Kn.displayName="FormControl";const Fs=b.forwardRef(({className:e,...t},n)=>{const{formDescriptionId:r}=Ic();return u.jsx("p",{ref:n,id:r,className:I("text-sm text-muted-foreground",e),...t})});Fs.displayName="FormDescription";const Ur=b.forwardRef(({className:e,children:t,...n},r)=>{const{error:s,formMessageId:i}=Ic(),a=s?String(s==null?void 0:s.message):t;return a?u.jsx("p",{ref:r,id:i,className:I("text-sm font-medium text-destructive",e),...n,children:a}):null});Ur.displayName="FormMessage";var Cp="Radio",[PB,RS]=Dn(Cp),[OB,DB]=PB(Cp),PS=b.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:i,disabled:a,value:o="on",onCheck:l,form:d,...c}=e,[h,m]=b.useState(null),f=Ke(t,x=>m(x)),g=b.useRef(!1),y=h?d||!!h.closest("form"):!0;return u.jsxs(OB,{scope:n,checked:s,disabled:a,children:[u.jsx(Fe.button,{type:"button",role:"radio","aria-checked":s,"data-state":LS(s),"data-disabled":a?"":void 0,disabled:a,value:o,...c,ref:f,onClick:Ee(e.onClick,x=>{s||l==null||l(),y&&(g.current=x.isPropagationStopped(),g.current||x.stopPropagation())})}),y&&u.jsx(MS,{control:h,bubbles:!g.current,name:r,value:o,checked:s,required:i,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});PS.displayName=Cp;var OS="RadioIndicator",DS=b.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...s}=e,i=DB(OS,n);return u.jsx(kr,{present:r||i.checked,children:u.jsx(Fe.span,{"data-state":LS(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t})})});DS.displayName=OS;var MB="RadioBubbleInput",MS=b.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:r=!0,...s},i)=>{const a=b.useRef(null),o=Ke(a,i),l=Zf(n),d=Lf(t);return b.useEffect(()=>{const c=a.current;if(!c)return;const h=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==n&&f){const g=new Event("click",{bubbles:r});f.call(c,n),c.dispatchEvent(g)}},[l,n,r]),u.jsx(Fe.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:o,style:{...s.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});MS.displayName=MB;function LS(e){return e?"checked":"unchecked"}var LB=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Rc="RadioGroup",[jB,wY]=Dn(Rc,[Vu,RS]),jS=Vu(),FS=RS(),[FB,BB]=jB(Rc),BS=b.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:i,required:a=!1,disabled:o=!1,orientation:l,dir:d,loop:c=!0,onValueChange:h,...m}=e,f=jS(n),g=$u(d),[y,x]=Hr({prop:i,defaultProp:s??null,onChange:h,caller:Rc});return u.jsx(FB,{scope:n,name:r,required:a,disabled:o,value:y,onValueChange:x,children:u.jsx(zx,{asChild:!0,...f,orientation:l,dir:g,loop:c,children:u.jsx(Fe.div,{role:"radiogroup","aria-required":a,"aria-orientation":l,"data-disabled":o?"":void 0,dir:g,...m,ref:t})})})});BS.displayName=Rc;var US="RadioGroupItem",HS=b.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...s}=e,i=BB(US,n),a=i.disabled||r,o=jS(n),l=FS(n),d=b.useRef(null),c=Ke(t,d),h=i.value===s.value,m=b.useRef(!1);return b.useEffect(()=>{const f=y=>{LB.includes(y.key)&&(m.current=!0)},g=()=>m.current=!1;return document.addEventListener("keydown",f),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",f),document.removeEventListener("keyup",g)}},[]),u.jsx(qx,{asChild:!0,...o,focusable:!a,active:h,children:u.jsx(PS,{disabled:a,required:i.required,checked:h,...l,...s,name:i.name,ref:c,onCheck:()=>i.onValueChange(s.value),onKeyDown:Ee(f=>{f.key==="Enter"&&f.preventDefault()}),onFocus:Ee(s.onFocus,()=>{var f;m.current&&((f=d.current)==null||f.click())})})})});HS.displayName=US;var UB="RadioGroupIndicator",$S=b.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,s=FS(n);return u.jsx(DS,{...s,...r,ref:t})});$S.displayName=UB;var VS=BS,zS=HS,HB=$S;const qS=b.forwardRef(({className:e,...t},n)=>u.jsx(VS,{className:I("grid gap-2",e),...t,ref:n}));qS.displayName=VS.displayName;const nu=b.forwardRef(({className:e,...t},n)=>u.jsx(zS,{ref:n,className:I("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:u.jsx(HB,{className:"flex items-center justify-center",children:u.jsx(tv,{className:"h-2.5 w-2.5 fill-current text-current"})})}));nu.displayName=zS.displayName;var Pc="Switch",[$B,TY]=Dn(Pc),[VB,zB]=$B(Pc),GS=b.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:a,disabled:o,value:l="on",onCheckedChange:d,form:c,...h}=e,[m,f]=b.useState(null),g=Ke(t,w=>f(w)),y=b.useRef(!1),x=m?c||!!m.closest("form"):!0,[E,v]=Hr({prop:s,defaultProp:i??!1,onChange:d,caller:Pc});return u.jsxs(VB,{scope:n,checked:E,disabled:o,children:[u.jsx(Fe.button,{type:"button",role:"switch","aria-checked":E,"aria-required":a,"data-state":XS(E),"data-disabled":o?"":void 0,disabled:o,value:l,...h,ref:g,onClick:Ee(e.onClick,w=>{v(T=>!T),x&&(y.current=w.isPropagationStopped(),y.current||w.stopPropagation())})}),x&&u.jsx(KS,{control:m,bubbles:!y.current,name:r,value:l,checked:E,required:a,disabled:o,form:c,style:{transform:"translateX(-100%)"}})]})});GS.displayName=Pc;var WS="SwitchThumb",YS=b.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=zB(WS,n);return u.jsx(Fe.span,{"data-state":XS(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});YS.displayName=WS;var qB="SwitchBubbleInput",KS=b.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...s},i)=>{const a=b.useRef(null),o=Ke(a,i),l=Zf(n),d=Lf(t);return b.useEffect(()=>{const c=a.current;if(!c)return;const h=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==n&&f){const g=new Event("click",{bubbles:r});f.call(c,n),c.dispatchEvent(g)}},[l,n,r]),u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:o,style:{...s.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});KS.displayName=qB;function XS(e){return e?"checked":"unchecked"}var QS=GS,GB=YS;const JS=b.forwardRef(({className:e,...t},n)=>u.jsx(QS,{className:I("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:u.jsx(GB,{className:I("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));JS.displayName=QS.displayName;const WB=AS({userRequest:Vs().optional(),theme:Vs().optional(),playerCount:RB.number().int().min(4,{message:"Minimum 4 players required"}).max(32,{message:"Maximum 32 players allowed"}),hasAccomplice:kB().default(!1),scriptType:IB(["full","pointForm","both"],{required_error:"Please select a script type"}),additionalDetails:Vs().optional()}),YB=({onSave:e,isSaving:t=!1,initialData:n})=>{console.log("=== MysteryForm Debug ==="),console.log("initialData received:",n);const r=ES({resolver:TS(WB),defaultValues:{userRequest:(n==null?void 0:n.userRequest)||"",theme:(n==null?void 0:n.theme)||"",playerCount:(n==null?void 0:n.playerCount)||6,hasAccomplice:(n==null?void 0:n.hasAccomplice)||!1,scriptType:(n==null?void 0:n.scriptType)||"full",additionalDetails:(n==null?void 0:n.additionalDetails)||""}}),s=r.watch("theme");console.log("Current theme value:",s),b.useEffect(()=>{n&&(console.log("Resetting form with initialData:",n),r.reset({userRequest:n.userRequest||"",theme:n.theme||"",playerCount:n.playerCount||6,hasAccomplice:n.hasAccomplice||!1,scriptType:n.scriptType||"full",additionalDetails:n.additionalDetails||""}))},[n,r]);const i=a=>{console.log("Form submitted with data:",a),e(a)};return u.jsx(NS,{...r,children:u.jsxs("form",{onSubmit:r.handleSubmit(i),className:"space-y-6 sm:space-y-8",children:[(n==null?void 0:n.userRequest)&&u.jsx(mr,{control:r.control,name:"userRequest",render:({field:a})=>u.jsxs(Wn,{children:[u.jsx(Yn,{className:"text-sm sm:text-base font-medium",children:"What you want to create"}),u.jsx(Kn,{children:u.jsx(dt,{...a,disabled:!0,className:"bg-muted text-sm sm:text-base h-10 sm:h-auto"})}),u.jsx(Fs,{className:"text-xs sm:text-sm",children:"Your original request from the homepage"})]})}),u.jsx(mr,{control:r.control,name:"theme",render:({field:a})=>u.jsxs(Wn,{children:[u.jsx(Yn,{className:"text-sm sm:text-base font-medium",children:"Theme/Setting Details (Optional)"}),u.jsx(Kn,{children:u.jsx(dt,{placeholder:"e.g., time period, setting specifics, must-have's, etc.",className:"text-sm sm:text-base h-10 sm:h-auto",...a})}),u.jsx(Fs,{className:"text-xs sm:text-sm",children:"Choose a specific theme or setting for your murder mystery"}),u.jsx(Ur,{})]})}),u.jsx(mr,{control:r.control,name:"playerCount",render:({field:a})=>{var o;return u.jsxs(Wn,{children:[u.jsx(Yn,{className:"text-sm sm:text-base font-medium",children:"How many players will participate?"}),u.jsx(Kn,{children:u.jsxs(wE,{onValueChange:l=>a.onChange(parseInt(l)),value:(o=a.value)==null?void 0:o.toString(),children:[u.jsx(nm,{className:"h-10 sm:h-auto text-sm sm:text-base",children:u.jsx(TE,{placeholder:"Select number of players"})}),u.jsx(rm,{children:Array.from({length:29},(l,d)=>d+4).map(l=>u.jsxs(sm,{value:l.toString(),className:"text-sm sm:text-base",children:[l," players"]},l))})]})}),u.jsx(Fs,{className:"text-xs sm:text-sm",children:"Choose between 4 and 32 players for your murder mystery."}),u.jsx(Ur,{})]})}}),u.jsx(mr,{control:r.control,name:"hasAccomplice",render:({field:a})=>u.jsxs(Wn,{className:"flex flex-row items-center justify-between rounded-lg border p-3 sm:p-4",children:[u.jsxs("div",{className:"space-y-0.5 flex-1 pr-3",children:[u.jsx(Yn,{className:"text-sm sm:text-base font-medium",children:"Include Accomplice Mechanism"}),u.jsx(Fs,{className:"text-xs sm:text-sm",children:"Best for games with 10 or more players"})]}),u.jsx(Kn,{children:u.jsx(JS,{checked:a.value,onCheckedChange:a.onChange,className:"shrink-0"})})]})}),u.jsx(mr,{control:r.control,name:"scriptType",render:({field:a})=>u.jsxs(Wn,{className:"space-y-3",children:[u.jsx(Yn,{className:"text-sm sm:text-base font-medium",children:"Script Detail Level"}),u.jsx(Kn,{children:u.jsxs(qS,{onValueChange:a.onChange,value:a.value,className:"flex flex-col space-y-3 sm:space-y-2",children:[u.jsxs("div",{className:"flex items-start space-x-3 py-2",children:[u.jsx(nu,{value:"full",id:"full",className:"mt-0.5 shrink-0"}),u.jsx(Rt,{htmlFor:"full",className:"text-sm sm:text-base leading-5 cursor-pointer",children:"Full Scripts - Complete dialogue and detailed instructions"})]}),u.jsxs("div",{className:"flex items-start space-x-3 py-2",children:[u.jsx(nu,{value:"pointForm",id:"pointForm",className:"mt-0.5 shrink-0"}),u.jsx(Rt,{htmlFor:"pointForm",className:"text-sm sm:text-base leading-5 cursor-pointer",children:"Point Form - Key points and bullet summaries"})]}),u.jsxs("div",{className:"flex items-start space-x-3 py-2",children:[u.jsx(nu,{value:"both",id:"both",className:"mt-0.5 shrink-0"}),u.jsx(Rt,{htmlFor:"both",className:"text-sm sm:text-base leading-5 cursor-pointer",children:"Both Formats - Full scripts AND point form notes"})]})]})}),u.jsx(Ur,{})]})}),u.jsx(mr,{control:r.control,name:"additionalDetails",render:({field:a})=>u.jsxs(Wn,{children:[u.jsx(Yn,{className:"text-sm sm:text-base font-medium",children:"Additional Details (Optional)"}),u.jsx(Kn,{children:u.jsx(tl,{placeholder:"Any specific requirements, special rules, or additional context for your mystery...",className:"resize-none min-h-20 sm:min-h-24 text-sm sm:text-base",...a})}),u.jsx(Fs,{className:"text-xs sm:text-sm",children:"Provide any extra details or special requests for your mystery"}),u.jsx(Ur,{})]})}),u.jsx(Se,{type:"submit",disabled:t,className:"w-full h-12 text-base font-medium",children:t?"Starting Chat...":"Start AI Chat"})]})})},KB=()=>{const[e,t]=b.useState(!1),[n,r]=b.useState(null),s=En(),i=Xx(),{id:a}=Ko(),o=!!a,{isAuthenticated:l,user:d}=un();ir(),b.useEffect(()=>{if(console.log("=== MysteryCreation Debug ==="),console.log("Current URL:",window.location.href),console.log("location.search:",i.search),console.log("isEditing:",o),console.log("formData current state:",n),o&&a)console.log("Loading existing mystery"),c(a);else{const y=new URLSearchParams(i.search).get("input");if(console.log("Full input from URL:",y),y){console.log("Setting formData with full input:",y);const x={userRequest:y,theme:"",playerCount:6,scriptType:"full",additionalDetails:""};console.log("New formData object:",x),r(x)}else console.log("No input found in URL")}},[a,i.search,o]);const c=async g=>{try{const{data:y,error:x}=await _e.from("conversations").select("theme, player_count, script_type, has_accomplice, additional_details, title").eq("id",g).single();if(x){console.error("Error loading mystery:",x),se.error("Failed to load mystery");return}if(y){const E={theme:y.theme||"",playerCount:y.player_count||6,scriptType:y.script_type||"full",hasAccomplice:y.has_accomplice||!1,additionalDetails:y.additional_details||""};r(E)}}catch(y){console.error("Error:",y),se.error("Failed to load mystery")}},h=g=>g==="pointForm"?"point form":g==="both"?"both full and point form":"full",m=g=>{let y="";return g.userRequest?y=g.userRequest.trim():y="I want to create a murder mystery",g.theme&&g.theme.trim()!==""?y+=` The theme/setting should be ${g.theme} for ${g.playerCount} players with ${g.scriptType} scripts`:y+=` This is for ${g.playerCount} players with ${h(g.scriptType)} scripts`,g.additionalDetails&&g.additionalDetails.trim()!==""&&(y+=` Additional details include: ${g.additionalDetails}`),y=y.replace(/[.!?]+$/,"")+".",y},f=async g=>{if(console.log("handleSave called with data:",g),!l||!d){se.error("Please sign in to save your mystery");return}t(!0);try{const y=`You are creating a murder mystery with these details:
                - Theme: ${g.theme||"General murder mystery"}
                - Players: ${g.playerCount}
                - Script Type: ${g.scriptType}
                ${g.userRequest?`- Original Request: ${g.userRequest}`:""}
                ${g.additionalDetails?`- Additional Details: ${g.additionalDetails}`:""}

You MUST follow this exact output format:

# "[CREATIVE TITLE]" - A MURDER MYSTERY

## PREMISE
[2-3 paragraphs setting the scene, describing the event where the murder takes place, and creating dramatic tension]

## VICTIM
**[Victim Name]** - [Vivid description of the victim, their role in the story, personality traits, and why they might have made enemies]

## CHARACTER LIST (${g.playerCount} PLAYERS)
1. **[Character 1 Name]** - [Engaging one-sentence description including profession and connection to victim]
2. **[Character 2 Name]** - [Engaging one-sentence description including profession and connection to victim]
[Continue for all ${g.playerCount} characters]

## MURDER METHOD
[Paragraph describing how the murder was committed, interesting details about the method, and what clues might be found]

After presenting the mystery concept, ask if the concept works for them and explain that they can continue to make edits and that once they are done they can go to the preview page to purchase the complete game package.`,x=m(g);let E=a;if(o)await _e.from("conversations").update({theme:g.theme||null,player_count:g.playerCount||6,script_type:g.scriptType||"full",has_accomplice:g.hasAccomplice||!1,additional_details:g.additionalDetails||null,system_instruction:y,updated_at:new Date().toISOString()}).eq("id",E);else{const{data:v,error:w}=await _e.from("conversations").insert({user_id:d.id,title:`${g.theme||"Mystery"} - ${g.playerCount} Players`,theme:g.theme||null,player_count:g.playerCount||6,script_type:g.scriptType||"full",has_accomplice:g.hasAccomplice||!1,additional_details:g.additionalDetails||null,system_instruction:y,display_status:"draft",is_completed:!1}).select().single();if(w)throw console.error("Error creating conversation:",w),w;E=v.id,await _e.from("messages").insert({conversation_id:E,content:x,role:"user",is_ai:!1})}se.success("Mystery setup complete! Starting chat..."),s(`/mystery/chat/${E}?initial=true`)}catch(y){console.error("Error saving mystery:",y),se.error("Failed to save mystery")}finally{t(!1)}};return u.jsxs("div",{className:"min-h-screen flex flex-col",children:[u.jsx(Pt,{}),u.jsx("main",{className:"flex-1 py-4 sm:py-8 md:py-12 px-2 sm:px-4 md:px-6 lg:px-8",children:u.jsxs("div",{className:"container mx-auto max-w-full sm:max-w-4xl",children:[u.jsxs("div",{className:"mb-4 sm:mb-6 md:mb-8",children:[u.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-1 sm:mb-2",children:o?"Edit Mystery":"Create New Mystery"}),u.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"Fill out the form below to generate your custom murder mystery"})]}),u.jsx(kt,{className:"border-0 sm:border shadow-none sm:shadow-sm bg-transparent sm:bg-card",children:u.jsx(It,{className:"p-0 sm:p-4 md:p-6",children:u.jsx(YB,{onSave:f,isSaving:e,initialData:n})})}),u.jsx("div",{className:"mt-4 sm:mt-6 md:mt-8 flex justify-center gap-2 sm:gap-4",children:u.jsx(Se,{variant:"outline",onClick:()=>s("/dashboard"),size:"sm",className:"h-10 sm:h-auto text-sm sm:text-base px-4 sm:px-6",children:"Back to Dashboard"})})]})}),u.jsx(Vt,{})]})};function Qy(e){const t=[],n=String(e||"");let r=n.indexOf(","),s=0,i=!1;for(;!i;){r===-1&&(r=n.length,i=!0);const a=n.slice(s,r).trim();(a||!i)&&t.push(a),s=r+1,r=n.indexOf(",",s)}return t}function ZS(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const XB=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,QB=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,JB={};function Jy(e,t){return(JB.jsx?QB:XB).test(e)}const ZB=/[ \t\n\f\r]/g;function eU(e){return typeof e=="object"?e.type==="text"?Zy(e.value):!1:Zy(e)}function Zy(e){return e.replace(ZB,"")===""}let ml=class{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}};ml.prototype.normal={};ml.prototype.property={};ml.prototype.space=void 0;function eC(e,t){const n={},r={};for(const s of e)Object.assign(n,s.property),Object.assign(r,s.normal);return new ml(n,r,t)}function Ho(e){return e.toLowerCase()}let cn=class{constructor(t,n){this.attribute=n,this.property=t}};cn.prototype.attribute="";cn.prototype.booleanish=!1;cn.prototype.boolean=!1;cn.prototype.commaOrSpaceSeparated=!1;cn.prototype.commaSeparated=!1;cn.prototype.defined=!1;cn.prototype.mustUseProperty=!1;cn.prototype.number=!1;cn.prototype.overloadedBoolean=!1;cn.prototype.property="";cn.prototype.spaceSeparated=!1;cn.prototype.space=void 0;let tU=0;const Le=di(),Et=di(),tC=di(),ae=di(),tt=di(),Vi=di(),hn=di();function di(){return 2**++tU}const rf=Object.freeze(Object.defineProperty({__proto__:null,boolean:Le,booleanish:Et,commaOrSpaceSeparated:hn,commaSeparated:Vi,number:ae,overloadedBoolean:tC,spaceSeparated:tt},Symbol.toStringTag,{value:"Module"})),Od=Object.keys(rf);let Ap=class extends cn{constructor(t,n,r,s){let i=-1;if(super(t,n),eb(this,"space",s),typeof r=="number")for(;++i<Od.length;){const a=Od[i];eb(this,Od[i],(r&rf[a])===rf[a])}}};Ap.prototype.defined=!0;function eb(e,t,n){n&&(e[t]=n)}function Ca(e){const t={},n={};for(const[r,s]of Object.entries(e.properties)){const i=new Ap(r,e.transform(e.attributes||{},r),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),t[r]=i,n[Ho(r)]=r,n[Ho(i.attribute)]=r}return new ml(t,n,e.space)}const nC=Ca({properties:{ariaActiveDescendant:null,ariaAtomic:Et,ariaAutoComplete:null,ariaBusy:Et,ariaChecked:Et,ariaColCount:ae,ariaColIndex:ae,ariaColSpan:ae,ariaControls:tt,ariaCurrent:null,ariaDescribedBy:tt,ariaDetails:null,ariaDisabled:Et,ariaDropEffect:tt,ariaErrorMessage:null,ariaExpanded:Et,ariaFlowTo:tt,ariaGrabbed:Et,ariaHasPopup:null,ariaHidden:Et,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:tt,ariaLevel:ae,ariaLive:null,ariaModal:Et,ariaMultiLine:Et,ariaMultiSelectable:Et,ariaOrientation:null,ariaOwns:tt,ariaPlaceholder:null,ariaPosInSet:ae,ariaPressed:Et,ariaReadOnly:Et,ariaRelevant:null,ariaRequired:Et,ariaRoleDescription:tt,ariaRowCount:ae,ariaRowIndex:ae,ariaRowSpan:ae,ariaSelected:Et,ariaSetSize:ae,ariaSort:null,ariaValueMax:ae,ariaValueMin:ae,ariaValueNow:ae,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function rC(e,t){return t in e?e[t]:t}function sC(e,t){return rC(e,t.toLowerCase())}const nU=Ca({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Vi,acceptCharset:tt,accessKey:tt,action:null,allow:null,allowFullScreen:Le,allowPaymentRequest:Le,allowUserMedia:Le,alt:null,as:null,async:Le,autoCapitalize:null,autoComplete:tt,autoFocus:Le,autoPlay:Le,blocking:tt,capture:null,charSet:null,checked:Le,cite:null,className:tt,cols:ae,colSpan:null,content:null,contentEditable:Et,controls:Le,controlsList:tt,coords:ae|Vi,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Le,defer:Le,dir:null,dirName:null,disabled:Le,download:tC,draggable:Et,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Le,formTarget:null,headers:tt,height:ae,hidden:Le,high:ae,href:null,hrefLang:null,htmlFor:tt,httpEquiv:tt,id:null,imageSizes:null,imageSrcSet:null,inert:Le,inputMode:null,integrity:null,is:null,isMap:Le,itemId:null,itemProp:tt,itemRef:tt,itemScope:Le,itemType:tt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Le,low:ae,manifest:null,max:null,maxLength:ae,media:null,method:null,min:null,minLength:ae,multiple:Le,muted:Le,name:null,nonce:null,noModule:Le,noValidate:Le,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Le,optimum:ae,pattern:null,ping:tt,placeholder:null,playsInline:Le,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Le,referrerPolicy:null,rel:tt,required:Le,reversed:Le,rows:ae,rowSpan:ae,sandbox:tt,scope:null,scoped:Le,seamless:Le,selected:Le,shadowRootClonable:Le,shadowRootDelegatesFocus:Le,shadowRootMode:null,shape:null,size:ae,sizes:null,slot:null,span:ae,spellCheck:Et,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ae,step:null,style:null,tabIndex:ae,target:null,title:null,translate:null,type:null,typeMustMatch:Le,useMap:null,value:Et,width:ae,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:tt,axis:null,background:null,bgColor:null,border:ae,borderColor:null,bottomMargin:ae,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Le,declare:Le,event:null,face:null,frame:null,frameBorder:null,hSpace:ae,leftMargin:ae,link:null,longDesc:null,lowSrc:null,marginHeight:ae,marginWidth:ae,noResize:Le,noHref:Le,noShade:Le,noWrap:Le,object:null,profile:null,prompt:null,rev:null,rightMargin:ae,rules:null,scheme:null,scrolling:Et,standby:null,summary:null,text:null,topMargin:ae,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ae,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Le,disableRemotePlayback:Le,prefix:null,property:null,results:ae,security:null,unselectable:null},space:"html",transform:sC}),rU=Ca({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:hn,accentHeight:ae,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ae,amplitude:ae,arabicForm:null,ascent:ae,attributeName:null,attributeType:null,azimuth:ae,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ae,by:null,calcMode:null,capHeight:ae,className:tt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ae,diffuseConstant:ae,direction:null,display:null,dur:null,divisor:ae,dominantBaseline:null,download:Le,dx:null,dy:null,edgeMode:null,editable:null,elevation:ae,enableBackground:null,end:null,event:null,exponent:ae,externalResourcesRequired:null,fill:null,fillOpacity:ae,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Vi,g2:Vi,glyphName:Vi,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ae,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ae,horizOriginX:ae,horizOriginY:ae,id:null,ideographic:ae,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ae,k:ae,k1:ae,k2:ae,k3:ae,k4:ae,kernelMatrix:hn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ae,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ae,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ae,overlineThickness:ae,paintOrder:null,panose1:null,path:null,pathLength:ae,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:tt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ae,pointsAtY:ae,pointsAtZ:ae,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:hn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:hn,rev:hn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:hn,requiredFeatures:hn,requiredFonts:hn,requiredFormats:hn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ae,specularExponent:ae,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ae,strikethroughThickness:ae,string:null,stroke:null,strokeDashArray:hn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ae,strokeOpacity:ae,strokeWidth:null,style:null,surfaceScale:ae,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:hn,tabIndex:ae,tableValues:null,target:null,targetX:ae,targetY:ae,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:hn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ae,underlineThickness:ae,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ae,values:null,vAlphabetic:ae,vMathematical:ae,vectorEffect:null,vHanging:ae,vIdeographic:ae,version:null,vertAdvY:ae,vertOriginX:ae,vertOriginY:ae,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ae,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:rC}),iC=Ca({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),aC=Ca({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:sC}),oC=Ca({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),sU={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},iU=/[A-Z]/g,tb=/-[a-z]/g,aU=/^data[-\w.:]+$/i;function Np(e,t){const n=Ho(t);let r=t,s=cn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&aU.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(tb,lU);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!tb.test(i)){let a=i.replace(iU,oU);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}s=Ap}return new s(r,t)}function oU(e){return"-"+e.toLowerCase()}function lU(e){return e.charAt(1).toUpperCase()}const Oc=eC([nC,nU,iC,aC,oC],"html"),Aa=eC([nC,rU,iC,aC,oC],"svg");function nb(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function lC(e){return e.join(" ").trim()}var kp={},rb=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,uU=/\n/g,cU=/^\s*/,dU=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,hU=/^:\s*/,fU=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,mU=/^[;\s]*/,pU=/^\s+|\s+$/g,gU=`
`,sb="/",ib="*",Bs="",yU="comment",bU="declaration",xU=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function s(g){var y=g.match(uU);y&&(n+=y.length);var x=g.lastIndexOf(gU);r=~x?g.length-x:r+g.length}function i(){var g={line:n,column:r};return function(y){return y.position=new a(g),d(),y}}function a(g){this.start=g,this.end={line:n,column:r},this.source=t.source}a.prototype.content=e;function o(g){var y=new Error(t.source+":"+n+":"+r+": "+g);if(y.reason=g,y.filename=t.source,y.line=n,y.column=r,y.source=e,!t.silent)throw y}function l(g){var y=g.exec(e);if(y){var x=y[0];return s(x),e=e.slice(x.length),y}}function d(){l(cU)}function c(g){var y;for(g=g||[];y=h();)y!==!1&&g.push(y);return g}function h(){var g=i();if(!(sb!=e.charAt(0)||ib!=e.charAt(1))){for(var y=2;Bs!=e.charAt(y)&&(ib!=e.charAt(y)||sb!=e.charAt(y+1));)++y;if(y+=2,Bs===e.charAt(y-1))return o("End of comment missing");var x=e.slice(2,y-2);return r+=2,s(x),e=e.slice(y),r+=2,g({type:yU,comment:x})}}function m(){var g=i(),y=l(dU);if(y){if(h(),!l(hU))return o("property missing ':'");var x=l(fU),E=g({type:bU,property:ab(y[0].replace(rb,Bs)),value:x?ab(x[0].replace(rb,Bs)):Bs});return l(mU),E}}function f(){var g=[];c(g);for(var y;y=m();)y!==!1&&(g.push(y),c(g));return g}return d(),f()};function ab(e){return e?e.replace(pU,Bs):Bs}var vU=$t&&$t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(kp,"__esModule",{value:!0});kp.default=wU;var EU=vU(xU);function wU(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,EU.default)(e),s=typeof t=="function";return r.forEach(function(i){if(i.type==="declaration"){var a=i.property,o=i.value;s?t(a,o,i):o&&(n=n||{},n[a]=o)}}),n}var Dc={};Object.defineProperty(Dc,"__esModule",{value:!0});Dc.camelCase=void 0;var TU=/^--[a-zA-Z0-9_-]+$/,_U=/-([a-z])/g,SU=/^[^-]+$/,CU=/^-(webkit|moz|ms|o|khtml)-/,AU=/^-(ms)-/,NU=function(e){return!e||SU.test(e)||TU.test(e)},kU=function(e,t){return t.toUpperCase()},ob=function(e,t){return"".concat(t,"-")},IU=function(e,t){return t===void 0&&(t={}),NU(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(AU,ob):e=e.replace(CU,ob),e.replace(_U,kU))};Dc.camelCase=IU;var RU=$t&&$t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},PU=RU(kp),OU=Dc;function sf(e,t){var n={};return!e||typeof e!="string"||(0,PU.default)(e,function(r,s){r&&s&&(n[(0,OU.camelCase)(r,t)]=s)}),n}sf.default=sf;var DU=sf;const MU=Yo(DU),Mc=uC("end"),Rr=uC("start");function uC(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function LU(e){const t=Rr(e),n=Mc(e);if(t&&n)return{start:t,end:n}}function mo(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?lb(e.position):"start"in e||"end"in e?lb(e):"line"in e||"column"in e?af(e):""}function af(e){return ub(e&&e.line)+":"+ub(e&&e.column)}function lb(e){return af(e&&e.start)+"-"+af(e&&e.end)}function ub(e){return e&&typeof e=="number"?e:1}class zt extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let s="",i={},a=!1;if(n&&("line"in n&&"column"in n?i={place:n}:"start"in n&&"end"in n?i={place:n}:"type"in n?i={ancestors:[n],place:n.position}:i={...n}),typeof t=="string"?s=t:!i.cause&&t&&(a=!0,s=t.message,i.cause=t),!i.ruleId&&!i.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?i.ruleId=r:(i.source=r.slice(0,l),i.ruleId=r.slice(l+1))}if(!i.place&&i.ancestors&&i.ancestors){const l=i.ancestors[i.ancestors.length-1];l&&(i.place=l.position)}const o=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file,this.message=s,this.line=o?o.line:void 0,this.name=mo(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=a&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual,this.expected,this.note,this.url}}zt.prototype.file="";zt.prototype.name="";zt.prototype.reason="";zt.prototype.message="";zt.prototype.stack="";zt.prototype.column=void 0;zt.prototype.line=void 0;zt.prototype.ancestors=void 0;zt.prototype.cause=void 0;zt.prototype.fatal=void 0;zt.prototype.place=void 0;zt.prototype.ruleId=void 0;zt.prototype.source=void 0;const Ip={}.hasOwnProperty,jU=new Map,FU=/[A-Z]/g,BU=new Set(["table","tbody","thead","tfoot","tr"]),UU=new Set(["td","th"]),cC="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function HU(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=KU(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=YU(n,t.jsx,t.jsxs)}const s={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Aa:Oc,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},i=dC(s,e,void 0);return i&&typeof i!="string"?i:s.create(e,s.Fragment,{children:i||void 0},void 0)}function dC(e,t,n){if(t.type==="element")return $U(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return VU(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return qU(e,t,n);if(t.type==="mdxjsEsm")return zU(e,t);if(t.type==="root")return GU(e,t,n);if(t.type==="text")return WU(e,t)}function $U(e,t,n){const r=e.schema;let s=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(s=Aa,e.schema=s),e.ancestors.push(t);const i=fC(e,t.tagName,!1),a=XU(e,t);let o=Pp(e,t);return BU.has(t.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!eU(l):!0})),hC(e,a,i,t),Rp(a,o),e.ancestors.pop(),e.schema=r,e.create(t,i,a,n)}function VU(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}$o(e,t.position)}function zU(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);$o(e,t.position)}function qU(e,t,n){const r=e.schema;let s=r;t.name==="svg"&&r.space==="html"&&(s=Aa,e.schema=s),e.ancestors.push(t);const i=t.name===null?e.Fragment:fC(e,t.name,!0),a=QU(e,t),o=Pp(e,t);return hC(e,a,i,t),Rp(a,o),e.ancestors.pop(),e.schema=r,e.create(t,i,a,n)}function GU(e,t,n){const r={};return Rp(r,Pp(e,t)),e.create(t,e.Fragment,r,n)}function WU(e,t){return t.value}function hC(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Rp(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function YU(e,t,n){return r;function r(s,i,a,o){const d=Array.isArray(a.children)?n:t;return o?d(i,a,o):d(i,a)}}function KU(e,t){return n;function n(r,s,i,a){const o=Array.isArray(i.children),l=Rr(r);return t(s,i,a,o,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function XU(e,t){const n={};let r,s;for(s in t.properties)if(s!=="children"&&Ip.call(t.properties,s)){const i=JU(e,s,t.properties[s]);if(i){const[a,o]=i;e.tableCellAlignToStyle&&a==="align"&&typeof o=="string"&&UU.has(t.tagName)?r=o:n[a]=o}}if(r){const i=n.style||(n.style={});i[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function QU(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const i=r.data.estree.body[0];i.type;const a=i.expression;a.type;const o=a.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else $o(e,t.position);else{const s=r.name;let i;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const o=r.value.data.estree.body[0];o.type,i=e.evaluater.evaluateExpression(o.expression)}else $o(e,t.position);else i=r.value===null?!0:r.value;n[s]=i}return n}function Pp(e,t){const n=[];let r=-1;const s=e.passKeys?new Map:jU;for(;++r<t.children.length;){const i=t.children[r];let a;if(e.passKeys){const l=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(l){const d=s.get(l)||0;a=l+"-"+d,s.set(l,d+1)}}const o=dC(e,i,a);o!==void 0&&n.push(o)}return n}function JU(e,t,n){const r=Np(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?ZS(n):lC(n)),r.property==="style"){let s=typeof n=="object"?n:ZU(e,String(n));return e.stylePropertyNameCase==="css"&&(s=e9(s)),["style",s]}return[e.elementAttributeNameCase==="react"&&r.space?sU[r.property]||r.property:r.attribute,n]}}function ZU(e,t){try{return MU(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,s=new zt("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=e.filePath||void 0,s.url=cC+"#cannot-parse-style-attribute",s}}function fC(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const s=t.split(".");let i=-1,a;for(;++i<s.length;){const o=Jy(s[i])?{type:"Identifier",name:s[i]}:{type:"Literal",value:s[i]};a=a?{type:"MemberExpression",object:a,property:o,computed:!!(i&&o.type==="Literal"),optional:!1}:o}r=a}else r=Jy(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const s=r.value;return Ip.call(e.components,s)?e.components[s]:s}if(e.evaluater)return e.evaluater.evaluateExpression(r);$o(e)}function $o(e,t){const n=new zt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=cC+"#cannot-handle-mdx-estrees-without-createevaluater",n}function e9(e){const t={};let n;for(n in e)Ip.call(e,n)&&(t[t9(n)]=e[n]);return t}function t9(e){let t=e.replace(FU,n9);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function n9(e){return"-"+e.toLowerCase()}const Dd={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},r9={};function s9(e,t){const n=r9,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return mC(e,r,s)}function mC(e,t,n){if(i9(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return cb(e.children,t,n)}return Array.isArray(e)?cb(e,t,n):""}function cb(e,t,n){const r=[];let s=-1;for(;++s<e.length;)r[s]=mC(e[s],t,n);return r.join("")}function i9(e){return!!(e&&typeof e=="object")}const db=document.createElement("i");function Op(e){const t="&"+e+";";db.innerHTML=t;const n=db.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Nr(e,t,n,r){const s=e.length;let i=0,a;if(t<0?t=-t>s?0:s+t:t=t>s?s:t,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);i<r.length;)a=r.slice(i,i+1e4),a.unshift(t,0),e.splice(...a),i+=1e4,t+=1e4}function kn(e,t){return e.length>0?(Nr(e,e.length,0,t),e):t}const hb={}.hasOwnProperty;function a9(e){const t={};let n=-1;for(;++n<e.length;)o9(t,e[n]);return t}function o9(e,t){let n;for(n in t){const s=(hb.call(e,n)?e[n]:void 0)||(e[n]={}),i=t[n];let a;if(i)for(a in i){hb.call(s,a)||(s[a]=[]);const o=i[a];l9(s[a],Array.isArray(o)?o:o?[o]:[])}}}function l9(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Nr(e,0,0,r)}function pC(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function zi(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const yr=Rs(/[A-Za-z]/),yn=Rs(/[\dA-Za-z]/),u9=Rs(/[#-'*+\--9=?A-Z^-~]/);function of(e){return e!==null&&(e<32||e===127)}const lf=Rs(/\d/),c9=Rs(/[\dA-Fa-f]/),d9=Rs(/[!-/:-@[-`{-~]/);function ke(e){return e!==null&&e<-2}function ln(e){return e!==null&&(e<0||e===32)}function Qe(e){return e===-2||e===-1||e===32}const h9=Rs(new RegExp("\\p{P}|\\p{S}","u")),f9=Rs(/\s/);function Rs(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Na(e){const t=[];let n=-1,r=0,s=0;for(;++n<e.length;){const i=e.charCodeAt(n);let a="";if(i===37&&yn(e.charCodeAt(n+1))&&yn(e.charCodeAt(n+2)))s=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(a=String.fromCharCode(i));else if(i>55295&&i<57344){const o=e.charCodeAt(n+1);i<56320&&o>56319&&o<57344?(a=String.fromCharCode(i,o),s=1):a=""}else a=String.fromCharCode(i);a&&(t.push(e.slice(r,n),encodeURIComponent(a)),r=n+s+1,a=""),s&&(n+=s,s=0)}return t.join("")+e.slice(r)}function rt(e,t,n,r){const s=r?r-1:Number.POSITIVE_INFINITY;let i=0;return a;function a(l){return Qe(l)?(e.enter(n),o(l)):t(l)}function o(l){return Qe(l)&&i++<s?(e.consume(l),o):(e.exit(n),t(l))}}const m9={tokenize:p9};function p9(e){const t=e.attempt(this.parser.constructs.contentInitial,r,s);let n;return t;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),rt(e,t,"linePrefix")}function s(o){return e.enter("paragraph"),i(o)}function i(o){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,a(o)}function a(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return ke(o)?(e.consume(o),e.exit("chunkText"),i):(e.consume(o),a)}}const g9={tokenize:y9},fb={tokenize:b9};function y9(e){const t=this,n=[];let r=0,s,i,a;return o;function o(w){if(r<n.length){const T=n[r];return t.containerState=T[1],e.attempt(T[0].continuation,l,d)(w)}return d(w)}function l(w){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,s&&v();const T=t.events.length;let S=T,C;for(;S--;)if(t.events[S][0]==="exit"&&t.events[S][1].type==="chunkFlow"){C=t.events[S][1].end;break}E(r);let D=T;for(;D<t.events.length;)t.events[D][1].end={...C},D++;return Nr(t.events,S+1,0,t.events.slice(T)),t.events.length=D,d(w)}return o(w)}function d(w){if(r===n.length){if(!s)return m(w);if(s.currentConstruct&&s.currentConstruct.concrete)return g(w);t.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(fb,c,h)(w)}function c(w){return s&&v(),E(r),m(w)}function h(w){return t.parser.lazy[t.now().line]=r!==n.length,a=t.now().offset,g(w)}function m(w){return t.containerState={},e.attempt(fb,f,g)(w)}function f(w){return r++,n.push([t.currentConstruct,t.containerState]),m(w)}function g(w){if(w===null){s&&v(),E(0),e.consume(w);return}return s=s||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:i}),y(w)}function y(w){if(w===null){x(e.exit("chunkFlow"),!0),E(0),e.consume(w);return}return ke(w)?(e.consume(w),x(e.exit("chunkFlow")),r=0,t.interrupt=void 0,o):(e.consume(w),y)}function x(w,T){const S=t.sliceStream(w);if(T&&S.push(null),w.previous=i,i&&(i.next=w),i=w,s.defineSkip(w.start),s.write(S),t.parser.lazy[w.start.line]){let C=s.events.length;for(;C--;)if(s.events[C][1].start.offset<a&&(!s.events[C][1].end||s.events[C][1].end.offset>a))return;const D=t.events.length;let j=D,F,V;for(;j--;)if(t.events[j][0]==="exit"&&t.events[j][1].type==="chunkFlow"){if(F){V=t.events[j][1].end;break}F=!0}for(E(r),C=D;C<t.events.length;)t.events[C][1].end={...V},C++;Nr(t.events,j+1,0,t.events.slice(D)),t.events.length=C}}function E(w){let T=n.length;for(;T-- >w;){const S=n[T];t.containerState=S[1],S[0].exit.call(t,e)}n.length=w}function v(){s.write([null]),i=void 0,s=void 0,t.containerState._closeFlow=void 0}}function b9(e,t,n){return rt(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function mb(e){if(e===null||ln(e)||f9(e))return 1;if(h9(e))return 2}function Dp(e,t,n){const r=[];let s=-1;for(;++s<e.length;){const i=e[s].resolveAll;i&&!r.includes(i)&&(t=i(t,n),r.push(i))}return t}const uf={name:"attention",resolveAll:x9,tokenize:v9};function x9(e,t){let n=-1,r,s,i,a,o,l,d,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const h={...e[r][1].end},m={...e[n][1].start};pb(h,-l),pb(m,l),a={type:l>1?"strongSequence":"emphasisSequence",start:h,end:{...e[r][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:m},i={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},s={type:l>1?"strong":"emphasis",start:{...a.start},end:{...o.end}},e[r][1].end={...a.start},e[n][1].start={...o.end},d=[],e[r][1].end.offset-e[r][1].start.offset&&(d=kn(d,[["enter",e[r][1],t],["exit",e[r][1],t]])),d=kn(d,[["enter",s,t],["enter",a,t],["exit",a,t],["enter",i,t]]),d=kn(d,Dp(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),d=kn(d,[["exit",i,t],["enter",o,t],["exit",o,t],["exit",s,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,d=kn(d,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,Nr(e,r-1,n-r+3,d),n=r+d.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function v9(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,s=mb(r);let i;return a;function a(l){return i=l,e.enter("attentionSequence"),o(l)}function o(l){if(l===i)return e.consume(l),o;const d=e.exit("attentionSequence"),c=mb(l),h=!c||c===2&&s||n.includes(l),m=!s||s===2&&c||n.includes(r);return d._open=!!(i===42?h:h&&(s||!m)),d._close=!!(i===42?m:m&&(c||!h)),t(l)}}function pb(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const E9={name:"autolink",tokenize:w9};function w9(e,t,n){let r=0;return s;function s(f){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i}function i(f){return yr(f)?(e.consume(f),a):f===64?n(f):d(f)}function a(f){return f===43||f===45||f===46||yn(f)?(r=1,o(f)):d(f)}function o(f){return f===58?(e.consume(f),r=0,l):(f===43||f===45||f===46||yn(f))&&r++<32?(e.consume(f),o):(r=0,d(f))}function l(f){return f===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.exit("autolink"),t):f===null||f===32||f===60||of(f)?n(f):(e.consume(f),l)}function d(f){return f===64?(e.consume(f),c):u9(f)?(e.consume(f),d):n(f)}function c(f){return yn(f)?h(f):n(f)}function h(f){return f===46?(e.consume(f),r=0,c):f===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.exit("autolink"),t):m(f)}function m(f){if((f===45||yn(f))&&r++<63){const g=f===45?m:h;return e.consume(f),g}return n(f)}}const Lc={partial:!0,tokenize:T9};function T9(e,t,n){return r;function r(i){return Qe(i)?rt(e,s,"linePrefix")(i):s(i)}function s(i){return i===null||ke(i)?t(i):n(i)}}const gC={continuation:{tokenize:S9},exit:C9,name:"blockQuote",tokenize:_9};function _9(e,t,n){const r=this;return s;function s(a){if(a===62){const o=r.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),i}return n(a)}function i(a){return Qe(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function S9(e,t,n){const r=this;return s;function s(a){return Qe(a)?rt(e,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):i(a)}function i(a){return e.attempt(gC,t,n)(a)}}function C9(e){e.exit("blockQuote")}const yC={name:"characterEscape",tokenize:A9};function A9(e,t,n){return r;function r(i){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(i),e.exit("escapeMarker"),s}function s(i){return d9(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(i)}}const bC={name:"characterReference",tokenize:N9};function N9(e,t,n){const r=this;let s=0,i,a;return o;function o(h){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),l}function l(h){return h===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(h),e.exit("characterReferenceMarkerNumeric"),d):(e.enter("characterReferenceValue"),i=31,a=yn,c(h))}function d(h){return h===88||h===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(h),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,a=c9,c):(e.enter("characterReferenceValue"),i=7,a=lf,c(h))}function c(h){if(h===59&&s){const m=e.exit("characterReferenceValue");return a===yn&&!Op(r.sliceSerialize(m))?n(h):(e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(h)&&s++<i?(e.consume(h),c):n(h)}}const gb={partial:!0,tokenize:I9},yb={concrete:!0,name:"codeFenced",tokenize:k9};function k9(e,t,n){const r=this,s={partial:!0,tokenize:S};let i=0,a=0,o;return l;function l(C){return d(C)}function d(C){const D=r.events[r.events.length-1];return i=D&&D[1].type==="linePrefix"?D[2].sliceSerialize(D[1],!0).length:0,o=C,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(C)}function c(C){return C===o?(a++,e.consume(C),c):a<3?n(C):(e.exit("codeFencedFenceSequence"),Qe(C)?rt(e,h,"whitespace")(C):h(C))}function h(C){return C===null||ke(C)?(e.exit("codeFencedFence"),r.interrupt?t(C):e.check(gb,y,T)(C)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),m(C))}function m(C){return C===null||ke(C)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),h(C)):Qe(C)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),rt(e,f,"whitespace")(C)):C===96&&C===o?n(C):(e.consume(C),m)}function f(C){return C===null||ke(C)?h(C):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),g(C))}function g(C){return C===null||ke(C)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),h(C)):C===96&&C===o?n(C):(e.consume(C),g)}function y(C){return e.attempt(s,T,x)(C)}function x(C){return e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),E}function E(C){return i>0&&Qe(C)?rt(e,v,"linePrefix",i+1)(C):v(C)}function v(C){return C===null||ke(C)?e.check(gb,y,T)(C):(e.enter("codeFlowValue"),w(C))}function w(C){return C===null||ke(C)?(e.exit("codeFlowValue"),v(C)):(e.consume(C),w)}function T(C){return e.exit("codeFenced"),t(C)}function S(C,D,j){let F=0;return V;function V(te){return C.enter("lineEnding"),C.consume(te),C.exit("lineEnding"),z}function z(te){return C.enter("codeFencedFence"),Qe(te)?rt(C,P,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(te):P(te)}function P(te){return te===o?(C.enter("codeFencedFenceSequence"),W(te)):j(te)}function W(te){return te===o?(F++,C.consume(te),W):F>=a?(C.exit("codeFencedFenceSequence"),Qe(te)?rt(C,Q,"whitespace")(te):Q(te)):j(te)}function Q(te){return te===null||ke(te)?(C.exit("codeFencedFence"),D(te)):j(te)}}}function I9(e,t,n){const r=this;return s;function s(a){return a===null?n(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i)}function i(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}const Md={name:"codeIndented",tokenize:P9},R9={partial:!0,tokenize:O9};function P9(e,t,n){const r=this;return s;function s(d){return e.enter("codeIndented"),rt(e,i,"linePrefix",5)(d)}function i(d){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?a(d):n(d)}function a(d){return d===null?l(d):ke(d)?e.attempt(R9,a,l)(d):(e.enter("codeFlowValue"),o(d))}function o(d){return d===null||ke(d)?(e.exit("codeFlowValue"),a(d)):(e.consume(d),o)}function l(d){return e.exit("codeIndented"),t(d)}}function O9(e,t,n){const r=this;return s;function s(a){return r.parser.lazy[r.now().line]?n(a):ke(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s):rt(e,i,"linePrefix",5)(a)}function i(a){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):ke(a)?s(a):n(a)}}const D9={name:"codeText",previous:L9,resolve:M9,tokenize:j9};function M9(e){let t=e.length-4,n=3,r,s;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)s===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(s=r):(r===t||e[r][1].type==="lineEnding")&&(e[s][1].type="codeTextData",r!==s+2&&(e[s][1].end=e[r-1][1].end,e.splice(s+2,r-s-2),t-=r-s-2,r=s+2),s=void 0);return e}function L9(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function j9(e,t,n){let r=0,s,i;return a;function a(h){return e.enter("codeText"),e.enter("codeTextSequence"),o(h)}function o(h){return h===96?(e.consume(h),r++,o):(e.exit("codeTextSequence"),l(h))}function l(h){return h===null?n(h):h===32?(e.enter("space"),e.consume(h),e.exit("space"),l):h===96?(i=e.enter("codeTextSequence"),s=0,c(h)):ke(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),l):(e.enter("codeTextData"),d(h))}function d(h){return h===null||h===32||h===96||ke(h)?(e.exit("codeTextData"),l(h)):(e.consume(h),d)}function c(h){return h===96?(e.consume(h),s++,c):s===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(h)):(i.type="codeTextData",d(h))}}class F9{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const s=n||0;this.setCursor(Math.trunc(t));const i=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return r&&Va(this.left,r),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Va(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Va(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Va(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Va(this.left,n.reverse())}}}function Va(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function xC(e){const t={};let n=-1,r,s,i,a,o,l,d;const c=new F9(e);for(;++n<c.length;){for(;n in t;)n=t[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,i=0,i<l.length&&l[i][1].type==="lineEndingBlank"&&(i+=2),i<l.length&&l[i][1].type==="content"))for(;++i<l.length&&l[i][1].type!=="content";)l[i][1].type==="chunkText"&&(l[i][1]._isInFirstContentOfListItem=!0,i++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,B9(c,n)),n=t[n],d=!0);else if(r[1]._container){for(i=n,s=void 0;i--;)if(a=c.get(i),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(s&&(c.get(s)[1].type="lineEndingBlank"),a[1].type="lineEnding",s=i);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;s&&(r[1].end={...c.get(s)[1].start},o=c.slice(s,n),o.unshift(r),c.splice(s,n-s+1,o))}}return Nr(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!d}function B9(e,t){const n=e.get(t)[1],r=e.get(t)[2];let s=t-1;const i=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const o=a.events,l=[],d={};let c,h,m=-1,f=n,g=0,y=0;const x=[y];for(;f;){for(;e.get(++s)[1]!==f;);i.push(s),f._tokenizer||(c=r.sliceStream(f),f.next||c.push(null),h&&a.defineSkip(f.start),f._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(c),f._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),h=f,f=f.next}for(f=n;++m<o.length;)o[m][0]==="exit"&&o[m-1][0]==="enter"&&o[m][1].type===o[m-1][1].type&&o[m][1].start.line!==o[m][1].end.line&&(y=m+1,x.push(y),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(a.events=[],f?(f._tokenizer=void 0,f.previous=void 0):x.pop(),m=x.length;m--;){const E=o.slice(x[m],x[m+1]),v=i.pop();l.push([v,v+E.length-1]),e.splice(v,2,E)}for(l.reverse(),m=-1;++m<l.length;)d[g+l[m][0]]=g+l[m][1],g+=l[m][1]-l[m][0]-1;return d}const U9={resolve:$9,tokenize:V9},H9={partial:!0,tokenize:z9};function $9(e){return xC(e),e}function V9(e,t){let n;return r;function r(o){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),s(o)}function s(o){return o===null?i(o):ke(o)?e.check(H9,a,i)(o):(e.consume(o),s)}function i(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function a(o){return e.consume(o),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function z9(e,t,n){const r=this;return s;function s(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),rt(e,i,"linePrefix")}function i(a){if(a===null||ke(a))return n(a);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):e.interrupt(r.parser.constructs.flow,n,t)(a)}}function vC(e,t,n,r,s,i,a,o,l){const d=l||Number.POSITIVE_INFINITY;let c=0;return h;function h(E){return E===60?(e.enter(r),e.enter(s),e.enter(i),e.consume(E),e.exit(i),m):E===null||E===32||E===41||of(E)?n(E):(e.enter(r),e.enter(a),e.enter(o),e.enter("chunkString",{contentType:"string"}),y(E))}function m(E){return E===62?(e.enter(i),e.consume(E),e.exit(i),e.exit(s),e.exit(r),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),f(E))}function f(E){return E===62?(e.exit("chunkString"),e.exit(o),m(E)):E===null||E===60||ke(E)?n(E):(e.consume(E),E===92?g:f)}function g(E){return E===60||E===62||E===92?(e.consume(E),f):f(E)}function y(E){return!c&&(E===null||E===41||ln(E))?(e.exit("chunkString"),e.exit(o),e.exit(a),e.exit(r),t(E)):c<d&&E===40?(e.consume(E),c++,y):E===41?(e.consume(E),c--,y):E===null||E===32||E===40||of(E)?n(E):(e.consume(E),E===92?x:y)}function x(E){return E===40||E===41||E===92?(e.consume(E),y):y(E)}}function EC(e,t,n,r,s,i){const a=this;let o=0,l;return d;function d(f){return e.enter(r),e.enter(s),e.consume(f),e.exit(s),e.enter(i),c}function c(f){return o>999||f===null||f===91||f===93&&!l||f===94&&!o&&"_hiddenFootnoteSupport"in a.parser.constructs?n(f):f===93?(e.exit(i),e.enter(s),e.consume(f),e.exit(s),e.exit(r),t):ke(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),h(f))}function h(f){return f===null||f===91||f===93||ke(f)||o++>999?(e.exit("chunkString"),c(f)):(e.consume(f),l||(l=!Qe(f)),f===92?m:h)}function m(f){return f===91||f===92||f===93?(e.consume(f),o++,h):h(f)}}function wC(e,t,n,r,s,i){let a;return o;function o(m){return m===34||m===39||m===40?(e.enter(r),e.enter(s),e.consume(m),e.exit(s),a=m===40?41:m,l):n(m)}function l(m){return m===a?(e.enter(s),e.consume(m),e.exit(s),e.exit(r),t):(e.enter(i),d(m))}function d(m){return m===a?(e.exit(i),l(a)):m===null?n(m):ke(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),rt(e,d,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(m))}function c(m){return m===a||m===null||ke(m)?(e.exit("chunkString"),d(m)):(e.consume(m),m===92?h:c)}function h(m){return m===a||m===92?(e.consume(m),c):c(m)}}function po(e,t){let n;return r;function r(s){return ke(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),n=!0,r):Qe(s)?rt(e,r,n?"linePrefix":"lineSuffix")(s):t(s)}}const q9={name:"definition",tokenize:W9},G9={partial:!0,tokenize:Y9};function W9(e,t,n){const r=this;let s;return i;function i(f){return e.enter("definition"),a(f)}function a(f){return EC.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(f)}function o(f){return s=zi(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),f===58?(e.enter("definitionMarker"),e.consume(f),e.exit("definitionMarker"),l):n(f)}function l(f){return ln(f)?po(e,d)(f):d(f)}function d(f){return vC(e,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(f)}function c(f){return e.attempt(G9,h,h)(f)}function h(f){return Qe(f)?rt(e,m,"whitespace")(f):m(f)}function m(f){return f===null||ke(f)?(e.exit("definition"),r.parser.defined.push(s),t(f)):n(f)}}function Y9(e,t,n){return r;function r(o){return ln(o)?po(e,s)(o):n(o)}function s(o){return wC(e,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function i(o){return Qe(o)?rt(e,a,"whitespace")(o):a(o)}function a(o){return o===null||ke(o)?t(o):n(o)}}const K9={name:"hardBreakEscape",tokenize:X9};function X9(e,t,n){return r;function r(i){return e.enter("hardBreakEscape"),e.consume(i),s}function s(i){return ke(i)?(e.exit("hardBreakEscape"),t(i)):n(i)}}const Q9={name:"headingAtx",resolve:J9,tokenize:Z9};function J9(e,t){let n=e.length-2,r=3,s,i;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(s={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},i={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Nr(e,r,n-r+1,[["enter",s,t],["enter",i,t],["exit",i,t],["exit",s,t]])),e}function Z9(e,t,n){let r=0;return s;function s(c){return e.enter("atxHeading"),i(c)}function i(c){return e.enter("atxHeadingSequence"),a(c)}function a(c){return c===35&&r++<6?(e.consume(c),a):c===null||ln(c)?(e.exit("atxHeadingSequence"),o(c)):n(c)}function o(c){return c===35?(e.enter("atxHeadingSequence"),l(c)):c===null||ke(c)?(e.exit("atxHeading"),t(c)):Qe(c)?rt(e,o,"whitespace")(c):(e.enter("atxHeadingText"),d(c))}function l(c){return c===35?(e.consume(c),l):(e.exit("atxHeadingSequence"),o(c))}function d(c){return c===null||c===35||ln(c)?(e.exit("atxHeadingText"),o(c)):(e.consume(c),d)}}const eH=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],bb=["pre","script","style","textarea"],tH={concrete:!0,name:"htmlFlow",resolveTo:sH,tokenize:iH},nH={partial:!0,tokenize:oH},rH={partial:!0,tokenize:aH};function sH(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function iH(e,t,n){const r=this;let s,i,a,o,l;return d;function d(k){return c(k)}function c(k){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(k),h}function h(k){return k===33?(e.consume(k),m):k===47?(e.consume(k),i=!0,y):k===63?(e.consume(k),s=3,r.interrupt?t:_):yr(k)?(e.consume(k),a=String.fromCharCode(k),x):n(k)}function m(k){return k===45?(e.consume(k),s=2,f):k===91?(e.consume(k),s=5,o=0,g):yr(k)?(e.consume(k),s=4,r.interrupt?t:_):n(k)}function f(k){return k===45?(e.consume(k),r.interrupt?t:_):n(k)}function g(k){const ge="CDATA[";return k===ge.charCodeAt(o++)?(e.consume(k),o===ge.length?r.interrupt?t:P:g):n(k)}function y(k){return yr(k)?(e.consume(k),a=String.fromCharCode(k),x):n(k)}function x(k){if(k===null||k===47||k===62||ln(k)){const ge=k===47,Re=a.toLowerCase();return!ge&&!i&&bb.includes(Re)?(s=1,r.interrupt?t(k):P(k)):eH.includes(a.toLowerCase())?(s=6,ge?(e.consume(k),E):r.interrupt?t(k):P(k)):(s=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(k):i?v(k):w(k))}return k===45||yn(k)?(e.consume(k),a+=String.fromCharCode(k),x):n(k)}function E(k){return k===62?(e.consume(k),r.interrupt?t:P):n(k)}function v(k){return Qe(k)?(e.consume(k),v):V(k)}function w(k){return k===47?(e.consume(k),V):k===58||k===95||yr(k)?(e.consume(k),T):Qe(k)?(e.consume(k),w):V(k)}function T(k){return k===45||k===46||k===58||k===95||yn(k)?(e.consume(k),T):S(k)}function S(k){return k===61?(e.consume(k),C):Qe(k)?(e.consume(k),S):w(k)}function C(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(e.consume(k),l=k,D):Qe(k)?(e.consume(k),C):j(k)}function D(k){return k===l?(e.consume(k),l=null,F):k===null||ke(k)?n(k):(e.consume(k),D)}function j(k){return k===null||k===34||k===39||k===47||k===60||k===61||k===62||k===96||ln(k)?S(k):(e.consume(k),j)}function F(k){return k===47||k===62||Qe(k)?w(k):n(k)}function V(k){return k===62?(e.consume(k),z):n(k)}function z(k){return k===null||ke(k)?P(k):Qe(k)?(e.consume(k),z):n(k)}function P(k){return k===45&&s===2?(e.consume(k),L):k===60&&s===1?(e.consume(k),U):k===62&&s===4?(e.consume(k),ee):k===63&&s===3?(e.consume(k),_):k===93&&s===5?(e.consume(k),O):ke(k)&&(s===6||s===7)?(e.exit("htmlFlowData"),e.check(nH,ie,W)(k)):k===null||ke(k)?(e.exit("htmlFlowData"),W(k)):(e.consume(k),P)}function W(k){return e.check(rH,Q,ie)(k)}function Q(k){return e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),te}function te(k){return k===null||ke(k)?W(k):(e.enter("htmlFlowData"),P(k))}function L(k){return k===45?(e.consume(k),_):P(k)}function U(k){return k===47?(e.consume(k),a="",Y):P(k)}function Y(k){if(k===62){const ge=a.toLowerCase();return bb.includes(ge)?(e.consume(k),ee):P(k)}return yr(k)&&a.length<8?(e.consume(k),a+=String.fromCharCode(k),Y):P(k)}function O(k){return k===93?(e.consume(k),_):P(k)}function _(k){return k===62?(e.consume(k),ee):k===45&&s===2?(e.consume(k),_):P(k)}function ee(k){return k===null||ke(k)?(e.exit("htmlFlowData"),ie(k)):(e.consume(k),ee)}function ie(k){return e.exit("htmlFlow"),t(k)}}function aH(e,t,n){const r=this;return s;function s(a){return ke(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i):n(a)}function i(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}function oH(e,t,n){return r;function r(s){return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),e.attempt(Lc,t,n)}}const lH={name:"htmlText",tokenize:uH};function uH(e,t,n){const r=this;let s,i,a;return o;function o(_){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(_),l}function l(_){return _===33?(e.consume(_),d):_===47?(e.consume(_),S):_===63?(e.consume(_),w):yr(_)?(e.consume(_),j):n(_)}function d(_){return _===45?(e.consume(_),c):_===91?(e.consume(_),i=0,g):yr(_)?(e.consume(_),v):n(_)}function c(_){return _===45?(e.consume(_),f):n(_)}function h(_){return _===null?n(_):_===45?(e.consume(_),m):ke(_)?(a=h,U(_)):(e.consume(_),h)}function m(_){return _===45?(e.consume(_),f):h(_)}function f(_){return _===62?L(_):_===45?m(_):h(_)}function g(_){const ee="CDATA[";return _===ee.charCodeAt(i++)?(e.consume(_),i===ee.length?y:g):n(_)}function y(_){return _===null?n(_):_===93?(e.consume(_),x):ke(_)?(a=y,U(_)):(e.consume(_),y)}function x(_){return _===93?(e.consume(_),E):y(_)}function E(_){return _===62?L(_):_===93?(e.consume(_),E):y(_)}function v(_){return _===null||_===62?L(_):ke(_)?(a=v,U(_)):(e.consume(_),v)}function w(_){return _===null?n(_):_===63?(e.consume(_),T):ke(_)?(a=w,U(_)):(e.consume(_),w)}function T(_){return _===62?L(_):w(_)}function S(_){return yr(_)?(e.consume(_),C):n(_)}function C(_){return _===45||yn(_)?(e.consume(_),C):D(_)}function D(_){return ke(_)?(a=D,U(_)):Qe(_)?(e.consume(_),D):L(_)}function j(_){return _===45||yn(_)?(e.consume(_),j):_===47||_===62||ln(_)?F(_):n(_)}function F(_){return _===47?(e.consume(_),L):_===58||_===95||yr(_)?(e.consume(_),V):ke(_)?(a=F,U(_)):Qe(_)?(e.consume(_),F):L(_)}function V(_){return _===45||_===46||_===58||_===95||yn(_)?(e.consume(_),V):z(_)}function z(_){return _===61?(e.consume(_),P):ke(_)?(a=z,U(_)):Qe(_)?(e.consume(_),z):F(_)}function P(_){return _===null||_===60||_===61||_===62||_===96?n(_):_===34||_===39?(e.consume(_),s=_,W):ke(_)?(a=P,U(_)):Qe(_)?(e.consume(_),P):(e.consume(_),Q)}function W(_){return _===s?(e.consume(_),s=void 0,te):_===null?n(_):ke(_)?(a=W,U(_)):(e.consume(_),W)}function Q(_){return _===null||_===34||_===39||_===60||_===61||_===96?n(_):_===47||_===62||ln(_)?F(_):(e.consume(_),Q)}function te(_){return _===47||_===62||ln(_)?F(_):n(_)}function L(_){return _===62?(e.consume(_),e.exit("htmlTextData"),e.exit("htmlText"),t):n(_)}function U(_){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),Y}function Y(_){return Qe(_)?rt(e,O,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(_):O(_)}function O(_){return e.enter("htmlTextData"),a(_)}}const Mp={name:"labelEnd",resolveAll:fH,resolveTo:mH,tokenize:pH},cH={tokenize:gH},dH={tokenize:yH},hH={tokenize:bH};function fH(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const s=r.type==="labelImage"?4:2;r.type="data",t+=s}}return e.length!==n.length&&Nr(e,0,e.length,n),e}function mH(e,t){let n=e.length,r=0,s,i,a,o;for(;n--;)if(s=e[n][1],i){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;e[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(a){if(e[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(i=n,s.type!=="labelLink")){r=2;break}}else s.type==="labelEnd"&&(a=n);const l={type:e[i][1].type==="labelLink"?"link":"image",start:{...e[i][1].start},end:{...e[e.length-1][1].end}},d={type:"label",start:{...e[i][1].start},end:{...e[a][1].end}},c={type:"labelText",start:{...e[i+r+2][1].end},end:{...e[a-2][1].start}};return o=[["enter",l,t],["enter",d,t]],o=kn(o,e.slice(i+1,i+r+3)),o=kn(o,[["enter",c,t]]),o=kn(o,Dp(t.parser.constructs.insideSpan.null,e.slice(i+r+4,a-3),t)),o=kn(o,[["exit",c,t],e[a-2],e[a-1],["exit",d,t]]),o=kn(o,e.slice(a+1)),o=kn(o,[["exit",l,t]]),Nr(e,i,e.length,o),e}function pH(e,t,n){const r=this;let s=r.events.length,i,a;for(;s--;)if((r.events[s][1].type==="labelImage"||r.events[s][1].type==="labelLink")&&!r.events[s][1]._balanced){i=r.events[s][1];break}return o;function o(m){return i?i._inactive?h(m):(a=r.parser.defined.includes(zi(r.sliceSerialize({start:i.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(m),e.exit("labelMarker"),e.exit("labelEnd"),l):n(m)}function l(m){return m===40?e.attempt(cH,c,a?c:h)(m):m===91?e.attempt(dH,c,a?d:h)(m):a?c(m):h(m)}function d(m){return e.attempt(hH,c,h)(m)}function c(m){return t(m)}function h(m){return i._balanced=!0,n(m)}}function gH(e,t,n){return r;function r(h){return e.enter("resource"),e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),s}function s(h){return ln(h)?po(e,i)(h):i(h)}function i(h){return h===41?c(h):vC(e,a,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function a(h){return ln(h)?po(e,l)(h):c(h)}function o(h){return n(h)}function l(h){return h===34||h===39||h===40?wC(e,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):c(h)}function d(h){return ln(h)?po(e,c)(h):c(h)}function c(h){return h===41?(e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),e.exit("resource"),t):n(h)}}function yH(e,t,n){const r=this;return s;function s(o){return EC.call(r,e,i,a,"reference","referenceMarker","referenceString")(o)}function i(o){return r.parser.defined.includes(zi(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(o):n(o)}function a(o){return n(o)}}function bH(e,t,n){return r;function r(i){return e.enter("reference"),e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),s}function s(i){return i===93?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):n(i)}}const xH={name:"labelStartImage",resolveAll:Mp.resolveAll,tokenize:vH};function vH(e,t,n){const r=this;return s;function s(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),i}function i(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),a):n(o)}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const EH={name:"labelStartLink",resolveAll:Mp.resolveAll,tokenize:wH};function wH(e,t,n){const r=this;return s;function s(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),i}function i(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const Ld={name:"lineEnding",tokenize:TH};function TH(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),rt(e,t,"linePrefix")}}const ru={name:"thematicBreak",tokenize:_H};function _H(e,t,n){let r=0,s;return i;function i(d){return e.enter("thematicBreak"),a(d)}function a(d){return s=d,o(d)}function o(d){return d===s?(e.enter("thematicBreakSequence"),l(d)):r>=3&&(d===null||ke(d))?(e.exit("thematicBreak"),t(d)):n(d)}function l(d){return d===s?(e.consume(d),r++,l):(e.exit("thematicBreakSequence"),Qe(d)?rt(e,o,"whitespace")(d):o(d))}}const tn={continuation:{tokenize:NH},exit:IH,name:"list",tokenize:AH},SH={partial:!0,tokenize:RH},CH={partial:!0,tokenize:kH};function AH(e,t,n){const r=this,s=r.events[r.events.length-1];let i=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,a=0;return o;function o(f){const g=r.containerState.type||(f===42||f===43||f===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!r.containerState.marker||f===r.containerState.marker:lf(f)){if(r.containerState.type||(r.containerState.type=g,e.enter(g,{_container:!0})),g==="listUnordered")return e.enter("listItemPrefix"),f===42||f===45?e.check(ru,n,d)(f):d(f);if(!r.interrupt||f===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(f)}return n(f)}function l(f){return lf(f)&&++a<10?(e.consume(f),l):(!r.interrupt||a<2)&&(r.containerState.marker?f===r.containerState.marker:f===41||f===46)?(e.exit("listItemValue"),d(f)):n(f)}function d(f){return e.enter("listItemMarker"),e.consume(f),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||f,e.check(Lc,r.interrupt?n:c,e.attempt(SH,m,h))}function c(f){return r.containerState.initialBlankLine=!0,i++,m(f)}function h(f){return Qe(f)?(e.enter("listItemPrefixWhitespace"),e.consume(f),e.exit("listItemPrefixWhitespace"),m):n(f)}function m(f){return r.containerState.size=i+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(f)}}function NH(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Lc,s,i);function s(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,rt(e,t,"listItemIndent",r.containerState.size+1)(o)}function i(o){return r.containerState.furtherBlankLines||!Qe(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(CH,t,a)(o))}function a(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,rt(e,e.attempt(tn,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function kH(e,t,n){const r=this;return rt(e,s,"listItemIndent",r.containerState.size+1);function s(i){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?t(i):n(i)}}function IH(e){e.exit(this.containerState.type)}function RH(e,t,n){const r=this;return rt(e,s,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(i){const a=r.events[r.events.length-1];return!Qe(i)&&a&&a[1].type==="listItemPrefixWhitespace"?t(i):n(i)}}const xb={name:"setextUnderline",resolveTo:PH,tokenize:OH};function PH(e,t){let n=e.length,r,s,i;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(s=n)}else e[n][1].type==="content"&&e.splice(n,1),!i&&e[n][1].type==="definition"&&(i=n);const a={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[s][1].type="setextHeadingText",i?(e.splice(s,0,["enter",a,t]),e.splice(i+1,0,["exit",e[r][1],t]),e[r][1].end={...e[i][1].end}):e[r][1]=a,e.push(["exit",a,t]),e}function OH(e,t,n){const r=this;let s;return i;function i(d){let c=r.events.length,h;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){h=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(e.enter("setextHeadingLine"),s=d,a(d)):n(d)}function a(d){return e.enter("setextHeadingLineSequence"),o(d)}function o(d){return d===s?(e.consume(d),o):(e.exit("setextHeadingLineSequence"),Qe(d)?rt(e,l,"lineSuffix")(d):l(d))}function l(d){return d===null||ke(d)?(e.exit("setextHeadingLine"),t(d)):n(d)}}const DH={tokenize:MH};function MH(e){const t=this,n=e.attempt(Lc,r,e.attempt(this.parser.constructs.flowInitial,s,rt(e,e.attempt(this.parser.constructs.flow,s,e.attempt(U9,s)),"linePrefix")));return n;function r(i){if(i===null){e.consume(i);return}return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function s(i){if(i===null){e.consume(i);return}return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const LH={resolveAll:_C()},jH=TC("string"),FH=TC("text");function TC(e){return{resolveAll:_C(e==="text"?BH:void 0),tokenize:t};function t(n){const r=this,s=this.parser.constructs[e],i=n.attempt(s,a,o);return a;function a(c){return d(c)?i(c):o(c)}function o(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),l}function l(c){return d(c)?(n.exit("data"),i(c)):(n.consume(c),l)}function d(c){if(c===null)return!0;const h=s[c];let m=-1;if(h)for(;++m<h.length;){const f=h[m];if(!f.previous||f.previous.call(r,r.previous))return!0}return!1}}}function _C(e){return t;function t(n,r){let s=-1,i;for(;++s<=n.length;)i===void 0?n[s]&&n[s][1].type==="data"&&(i=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==i+2&&(n[i][1].end=n[s-1][1].end,n.splice(i+2,s-i-2),s=i+2),i=void 0);return e?e(n,r):n}}function BH(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],s=t.sliceStream(r);let i=s.length,a=-1,o=0,l;for(;i--;){const d=s[i];if(typeof d=="string"){for(a=d.length;d.charCodeAt(a-1)===32;)o++,a--;if(a)break;a=-1}else if(d===-2)l=!0,o++;else if(d!==-1){i++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(o=0),o){const d={type:n===e.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?a:r.start._bufferIndex+a,_index:r.start._index+i,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...d.start},r.start.offset===r.end.offset?Object.assign(r,d):(e.splice(n,0,["enter",d,t],["exit",d,t]),n+=2)}n++}return e}const UH={42:tn,43:tn,45:tn,48:tn,49:tn,50:tn,51:tn,52:tn,53:tn,54:tn,55:tn,56:tn,57:tn,62:gC},HH={91:q9},$H={[-2]:Md,[-1]:Md,32:Md},VH={35:Q9,42:ru,45:[xb,ru],60:tH,61:xb,95:ru,96:yb,126:yb},zH={38:bC,92:yC},qH={[-5]:Ld,[-4]:Ld,[-3]:Ld,33:xH,38:bC,42:uf,60:[E9,lH],91:EH,92:[K9,yC],93:Mp,95:uf,96:D9},GH={null:[uf,LH]},WH={null:[42,95]},YH={null:[]},KH=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:WH,contentInitial:HH,disable:YH,document:UH,flow:VH,flowInitial:$H,insideSpan:GH,string:zH,text:qH},Symbol.toStringTag,{value:"Module"}));function XH(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},i=[];let a=[],o=[];const l={attempt:D(S),check:D(C),consume:v,enter:w,exit:T,interrupt:D(C,{interrupt:!0})},d={code:null,containerState:{},defineSkip:y,events:[],now:g,parser:e,previous:null,sliceSerialize:m,sliceStream:f,write:h};let c=t.tokenize.call(d,l);return t.resolveAll&&i.push(t),d;function h(z){return a=kn(a,z),x(),a[a.length-1]!==null?[]:(j(t,0),d.events=Dp(i,d.events,d),d.events)}function m(z,P){return JH(f(z),P)}function f(z){return QH(a,z)}function g(){const{_bufferIndex:z,_index:P,line:W,column:Q,offset:te}=r;return{_bufferIndex:z,_index:P,line:W,column:Q,offset:te}}function y(z){s[z.line]=z.column,V()}function x(){let z;for(;r._index<a.length;){const P=a[r._index];if(typeof P=="string")for(z=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===z&&r._bufferIndex<P.length;)E(P.charCodeAt(r._bufferIndex));else E(P)}}function E(z){c=c(z)}function v(z){ke(z)?(r.line++,r.column=1,r.offset+=z===-3?2:1,V()):z!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=z}function w(z,P){const W=P||{};return W.type=z,W.start=g(),d.events.push(["enter",W,d]),o.push(W),W}function T(z){const P=o.pop();return P.end=g(),d.events.push(["exit",P,d]),P}function S(z,P){j(z,P.from)}function C(z,P){P.restore()}function D(z,P){return W;function W(Q,te,L){let U,Y,O,_;return Array.isArray(Q)?ie(Q):"tokenize"in Q?ie([Q]):ee(Q);function ee(Ae){return G;function G(ce){const de=ce!==null&&Ae[ce],be=ce!==null&&Ae.null,we=[...Array.isArray(de)?de:de?[de]:[],...Array.isArray(be)?be:be?[be]:[]];return ie(we)(ce)}}function ie(Ae){return U=Ae,Y=0,Ae.length===0?L:k(Ae[Y])}function k(Ae){return G;function G(ce){return _=F(),O=Ae,Ae.partial||(d.currentConstruct=Ae),Ae.name&&d.parser.constructs.disable.null.includes(Ae.name)?Re():Ae.tokenize.call(P?Object.assign(Object.create(d),P):d,l,ge,Re)(ce)}}function ge(Ae){return z(O,_),te}function Re(Ae){return _.restore(),++Y<U.length?k(U[Y]):L}}}function j(z,P){z.resolveAll&&!i.includes(z)&&i.push(z),z.resolve&&Nr(d.events,P,d.events.length-P,z.resolve(d.events.slice(P),d)),z.resolveTo&&(d.events=z.resolveTo(d.events,d))}function F(){const z=g(),P=d.previous,W=d.currentConstruct,Q=d.events.length,te=Array.from(o);return{from:Q,restore:L};function L(){r=z,d.previous=P,d.currentConstruct=W,d.events.length=Q,o=te,V()}}function V(){r.line in s&&r.column<2&&(r.column=s[r.line],r.offset+=s[r.line]-1)}}function QH(e,t){const n=t.start._index,r=t.start._bufferIndex,s=t.end._index,i=t.end._bufferIndex;let a;if(n===s)a=[e[n].slice(r,i)];else{if(a=e.slice(n,s),r>-1){const o=a[0];typeof o=="string"?a[0]=o.slice(r):a.shift()}i>0&&a.push(e[s].slice(0,i))}return a}function JH(e,t){let n=-1;const r=[];let s;for(;++n<e.length;){const i=e[n];let a;if(typeof i=="string")a=i;else switch(i){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&s)continue;a=" ";break}default:a=String.fromCharCode(i)}s=i===-2,r.push(a)}return r.join("")}function ZH(e){const r={constructs:a9([KH,...(e||{}).extensions||[]]),content:s(m9),defined:[],document:s(g9),flow:s(DH),lazy:{},string:s(jH),text:s(FH)};return r;function s(i){return a;function a(o){return XH(r,i,o)}}}function e$(e){for(;!xC(e););return e}const vb=/[\0\t\n\r]/g;function t$(){let e=1,t="",n=!0,r;return s;function s(i,a,o){const l=[];let d,c,h,m,f;for(i=t+(typeof i=="string"?i.toString():new TextDecoder(a||void 0).decode(i)),h=0,t="",n&&(i.charCodeAt(0)===65279&&h++,n=void 0);h<i.length;){if(vb.lastIndex=h,d=vb.exec(i),m=d&&d.index!==void 0?d.index:i.length,f=i.charCodeAt(m),!d){t=i.slice(h);break}if(f===10&&h===m&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),h<m&&(l.push(i.slice(h,m)),e+=m-h),f){case 0:{l.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,l.push(-2);e++<c;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}h=m+1}return o&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const n$=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function r$(e){return e.replace(n$,s$)}function s$(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),i=s===120||s===88;return pC(n.slice(i?2:1),i?16:10)}return Op(n)||e}const SC={}.hasOwnProperty;function i$(e,t,n){return typeof t!="string"&&(n=t,t=void 0),a$(n)(e$(ZH(n).document().write(t$()(e,t,!0))))}function a$(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(Tn),autolinkProtocol:F,autolinkEmail:F,atxHeading:i(St),blockQuote:i(be),characterEscape:F,characterReference:F,codeFenced:i(we),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:i(we,a),codeText:i(Te,a),codeTextData:F,data:F,codeFlowValue:F,definition:i(Xe),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:i(Tt),hardBreakEscape:i(dn),hardBreakTrailing:i(dn),htmlFlow:i(wn,a),htmlFlowData:F,htmlText:i(wn,a),htmlTextData:F,image:i(Yr),label:a,link:i(Tn),listItem:i($),listItemValue:m,listOrdered:i(M,h),listUnordered:i(M),paragraph:i(X),reference:k,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:i(St),strong:i(fe),thematicBreak:i(ue)},exit:{atxHeading:l(),atxHeadingSequence:S,autolink:l(),autolinkEmail:de,autolinkProtocol:ce,blockQuote:l(),characterEscapeValue:V,characterReferenceMarkerHexadecimal:Re,characterReferenceMarkerNumeric:Re,characterReferenceValue:Ae,characterReference:G,codeFenced:l(x),codeFencedFence:y,codeFencedFenceInfo:f,codeFencedFenceMeta:g,codeFlowValue:V,codeIndented:l(E),codeText:l(te),codeTextData:V,data:V,definition:l(),definitionDestinationString:T,definitionLabelString:v,definitionTitleString:w,emphasis:l(),hardBreakEscape:l(P),hardBreakTrailing:l(P),htmlFlow:l(W),htmlFlowData:V,htmlText:l(Q),htmlTextData:V,image:l(U),label:O,labelText:Y,lineEnding:z,link:l(L),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:ge,resourceDestinationString:_,resourceTitleString:ee,resource:ie,setextHeading:l(j),setextHeadingLineSequence:D,setextHeadingText:C,strong:l(),thematicBreak:l()}};CC(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(B){let J={type:"root",children:[]};const pe={stack:[J],tokenStack:[],config:t,enter:o,exit:d,buffer:a,resume:c,data:n},Ce=[];let Ve=-1;for(;++Ve<B.length;)if(B[Ve][1].type==="listOrdered"||B[Ve][1].type==="listUnordered")if(B[Ve][0]==="enter")Ce.push(Ve);else{const ht=Ce.pop();Ve=s(B,ht,Ve)}for(Ve=-1;++Ve<B.length;){const ht=t[B[Ve][0]];SC.call(ht,B[Ve][1].type)&&ht[B[Ve][1].type].call(Object.assign({sliceSerialize:B[Ve][2].sliceSerialize},pe),B[Ve][1])}if(pe.tokenStack.length>0){const ht=pe.tokenStack[pe.tokenStack.length-1];(ht[1]||Eb).call(pe,void 0,ht[0])}for(J.position={start:es(B.length>0?B[0][1].start:{line:1,column:1,offset:0}),end:es(B.length>0?B[B.length-2][1].end:{line:1,column:1,offset:0})},Ve=-1;++Ve<t.transforms.length;)J=t.transforms[Ve](J)||J;return J}function s(B,J,pe){let Ce=J-1,Ve=-1,ht=!1,_n,Ot,Lt,or;for(;++Ce<=pe;){const lt=B[Ce];switch(lt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{lt[0]==="enter"?Ve++:Ve--,or=void 0;break}case"lineEndingBlank":{lt[0]==="enter"&&(_n&&!or&&!Ve&&!Lt&&(Lt=Ce),or=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:or=void 0}if(!Ve&&lt[0]==="enter"&&lt[1].type==="listItemPrefix"||Ve===-1&&lt[0]==="exit"&&(lt[1].type==="listUnordered"||lt[1].type==="listOrdered")){if(_n){let lr=Ce;for(Ot=void 0;lr--;){const Jt=B[lr];if(Jt[1].type==="lineEnding"||Jt[1].type==="lineEndingBlank"){if(Jt[0]==="exit")continue;Ot&&(B[Ot][1].type="lineEndingBlank",ht=!0),Jt[1].type="lineEnding",Ot=lr}else if(!(Jt[1].type==="linePrefix"||Jt[1].type==="blockQuotePrefix"||Jt[1].type==="blockQuotePrefixWhitespace"||Jt[1].type==="blockQuoteMarker"||Jt[1].type==="listItemIndent"))break}Lt&&(!Ot||Lt<Ot)&&(_n._spread=!0),_n.end=Object.assign({},Ot?B[Ot][1].start:lt[1].end),B.splice(Ot||Ce,0,["exit",_n,lt[2]]),Ce++,pe++}if(lt[1].type==="listItemPrefix"){const lr={type:"listItem",_spread:!1,start:Object.assign({},lt[1].start),end:void 0};_n=lr,B.splice(Ce,0,["enter",lr,lt[2]]),Ce++,pe++,Lt=void 0,or=!0}}}return B[J][1]._spread=ht,pe}function i(B,J){return pe;function pe(Ce){o.call(this,B(Ce),Ce),J&&J.call(this,Ce)}}function a(){this.stack.push({type:"fragment",children:[]})}function o(B,J,pe){this.stack[this.stack.length-1].children.push(B),this.stack.push(B),this.tokenStack.push([J,pe||void 0]),B.position={start:es(J.start),end:void 0}}function l(B){return J;function J(pe){B&&B.call(this,pe),d.call(this,pe)}}function d(B,J){const pe=this.stack.pop(),Ce=this.tokenStack.pop();if(Ce)Ce[0].type!==B.type&&(J?J.call(this,B,Ce[0]):(Ce[1]||Eb).call(this,B,Ce[0]));else throw new Error("Cannot close `"+B.type+"` ("+mo({start:B.start,end:B.end})+"): its not open");pe.position.end=es(B.end)}function c(){return s9(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function m(B){if(this.data.expectingFirstListItemValue){const J=this.stack[this.stack.length-2];J.start=Number.parseInt(this.sliceSerialize(B),10),this.data.expectingFirstListItemValue=void 0}}function f(){const B=this.resume(),J=this.stack[this.stack.length-1];J.lang=B}function g(){const B=this.resume(),J=this.stack[this.stack.length-1];J.meta=B}function y(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function x(){const B=this.resume(),J=this.stack[this.stack.length-1];J.value=B.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function E(){const B=this.resume(),J=this.stack[this.stack.length-1];J.value=B.replace(/(\r?\n|\r)$/g,"")}function v(B){const J=this.resume(),pe=this.stack[this.stack.length-1];pe.label=J,pe.identifier=zi(this.sliceSerialize(B)).toLowerCase()}function w(){const B=this.resume(),J=this.stack[this.stack.length-1];J.title=B}function T(){const B=this.resume(),J=this.stack[this.stack.length-1];J.url=B}function S(B){const J=this.stack[this.stack.length-1];if(!J.depth){const pe=this.sliceSerialize(B).length;J.depth=pe}}function C(){this.data.setextHeadingSlurpLineEnding=!0}function D(B){const J=this.stack[this.stack.length-1];J.depth=this.sliceSerialize(B).codePointAt(0)===61?1:2}function j(){this.data.setextHeadingSlurpLineEnding=void 0}function F(B){const pe=this.stack[this.stack.length-1].children;let Ce=pe[pe.length-1];(!Ce||Ce.type!=="text")&&(Ce=he(),Ce.position={start:es(B.start),end:void 0},pe.push(Ce)),this.stack.push(Ce)}function V(B){const J=this.stack.pop();J.value+=this.sliceSerialize(B),J.position.end=es(B.end)}function z(B){const J=this.stack[this.stack.length-1];if(this.data.atHardBreak){const pe=J.children[J.children.length-1];pe.position.end=es(B.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(J.type)&&(F.call(this,B),V.call(this,B))}function P(){this.data.atHardBreak=!0}function W(){const B=this.resume(),J=this.stack[this.stack.length-1];J.value=B}function Q(){const B=this.resume(),J=this.stack[this.stack.length-1];J.value=B}function te(){const B=this.resume(),J=this.stack[this.stack.length-1];J.value=B}function L(){const B=this.stack[this.stack.length-1];if(this.data.inReference){const J=this.data.referenceType||"shortcut";B.type+="Reference",B.referenceType=J,delete B.url,delete B.title}else delete B.identifier,delete B.label;this.data.referenceType=void 0}function U(){const B=this.stack[this.stack.length-1];if(this.data.inReference){const J=this.data.referenceType||"shortcut";B.type+="Reference",B.referenceType=J,delete B.url,delete B.title}else delete B.identifier,delete B.label;this.data.referenceType=void 0}function Y(B){const J=this.sliceSerialize(B),pe=this.stack[this.stack.length-2];pe.label=r$(J),pe.identifier=zi(J).toLowerCase()}function O(){const B=this.stack[this.stack.length-1],J=this.resume(),pe=this.stack[this.stack.length-1];if(this.data.inReference=!0,pe.type==="link"){const Ce=B.children;pe.children=Ce}else pe.alt=J}function _(){const B=this.resume(),J=this.stack[this.stack.length-1];J.url=B}function ee(){const B=this.resume(),J=this.stack[this.stack.length-1];J.title=B}function ie(){this.data.inReference=void 0}function k(){this.data.referenceType="collapsed"}function ge(B){const J=this.resume(),pe=this.stack[this.stack.length-1];pe.label=J,pe.identifier=zi(this.sliceSerialize(B)).toLowerCase(),this.data.referenceType="full"}function Re(B){this.data.characterReferenceType=B.type}function Ae(B){const J=this.sliceSerialize(B),pe=this.data.characterReferenceType;let Ce;pe?(Ce=pC(J,pe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ce=Op(J);const Ve=this.stack[this.stack.length-1];Ve.value+=Ce}function G(B){const J=this.stack.pop();J.position.end=es(B.end)}function ce(B){V.call(this,B);const J=this.stack[this.stack.length-1];J.url=this.sliceSerialize(B)}function de(B){V.call(this,B);const J=this.stack[this.stack.length-1];J.url="mailto:"+this.sliceSerialize(B)}function be(){return{type:"blockquote",children:[]}}function we(){return{type:"code",lang:null,meta:null,value:""}}function Te(){return{type:"inlineCode",value:""}}function Xe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Tt(){return{type:"emphasis",children:[]}}function St(){return{type:"heading",depth:0,children:[]}}function dn(){return{type:"break"}}function wn(){return{type:"html",value:""}}function Yr(){return{type:"image",title:null,url:"",alt:null}}function Tn(){return{type:"link",title:null,url:"",children:[]}}function M(B){return{type:"list",ordered:B.type==="listOrdered",start:null,spread:B._spread,children:[]}}function $(B){return{type:"listItem",spread:B._spread,checked:null,children:[]}}function X(){return{type:"paragraph",children:[]}}function fe(){return{type:"strong",children:[]}}function he(){return{type:"text",value:""}}function ue(){return{type:"thematicBreak"}}}function es(e){return{line:e.line,column:e.column,offset:e.offset}}function CC(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?CC(e,r):o$(e,r)}}function o$(e,t){let n;for(n in t)if(SC.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Eb(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+mo({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+mo({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+mo({start:t.start,end:t.end})+") is still open")}function l$(e){const t=this;t.parser=n;function n(r){return i$(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function u$(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function c$(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function d$(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function h$(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function f$(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function m$(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),s=Na(r.toLowerCase()),i=e.footnoteOrder.indexOf(r);let a,o=e.footnoteCounts.get(r);o===void 0?(o=0,e.footnoteOrder.push(r),a=e.footnoteOrder.length):a=i+1,o+=1,e.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,l);const d={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,d),e.applyData(t,d)}function p$(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function g$(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function AC(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const s=e.all(t),i=s[0];i&&i.type==="text"?i.value="["+i.value:s.unshift({type:"text",value:"["});const a=s[s.length-1];return a&&a.type==="text"?a.value+=r:s.push({type:"text",value:r}),s}function y$(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return AC(e,t);const s={src:Na(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(s.title=r.title);const i={type:"element",tagName:"img",properties:s,children:[]};return e.patch(t,i),e.applyData(t,i)}function b$(e,t){const n={src:Na(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function x$(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function v$(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return AC(e,t);const s={href:Na(r.url||"")};r.title!==null&&r.title!==void 0&&(s.title=r.title);const i={type:"element",tagName:"a",properties:s,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function E$(e,t){const n={href:Na(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function w$(e,t,n){const r=e.all(t),s=n?T$(n):NC(t),i={},a=[];if(typeof t.checked=="boolean"){const c=r[0];let h;c&&c.type==="element"&&c.tagName==="p"?h=c:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const c=r[o];(s||o!==0||c.type!=="element"||c.tagName!=="p")&&a.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!s?a.push(...c.children):a.push(c)}const l=r[r.length-1];l&&(s||l.type!=="element"||l.tagName!=="p")&&a.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:i,children:a};return e.patch(t,d),e.applyData(t,d)}function T$(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=NC(n[r])}return t}function NC(e){const t=e.spread;return t??e.children.length>1}function _$(e,t){const n={},r=e.all(t);let s=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++s<r.length;){const a=r[s];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,i),e.applyData(t,i)}function S$(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function C$(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function A$(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function N$(e,t){const n=e.all(t),r=n.shift(),s=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],a),s.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},o=Rr(t.children[1]),l=Mc(t.children[t.children.length-1]);o&&l&&(a.position={start:o,end:l}),s.push(a)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(s,!0)};return e.patch(t,i),e.applyData(t,i)}function k$(e,t,n){const r=n?n.children:void 0,i=(r?r.indexOf(t):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,o=a?a.length:t.children.length;let l=-1;const d=[];for(;++l<o;){const h=t.children[l],m={},f=a?a[l]:void 0;f&&(m.align=f);let g={type:"element",tagName:i,properties:m,children:[]};h&&(g.children=e.all(h),e.patch(h,g),g=e.applyData(h,g)),d.push(g)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(d,!0)};return e.patch(t,c),e.applyData(t,c)}function I$(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const wb=9,Tb=32;function R$(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),s=0;const i=[];for(;r;)i.push(_b(t.slice(s,r.index),s>0,!0),r[0]),s=r.index+r[0].length,r=n.exec(t);return i.push(_b(t.slice(s),s>0,!1)),i.join("")}function _b(e,t,n){let r=0,s=e.length;if(t){let i=e.codePointAt(r);for(;i===wb||i===Tb;)r++,i=e.codePointAt(r)}if(n){let i=e.codePointAt(s-1);for(;i===wb||i===Tb;)s--,i=e.codePointAt(s-1)}return s>r?e.slice(r,s):""}function P$(e,t){const n={type:"text",value:R$(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function O$(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const D$={blockquote:u$,break:c$,code:d$,delete:h$,emphasis:f$,footnoteReference:m$,heading:p$,html:g$,imageReference:y$,image:b$,inlineCode:x$,linkReference:v$,link:E$,listItem:w$,list:_$,paragraph:S$,root:C$,strong:A$,table:N$,tableCell:I$,tableRow:k$,text:P$,thematicBreak:O$,toml:jl,yaml:jl,definition:jl,footnoteDefinition:jl};function jl(){}const kC=-1,jc=0,go=1,Du=2,Lp=3,jp=4,Fp=5,Bp=6,IC=7,RC=8,Sb=typeof self=="object"?self:globalThis,M$=(e,t)=>{const n=(s,i)=>(e.set(i,s),s),r=s=>{if(e.has(s))return e.get(s);const[i,a]=t[s];switch(i){case jc:case kC:return n(a,s);case go:{const o=n([],s);for(const l of a)o.push(r(l));return o}case Du:{const o=n({},s);for(const[l,d]of a)o[r(l)]=r(d);return o}case Lp:return n(new Date(a),s);case jp:{const{source:o,flags:l}=a;return n(new RegExp(o,l),s)}case Fp:{const o=n(new Map,s);for(const[l,d]of a)o.set(r(l),r(d));return o}case Bp:{const o=n(new Set,s);for(const l of a)o.add(r(l));return o}case IC:{const{name:o,message:l}=a;return n(new Sb[o](l),s)}case RC:return n(BigInt(a),s);case"BigInt":return n(Object(BigInt(a)),s);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:o}=new Uint8Array(a);return n(new DataView(o),a)}}return n(new Sb[i](a),s)};return r},Cb=e=>M$(new Map,e)(0),wi="",{toString:L$}={},{keys:j$}=Object,za=e=>{const t=typeof e;if(t!=="object"||!e)return[jc,t];const n=L$.call(e).slice(8,-1);switch(n){case"Array":return[go,wi];case"Object":return[Du,wi];case"Date":return[Lp,wi];case"RegExp":return[jp,wi];case"Map":return[Fp,wi];case"Set":return[Bp,wi];case"DataView":return[go,n]}return n.includes("Array")?[go,n]:n.includes("Error")?[IC,n]:[Du,n]},Fl=([e,t])=>e===jc&&(t==="function"||t==="symbol"),F$=(e,t,n,r)=>{const s=(a,o)=>{const l=r.push(a)-1;return n.set(o,l),l},i=a=>{if(n.has(a))return n.get(a);let[o,l]=za(a);switch(o){case jc:{let c=a;switch(l){case"bigint":o=RC,c=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);c=null;break;case"undefined":return s([kC],a)}return s([o,c],a)}case go:{if(l){let m=a;return l==="DataView"?m=new Uint8Array(a.buffer):l==="ArrayBuffer"&&(m=new Uint8Array(a)),s([l,[...m]],a)}const c=[],h=s([o,c],a);for(const m of a)c.push(i(m));return h}case Du:{if(l)switch(l){case"BigInt":return s([l,a.toString()],a);case"Boolean":case"Number":case"String":return s([l,a.valueOf()],a)}if(t&&"toJSON"in a)return i(a.toJSON());const c=[],h=s([o,c],a);for(const m of j$(a))(e||!Fl(za(a[m])))&&c.push([i(m),i(a[m])]);return h}case Lp:return s([o,a.toISOString()],a);case jp:{const{source:c,flags:h}=a;return s([o,{source:c,flags:h}],a)}case Fp:{const c=[],h=s([o,c],a);for(const[m,f]of a)(e||!(Fl(za(m))||Fl(za(f))))&&c.push([i(m),i(f)]);return h}case Bp:{const c=[],h=s([o,c],a);for(const m of a)(e||!Fl(za(m)))&&c.push(i(m));return h}}const{message:d}=a;return s([o,{name:l,message:d}],a)};return i},Ab=(e,{json:t,lossy:n}={})=>{const r=[];return F$(!(t||n),!!t,new Map,r)(e),r},fa=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Cb(Ab(e,t)):structuredClone(e):(e,t)=>Cb(Ab(e,t));function B$(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function U$(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function H$(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||B$,r=e.options.footnoteBackLabel||U$,s=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<e.footnoteOrder.length;){const d=e.footnoteById.get(e.footnoteOrder[l]);if(!d)continue;const c=e.all(d),h=String(d.identifier).toUpperCase(),m=Na(h.toLowerCase());let f=0;const g=[],y=e.footnoteCounts.get(h);for(;y!==void 0&&++f<=y;){g.length>0&&g.push({type:"text",value:" "});let v=typeof n=="string"?n:n(l,f);typeof v=="string"&&(v={type:"text",value:v}),g.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+m+(f>1?"-"+f:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,f),className:["data-footnote-backref"]},children:Array.isArray(v)?v:[v]})}const x=c[c.length-1];if(x&&x.type==="element"&&x.tagName==="p"){const v=x.children[x.children.length-1];v&&v.type==="text"?v.value+=" ":x.children.push({type:"text",value:" "}),x.children.push(...g)}else c.push(...g);const E={type:"element",tagName:"li",properties:{id:t+"fn-"+m},children:e.wrap(c,!0)};e.patch(d,E),o.push(E)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...fa(a),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const PC=function(e){if(e==null)return q$;if(typeof e=="function")return Fc(e);if(typeof e=="object")return Array.isArray(e)?$$(e):V$(e);if(typeof e=="string")return z$(e);throw new Error("Expected function, string, or object as test")};function $$(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=PC(e[n]);return Fc(r);function r(...s){let i=-1;for(;++i<t.length;)if(t[i].apply(this,s))return!0;return!1}}function V$(e){const t=e;return Fc(n);function n(r){const s=r;let i;for(i in e)if(s[i]!==t[i])return!1;return!0}}function z$(e){return Fc(t);function t(n){return n&&n.type===e}}function Fc(e){return t;function t(n,r,s){return!!(G$(n)&&e.call(this,n,typeof r=="number"?r:void 0,s||void 0))}}function q$(){return!0}function G$(e){return e!==null&&typeof e=="object"&&"type"in e}const OC=[],W$=!0,Nb=!1,Y$="skip";function K$(e,t,n,r){let s;typeof t=="function"&&typeof n!="function"?(r=n,n=t):s=t;const i=PC(s),a=r?-1:1;o(e,void 0,[])();function o(l,d,c){const h=l&&typeof l=="object"?l:{};if(typeof h.type=="string"){const f=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(m,"name",{value:"node ("+(l.type+(f?"<"+f+">":""))+")"})}return m;function m(){let f=OC,g,y,x;if((!t||i(l,d,c[c.length-1]||void 0))&&(f=X$(n(l,c)),f[0]===Nb))return f;if("children"in l&&l.children){const E=l;if(E.children&&f[0]!==Y$)for(y=(r?E.children.length:-1)+a,x=c.concat(E);y>-1&&y<E.children.length;){const v=E.children[y];if(g=o(v,y,x)(),g[0]===Nb)return g;y=typeof g[1]=="number"?g[1]:y+a}}return f}}}function X$(e){return Array.isArray(e)?e:typeof e=="number"?[W$,e]:e==null?OC:[e]}function Up(e,t,n,r){let s,i,a;typeof t=="function"&&typeof n!="function"?(i=void 0,a=t,s=n):(i=t,a=n,s=r),K$(e,i,o,s);function o(l,d){const c=d[d.length-1],h=c?c.children.indexOf(l):void 0;return a(l,h,c)}}const cf={}.hasOwnProperty,Q$={};function J$(e,t){const n=t||Q$,r=new Map,s=new Map,i=new Map,a={...D$,...n.handlers},o={all:d,applyData:e7,definitionById:r,footnoteById:s,footnoteCounts:i,footnoteOrder:[],handlers:a,one:l,options:n,patch:Z$,wrap:n7};return Up(e,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const h=c.type==="definition"?r:s,m=String(c.identifier).toUpperCase();h.has(m)||h.set(m,c)}}),o;function l(c,h){const m=c.type,f=o.handlers[m];if(cf.call(o.handlers,m)&&f)return f(o,c,h);if(o.options.passThrough&&o.options.passThrough.includes(m)){if("children"in c){const{children:y,...x}=c,E=fa(x);return E.children=o.all(c),E}return fa(c)}return(o.options.unknownHandler||t7)(o,c,h)}function d(c){const h=[];if("children"in c){const m=c.children;let f=-1;for(;++f<m.length;){const g=o.one(m[f],c);if(g){if(f&&m[f-1].type==="break"&&(!Array.isArray(g)&&g.type==="text"&&(g.value=kb(g.value)),!Array.isArray(g)&&g.type==="element")){const y=g.children[0];y&&y.type==="text"&&(y.value=kb(y.value))}Array.isArray(g)?h.push(...g):h.push(g)}}}return h}}function Z$(e,t){e.position&&(t.position=LU(e))}function e7(e,t){let n=t;if(e&&e.data){const r=e.data.hName,s=e.data.hChildren,i=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&i&&Object.assign(n.properties,fa(i)),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function t7(e,t){const n=t.data||{},r="value"in t&&!(cf.call(n,"hProperties")||cf.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function n7(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function kb(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Ib(e,t){const n=J$(e,t),r=n.one(e,void 0),s=H$(n),i=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return s&&i.children.push({type:"text",value:`
`},s),i}function r7(e,t){return e&&"run"in e?async function(n,r){const s=Ib(n,{file:r,...t});await e.run(s,r)}:function(n,r){return Ib(n,{file:r,...e||t})}}function Rb(e){if(e)throw e}var su=Object.prototype.hasOwnProperty,DC=Object.prototype.toString,Pb=Object.defineProperty,Ob=Object.getOwnPropertyDescriptor,Db=function(t){return typeof Array.isArray=="function"?Array.isArray(t):DC.call(t)==="[object Array]"},Mb=function(t){if(!t||DC.call(t)!=="[object Object]")return!1;var n=su.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&su.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var s;for(s in t);return typeof s>"u"||su.call(t,s)},Lb=function(t,n){Pb&&n.name==="__proto__"?Pb(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},jb=function(t,n){if(n==="__proto__")if(su.call(t,n)){if(Ob)return Ob(t,n).value}else return;return t[n]},s7=function e(){var t,n,r,s,i,a,o=arguments[0],l=1,d=arguments.length,c=!1;for(typeof o=="boolean"&&(c=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<d;++l)if(t=arguments[l],t!=null)for(n in t)r=jb(o,n),s=jb(t,n),o!==s&&(c&&s&&(Mb(s)||(i=Db(s)))?(i?(i=!1,a=r&&Db(r)?r:[]):a=r&&Mb(r)?r:{},Lb(o,{name:n,newValue:e(c,a,s)})):typeof s<"u"&&Lb(o,{name:n,newValue:s}));return o};const jd=Yo(s7);function df(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function i7(){const e=[],t={run:n,use:r};return t;function n(...s){let i=-1;const a=s.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);o(null,...s);function o(l,...d){const c=e[++i];let h=-1;if(l){a(l);return}for(;++h<s.length;)(d[h]===null||d[h]===void 0)&&(d[h]=s[h]);s=d,c?a7(c,o)(...d):a(null,...d)}}function r(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return e.push(s),t}}function a7(e,t){let n;return r;function r(...a){const o=e.length>a.length;let l;o&&a.push(s);try{l=e.apply(this,a)}catch(d){const c=d;if(o&&n)throw c;return s(c)}o||(l&&l.then&&typeof l.then=="function"?l.then(i,s):l instanceof Error?s(l):i(l))}function s(a,...o){n||(n=!0,t(a,...o))}function i(a){s(null,a)}}const cr={basename:o7,dirname:l7,extname:u7,join:c7,sep:"/"};function o7(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');pl(e);let n=0,r=-1,s=e.length,i;if(t===void 0||t.length===0||t.length>e.length){for(;s--;)if(e.codePointAt(s)===47){if(i){n=s+1;break}}else r<0&&(i=!0,r=s+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let a=-1,o=t.length-1;for(;s--;)if(e.codePointAt(s)===47){if(i){n=s+1;break}}else a<0&&(i=!0,a=s+1),o>-1&&(e.codePointAt(s)===t.codePointAt(o--)?o<0&&(r=s):(o=-1,r=a));return n===r?r=a:r<0&&(r=e.length),e.slice(n,r)}function l7(e){if(pl(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function u7(e){pl(e);let t=e.length,n=-1,r=0,s=-1,i=0,a;for(;t--;){const o=e.codePointAt(t);if(o===47){if(a){r=t+1;break}continue}n<0&&(a=!0,n=t+1),o===46?s<0?s=t:i!==1&&(i=1):s>-1&&(i=-1)}return s<0||n<0||i===0||i===1&&s===n-1&&s===r+1?"":e.slice(s,n)}function c7(...e){let t=-1,n;for(;++t<e.length;)pl(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":d7(n)}function d7(e){pl(e);const t=e.codePointAt(0)===47;let n=h7(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function h7(e,t){let n="",r=0,s=-1,i=0,a=-1,o,l;for(;++a<=e.length;){if(a<e.length)o=e.codePointAt(a);else{if(o===47)break;o=47}if(o===47){if(!(s===a-1||i===1))if(s!==a-1&&i===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),s=a,i=0;continue}}else if(n.length>0){n="",r=0,s=a,i=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(s+1,a):n=e.slice(s+1,a),r=a-s-1;s=a,i=0}else o===46&&i>-1?i++:i=-1}return n}function pl(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const f7={cwd:m7};function m7(){return"/"}function hf(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function p7(e){if(typeof e=="string")e=new URL(e);else if(!hf(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return g7(e)}function g7(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(t)}const Fd=["history","path","basename","stem","extname","dirname"];class MC{constructor(t){let n;t?hf(t)?n={path:t}:typeof t=="string"||y7(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":f7.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Fd.length;){const i=Fd[r];i in n&&n[i]!==void 0&&n[i]!==null&&(this[i]=i==="history"?[...n[i]]:n[i])}let s;for(s in n)Fd.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?cr.basename(this.path):void 0}set basename(t){Ud(t,"basename"),Bd(t,"basename"),this.path=cr.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?cr.dirname(this.path):void 0}set dirname(t){Fb(this.basename,"dirname"),this.path=cr.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?cr.extname(this.path):void 0}set extname(t){if(Bd(t,"extname"),Fb(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=cr.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){hf(t)&&(t=p7(t)),Ud(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?cr.basename(this.path,this.extname):void 0}set stem(t){Ud(t,"stem"),Bd(t,"stem"),this.path=cr.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const s=this.message(t,n,r);throw s.fatal=!0,s}info(t,n,r){const s=this.message(t,n,r);return s.fatal=void 0,s}message(t,n,r){const s=new zt(t,n,r);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Bd(e,t){if(e&&e.includes(cr.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+cr.sep+"`")}function Ud(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Fb(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function y7(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const b7=function(e){const r=this.constructor.prototype,s=r[e],i=function(){return s.apply(i,arguments)};return Object.setPrototypeOf(i,r),i},x7={}.hasOwnProperty;class Hp extends b7{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=i7()}copy(){const t=new Hp;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(jd(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Vd("data",this.frozen),this.namespace[t]=n,this):x7.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Vd("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const s=n.call(t,...r);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Bl(t),r=this.parser||this.Parser;return Hd("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Hd("process",this.parser||this.Parser),$d("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(i,a){const o=Bl(t),l=r.parse(o);r.run(l,o,function(c,h,m){if(c||!h||!m)return d(c);const f=h,g=r.stringify(f,m);w7(g)?m.value=g:m.result=g,d(c,m)});function d(c,h){c||!h?a(c):i?i(h):n(void 0,h)}}}processSync(t){let n=!1,r;return this.freeze(),Hd("processSync",this.parser||this.Parser),$d("processSync",this.compiler||this.Compiler),this.process(t,s),Ub("processSync","process",n),r;function s(i,a){n=!0,Rb(i),r=a}}run(t,n,r){Bb(t),this.freeze();const s=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?i(void 0,r):new Promise(i);function i(a,o){const l=Bl(n);s.run(t,l,d);function d(c,h,m){const f=h||t;c?o(c):a?a(f):r(void 0,f,m)}}}runSync(t,n){let r=!1,s;return this.run(t,n,i),Ub("runSync","run",r),s;function i(a,o){Rb(a),s=o,r=!0}}stringify(t,n){this.freeze();const r=Bl(n),s=this.compiler||this.Compiler;return $d("stringify",s),Bb(t),s(t,r)}use(t,...n){const r=this.attachers,s=this.namespace;if(Vd("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?o(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function i(d){if(typeof d=="function")l(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[c,...h]=d;l(c,h)}else a(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function a(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(d.plugins),d.settings&&(s.settings=jd(!0,s.settings,d.settings))}function o(d){let c=-1;if(d!=null)if(Array.isArray(d))for(;++c<d.length;){const h=d[c];i(h)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function l(d,c){let h=-1,m=-1;for(;++h<r.length;)if(r[h][0]===d){m=h;break}if(m===-1)r.push([d,...c]);else if(c.length>0){let[f,...g]=c;const y=r[m][1];df(y)&&df(f)&&(f=jd(!0,y,f)),r[m]=[d,f,...g]}}}}const v7=new Hp().freeze();function Hd(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function $d(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Vd(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Bb(e){if(!df(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Ub(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Bl(e){return E7(e)?e:new MC(e)}function E7(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function w7(e){return typeof e=="string"||T7(e)}function T7(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const _7="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Hb=[],$b={allowDangerousHtml:!0},S7=/^(https?|ircs?|mailto|xmpp)$/i,C7=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Di(e){const t=A7(e),n=N7(e);return k7(t.runSync(t.parse(n),n),e)}function A7(e){const t=e.rehypePlugins||Hb,n=e.remarkPlugins||Hb,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...$b}:$b;return v7().use(l$).use(n).use(r7,r).use(t)}function N7(e){const t=e.children||"",n=new MC;return typeof t=="string"&&(n.value=t),n}function k7(e,t){const n=t.allowedElements,r=t.allowElement,s=t.components,i=t.disallowedElements,a=t.skipHtml,o=t.unwrapDisallowed,l=t.urlTransform||I7;for(const c of C7)Object.hasOwn(t,c.from)&&(""+c.from+(c.to?"use `"+c.to+"` instead":"remove it")+_7+c.id,void 0);return Up(e,d),HU(e,{Fragment:u.Fragment,components:s,ignoreInvalidStyle:!0,jsx:u.jsx,jsxs:u.jsxs,passKeys:!0,passNode:!0});function d(c,h,m){if(c.type==="raw"&&m&&typeof h=="number")return a?m.children.splice(h,1):m.children[h]={type:"text",value:c.value},h;if(c.type==="element"){let f;for(f in Dd)if(Object.hasOwn(Dd,f)&&Object.hasOwn(c.properties,f)){const g=c.properties[f],y=Dd[f];(y===null||y.includes(c.tagName))&&(c.properties[f]=l(String(g||""),f,c))}}if(c.type==="element"){let f=n?!n.includes(c.tagName):i?i.includes(c.tagName):!1;if(!f&&r&&typeof h=="number"&&(f=!r(c,h,m)),f&&m&&typeof h=="number")return o&&c.children?m.children.splice(h,1,...c.children):m.children.splice(h,1),h}}}function I7(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),s=e.indexOf("/");return t===-1||s!==-1&&t>s||n!==-1&&t>n||r!==-1&&t>r||S7.test(e.slice(0,t))?e:""}const Vb=/[#.]/g;function R7(e,t){const n=e||"",r={};let s=0,i,a;for(;s<n.length;){Vb.lastIndex=s;const o=Vb.exec(n),l=n.slice(s,o?o.index:n.length);l&&(i?i==="#"?r.id=l:Array.isArray(r.className)?r.className.push(l):r.className=[l]:a=l,s+=l.length),o&&(i=o[0],s++)}return{type:"element",tagName:a||t||"div",properties:r,children:[]}}function LC(e,t,n){const r=n?M7(n):void 0;function s(i,a,...o){let l;if(i==null){l={type:"root",children:[]};const d=a;o.unshift(d)}else{l=R7(i,t);const d=l.tagName.toLowerCase(),c=r?r.get(d):void 0;if(l.tagName=c||d,P7(a))o.unshift(a);else for(const[h,m]of Object.entries(a))O7(e,l.properties,h,m)}for(const d of o)ff(l.children,d);return l.type==="element"&&l.tagName==="template"&&(l.content={type:"root",children:l.children},l.children=[]),l}return s}function P7(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,n=Object.keys(e);for(const r of n){const s=t[r];if(s&&typeof s=="object"){if(!Array.isArray(s))return!0;const i=s;for(const a of i)if(typeof a!="number"&&typeof a!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function O7(e,t,n,r){const s=Np(e,n);let i;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;i=r}else typeof r=="boolean"?i=r:typeof r=="string"?s.spaceSeparated?i=nb(r):s.commaSeparated?i=Qy(r):s.commaOrSpaceSeparated?i=nb(Qy(r).join(" ")):i=zb(s,s.property,r):Array.isArray(r)?i=[...r]:i=s.property==="style"?D7(r):String(r);if(Array.isArray(i)){const a=[];for(const o of i)a.push(zb(s,s.property,o));i=a}s.property==="className"&&Array.isArray(t.className)&&(i=t.className.concat(i)),t[s.property]=i}}function ff(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const n of t)ff(e,n);else if(typeof t=="object"&&"type"in t)t.type==="root"?ff(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function zb(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||Ho(n)===Ho(t)))return!0}return n}function D7(e){const t=[];for(const[n,r]of Object.entries(e))t.push([n,r].join(": "));return t.join("; ")}function M7(e){const t=new Map;for(const n of e)t.set(n.toLowerCase(),n);return t}const L7=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],j7=LC(Oc,"div"),F7=LC(Aa,"g",L7);function B7(e){const t=String(e),n=[];return{toOffset:s,toPoint:r};function r(i){if(typeof i=="number"&&i>-1&&i<=t.length){let a=0;for(;;){let o=n[a];if(o===void 0){const l=qb(t,n[a-1]);o=l===-1?t.length+1:l+1,n[a]=o}if(o>i)return{line:a+1,column:i-(a>0?n[a-1]:0)+1,offset:i};a++}}}function s(i){if(i&&typeof i.line=="number"&&typeof i.column=="number"&&!Number.isNaN(i.line)&&!Number.isNaN(i.column)){for(;n.length<i.line;){const o=n[n.length-1],l=qb(t,o),d=l===-1?t.length+1:l+1;if(o===d)break;n.push(d)}const a=(i.line>1?n[i.line-2]:0)+i.column-1;if(a<n[i.line-1])return a}}}function qb(e,t){const n=e.indexOf("\r",t),r=e.indexOf(`
`,t);return r===-1?n:n===-1||n+1===r?r:n<r?n:r}const zs={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},jC={}.hasOwnProperty,U7=Object.prototype;function H7(e,t){const n=t||{};return $p({file:n.file||void 0,location:!1,schema:n.space==="svg"?Aa:Oc,verbose:n.verbose||!1},e)}function $p(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},iu(e,r,n),n}case"#document":case"#document-fragment":{const r=t,s="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:FC(e,t.childNodes),data:{quirksMode:s}},e.file&&e.location){const i=String(e.file),a=B7(i),o=a.toPoint(0),l=a.toPoint(i.length);n.position={start:o,end:l}}return n}case"#documentType":{const r=t;return n={type:"doctype"},iu(e,r,n),n}case"#text":{const r=t;return n={type:"text",value:r.value},iu(e,r,n),n}default:return n=$7(e,t),n}}function FC(e,t){let n=-1;const r=[];for(;++n<t.length;){const s=$p(e,t[n]);r.push(s)}return r}function $7(e,t){const n=e.schema;e.schema=t.namespaceURI===zs.svg?Aa:Oc;let r=-1;const s={};for(;++r<t.attrs.length;){const o=t.attrs[r],l=(o.prefix?o.prefix+":":"")+o.name;jC.call(U7,l)||(s[l]=o.value)}const a=(e.schema.space==="svg"?F7:j7)(t.tagName,s,FC(e,t.childNodes));if(iu(e,t,a),a.tagName==="template"){const o=t,l=o.sourceCodeLocation,d=l&&l.startTag&&Mi(l.startTag),c=l&&l.endTag&&Mi(l.endTag),h=$p(e,o.content);d&&c&&e.file&&(h.position={start:d.end,end:c.start}),a.content=h}return e.schema=n,a}function iu(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=V7(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function V7(e,t,n){const r=Mi(n);if(t.type==="element"){const s=t.children[t.children.length-1];if(r&&!n.endTag&&s&&s.position&&s.position.end&&(r.end=Object.assign({},s.position.end)),e.verbose){const i={};let a;if(n.attrs)for(a in n.attrs)jC.call(n.attrs,a)&&(i[Np(e.schema,a).property]=Mi(n.attrs[a]));n.startTag;const o=Mi(n.startTag),l=n.endTag?Mi(n.endTag):void 0,d={opening:o};l&&(d.closing=l),d.properties=i,t.data={position:d}}}return r}function Mi(e){const t=Gb({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=Gb({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function Gb(e){return e.line&&e.column?e:void 0}class gl{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}}gl.prototype.property={};gl.prototype.normal={};gl.prototype.space=null;function BC(e,t){const n={},r={};let s=-1;for(;++s<e.length;)Object.assign(n,e[s].property),Object.assign(r,e[s].normal);return new gl(n,r,t)}function mf(e){return e.toLowerCase()}class Ln{constructor(t,n){this.property=t,this.attribute=n}}Ln.prototype.space=null;Ln.prototype.boolean=!1;Ln.prototype.booleanish=!1;Ln.prototype.overloadedBoolean=!1;Ln.prototype.number=!1;Ln.prototype.commaSeparated=!1;Ln.prototype.spaceSeparated=!1;Ln.prototype.commaOrSpaceSeparated=!1;Ln.prototype.mustUseProperty=!1;Ln.prototype.defined=!1;let z7=0;const je=hi(),wt=hi(),UC=hi(),oe=hi(),nt=hi(),qi=hi(),fn=hi();function hi(){return 2**++z7}const pf=Object.freeze(Object.defineProperty({__proto__:null,boolean:je,booleanish:wt,commaOrSpaceSeparated:fn,commaSeparated:qi,number:oe,overloadedBoolean:UC,spaceSeparated:nt},Symbol.toStringTag,{value:"Module"})),zd=Object.keys(pf);class Vp extends Ln{constructor(t,n,r,s){let i=-1;if(super(t,n),Wb(this,"space",s),typeof r=="number")for(;++i<zd.length;){const a=zd[i];Wb(this,zd[i],(r&pf[a])===pf[a])}}}Vp.prototype.defined=!0;function Wb(e,t,n){n&&(e[t]=n)}const q7={}.hasOwnProperty;function ka(e){const t={},n={};let r;for(r in e.properties)if(q7.call(e.properties,r)){const s=e.properties[r],i=new Vp(r,e.transform(e.attributes||{},r),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),t[r]=i,n[mf(r)]=r,n[mf(i.attribute)]=r}return new gl(t,n,e.space)}const HC=ka({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),$C=ka({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function VC(e,t){return t in e?e[t]:t}function zC(e,t){return VC(e,t.toLowerCase())}const qC=ka({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:zC,properties:{xmlns:null,xmlnsXLink:null}}),GC=ka({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:wt,ariaAutoComplete:null,ariaBusy:wt,ariaChecked:wt,ariaColCount:oe,ariaColIndex:oe,ariaColSpan:oe,ariaControls:nt,ariaCurrent:null,ariaDescribedBy:nt,ariaDetails:null,ariaDisabled:wt,ariaDropEffect:nt,ariaErrorMessage:null,ariaExpanded:wt,ariaFlowTo:nt,ariaGrabbed:wt,ariaHasPopup:null,ariaHidden:wt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:nt,ariaLevel:oe,ariaLive:null,ariaModal:wt,ariaMultiLine:wt,ariaMultiSelectable:wt,ariaOrientation:null,ariaOwns:nt,ariaPlaceholder:null,ariaPosInSet:oe,ariaPressed:wt,ariaReadOnly:wt,ariaRelevant:null,ariaRequired:wt,ariaRoleDescription:nt,ariaRowCount:oe,ariaRowIndex:oe,ariaRowSpan:oe,ariaSelected:wt,ariaSetSize:oe,ariaSort:null,ariaValueMax:oe,ariaValueMin:oe,ariaValueNow:oe,ariaValueText:null,role:null}}),G7=ka({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:zC,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:qi,acceptCharset:nt,accessKey:nt,action:null,allow:null,allowFullScreen:je,allowPaymentRequest:je,allowUserMedia:je,alt:null,as:null,async:je,autoCapitalize:null,autoComplete:nt,autoFocus:je,autoPlay:je,blocking:nt,capture:null,charSet:null,checked:je,cite:null,className:nt,cols:oe,colSpan:null,content:null,contentEditable:wt,controls:je,controlsList:nt,coords:oe|qi,crossOrigin:null,data:null,dateTime:null,decoding:null,default:je,defer:je,dir:null,dirName:null,disabled:je,download:UC,draggable:wt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:je,formTarget:null,headers:nt,height:oe,hidden:je,high:oe,href:null,hrefLang:null,htmlFor:nt,httpEquiv:nt,id:null,imageSizes:null,imageSrcSet:null,inert:je,inputMode:null,integrity:null,is:null,isMap:je,itemId:null,itemProp:nt,itemRef:nt,itemScope:je,itemType:nt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:je,low:oe,manifest:null,max:null,maxLength:oe,media:null,method:null,min:null,minLength:oe,multiple:je,muted:je,name:null,nonce:null,noModule:je,noValidate:je,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:je,optimum:oe,pattern:null,ping:nt,placeholder:null,playsInline:je,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:je,referrerPolicy:null,rel:nt,required:je,reversed:je,rows:oe,rowSpan:oe,sandbox:nt,scope:null,scoped:je,seamless:je,selected:je,shadowRootClonable:je,shadowRootDelegatesFocus:je,shadowRootMode:null,shape:null,size:oe,sizes:null,slot:null,span:oe,spellCheck:wt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:oe,step:null,style:null,tabIndex:oe,target:null,title:null,translate:null,type:null,typeMustMatch:je,useMap:null,value:wt,width:oe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:nt,axis:null,background:null,bgColor:null,border:oe,borderColor:null,bottomMargin:oe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:je,declare:je,event:null,face:null,frame:null,frameBorder:null,hSpace:oe,leftMargin:oe,link:null,longDesc:null,lowSrc:null,marginHeight:oe,marginWidth:oe,noResize:je,noHref:je,noShade:je,noWrap:je,object:null,profile:null,prompt:null,rev:null,rightMargin:oe,rules:null,scheme:null,scrolling:wt,standby:null,summary:null,text:null,topMargin:oe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:oe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:je,disableRemotePlayback:je,prefix:null,property:null,results:oe,security:null,unselectable:null}}),W7=ka({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:VC,properties:{about:fn,accentHeight:oe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:oe,amplitude:oe,arabicForm:null,ascent:oe,attributeName:null,attributeType:null,azimuth:oe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:oe,by:null,calcMode:null,capHeight:oe,className:nt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:oe,diffuseConstant:oe,direction:null,display:null,dur:null,divisor:oe,dominantBaseline:null,download:je,dx:null,dy:null,edgeMode:null,editable:null,elevation:oe,enableBackground:null,end:null,event:null,exponent:oe,externalResourcesRequired:null,fill:null,fillOpacity:oe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:qi,g2:qi,glyphName:qi,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:oe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:oe,horizOriginX:oe,horizOriginY:oe,id:null,ideographic:oe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:oe,k:oe,k1:oe,k2:oe,k3:oe,k4:oe,kernelMatrix:fn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:oe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:oe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:oe,overlineThickness:oe,paintOrder:null,panose1:null,path:null,pathLength:oe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:nt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:oe,pointsAtY:oe,pointsAtZ:oe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:fn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:fn,rev:fn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:fn,requiredFeatures:fn,requiredFonts:fn,requiredFormats:fn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:oe,specularExponent:oe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:oe,strikethroughThickness:oe,string:null,stroke:null,strokeDashArray:fn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:oe,strokeOpacity:oe,strokeWidth:null,style:null,surfaceScale:oe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:fn,tabIndex:oe,tableValues:null,target:null,targetX:oe,targetY:oe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:fn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:oe,underlineThickness:oe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:oe,values:null,vAlphabetic:oe,vMathematical:oe,vectorEffect:null,vHanging:oe,vIdeographic:oe,version:null,vertAdvY:oe,vertOriginX:oe,vertOriginY:oe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:oe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),Y7=/^data[-\w.:]+$/i,Yb=/-[a-z]/g,K7=/[A-Z]/g;function X7(e,t){const n=mf(t);let r=t,s=Ln;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Y7.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(Yb,J7);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!Yb.test(i)){let a=i.replace(K7,Q7);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}s=Vp}return new s(r,t)}function Q7(e){return"-"+e.toLowerCase()}function J7(e){return e.charAt(1).toUpperCase()}const Z7=BC([$C,HC,qC,GC,G7],"html"),WC=BC([$C,HC,qC,GC,W7],"svg"),Kb={}.hasOwnProperty;function YC(e,t){const n=t||{};function r(s,...i){let a=r.invalid;const o=r.handlers;if(s&&Kb.call(s,e)){const l=String(s[e]);a=Kb.call(o,l)?o[l]:r.unknown}if(a)return a.call(this,s,...i)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const eV={},tV={}.hasOwnProperty,KC=YC("type",{handlers:{root:rV,element:lV,text:aV,comment:oV,doctype:iV}});function nV(e,t){const r=(t||eV).space;return KC(e,r==="svg"?WC:Z7)}function rV(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=zp(e.children,n,t),Ia(e,n),n}function sV(e,t){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=zp(e.children,n,t),Ia(e,n),n}function iV(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return Ia(e,t),t}function aV(e){const t={nodeName:"#text",value:e.value,parentNode:null};return Ia(e,t),t}function oV(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return Ia(e,t),t}function lV(e,t){const n=t;let r=n;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=WC);const s=[];let i;if(e.properties){for(i in e.properties)if(i!=="children"&&tV.call(e.properties,i)){const l=uV(r,i,e.properties[i]);l&&s.push(l)}}const a=r.space,o={nodeName:e.tagName,tagName:e.tagName,attrs:s,namespaceURI:zs[a],childNodes:[],parentNode:null};return o.childNodes=zp(e.children,o,r),Ia(e,o),e.tagName==="template"&&e.content&&(o.content=sV(e.content,r)),o}function uV(e,t,n){const r=X7(e,t);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?ZS(n):lC(n));const s={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const i=s.name.indexOf(":");i<0?s.prefix="":(s.name=s.name.slice(i+1),s.prefix=r.attribute.slice(0,i)),s.namespace=zs[r.space]}return s}function zp(e,t,n){let r=-1;const s=[];if(e)for(;++r<e.length;){const i=KC(e[r],n);i.parentNode=t,s.push(i)}return s}function Ia(e,t){const n=e.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const cV=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],dV=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),ot="";var A;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(A||(A={}));const en={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function XC(e){return e>=55296&&e<=57343}function hV(e){return e>=56320&&e<=57343}function fV(e,t){return(e-55296)*1024+9216+t}function QC(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function JC(e){return e>=64976&&e<=65007||dV.has(e)}var q;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(q||(q={}));const mV=65536;class pV{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=mV,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,n){const{line:r,col:s,offset:i}=this,a=s+n,o=i+n;return{code:t,startLine:r,endLine:r,startCol:a,endCol:a,startOffset:o,endOffset:o}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(hV(n))return this.pos++,this._addGap(),fV(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,A.EOF;return this._err(q.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,A.EOF;const r=this.html.charCodeAt(n);return r===A.CARRIAGE_RETURN?A.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,A.EOF;let t=this.html.charCodeAt(this.pos);return t===A.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,A.LINE_FEED):t===A.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,XC(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===A.LINE_FEED||t===A.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){QC(t)?this._err(q.controlCharacterInInputStream):JC(t)&&this._err(q.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var He;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(He||(He={}));function ZC(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const eA=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),gV=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var qd;const yV=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),bV=(qd=String.fromCodePoint)!==null&&qd!==void 0?qd:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function xV(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=yV.get(e))!==null&&t!==void 0?t:e}var Nt;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(Nt||(Nt={}));const vV=32;var bs;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(bs||(bs={}));function gf(e){return e>=Nt.ZERO&&e<=Nt.NINE}function EV(e){return e>=Nt.UPPER_A&&e<=Nt.UPPER_F||e>=Nt.LOWER_A&&e<=Nt.LOWER_F}function wV(e){return e>=Nt.UPPER_A&&e<=Nt.UPPER_Z||e>=Nt.LOWER_A&&e<=Nt.LOWER_Z||gf(e)}function TV(e){return e===Nt.EQUALS||wV(e)}var Ct;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(Ct||(Ct={}));var Fr;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(Fr||(Fr={}));class tA{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=Ct.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Fr.Strict}startEntity(t){this.decodeMode=t,this.state=Ct.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case Ct.EntityStart:return t.charCodeAt(n)===Nt.NUM?(this.state=Ct.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=Ct.NamedEntity,this.stateNamedEntity(t,n));case Ct.NumericStart:return this.stateNumericStart(t,n);case Ct.NumericDecimal:return this.stateNumericDecimal(t,n);case Ct.NumericHex:return this.stateNumericHex(t,n);case Ct.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|vV)===Nt.LOWER_X?(this.state=Ct.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=Ct.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,s){if(n!==r){const i=r-n;this.result=this.result*Math.pow(s,i)+parseInt(t.substr(n,i),s),this.consumed+=i}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const s=t.charCodeAt(n);if(gf(s)||EV(s))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(s,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const s=t.charCodeAt(n);if(gf(s))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(s,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===Nt.SEMI)this.consumed+=1;else if(this.decodeMode===Fr.Strict)return 0;return this.emitCodePoint(xV(this.result),this.consumed),this.errors&&(t!==Nt.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let s=r[this.treeIndex],i=(s&bs.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const a=t.charCodeAt(n);if(this.treeIndex=_V(r,s,this.treeIndex+Math.max(1,i),a),this.treeIndex<0)return this.result===0||this.decodeMode===Fr.Attribute&&(i===0||TV(a))?0:this.emitNotTerminatedNamedEntity();if(s=r[this.treeIndex],i=(s&bs.VALUE_LENGTH)>>14,i!==0){if(a===Nt.SEMI)return this.emitNamedEntityData(this.treeIndex,i,this.consumed+this.excess);this.decodeMode!==Fr.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,s=(r[n]&bs.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,s,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:s}=this;return this.emitCodePoint(n===1?s[t]&~bs.VALUE_LENGTH:s[t+1],r),n===3&&this.emitCodePoint(s[t+2],r),r}end(){var t;switch(this.state){case Ct.NamedEntity:return this.result!==0&&(this.decodeMode!==Fr.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Ct.NumericDecimal:return this.emitNumericEntity(0,2);case Ct.NumericHex:return this.emitNumericEntity(0,3);case Ct.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Ct.EntityStart:return 0}}}function nA(e){let t="";const n=new tA(e,r=>t+=bV(r));return function(s,i){let a=0,o=0;for(;(o=s.indexOf("&",o))>=0;){t+=s.slice(a,o),n.startEntity(i);const d=n.write(s,o+1);if(d<0){a=o+n.end();break}a=o+d,o=d===0?a+1:a}const l=t+s.slice(a);return t="",l}}function _V(e,t,n,r){const s=(t&bs.BRANCH_LENGTH)>>7,i=t&bs.JUMP_TABLE;if(s===0)return i!==0&&r===i?n:-1;if(i){const l=r-i;return l<0||l>=s?-1:e[n+l]-1}let a=n,o=a+s-1;for(;a<=o;){const l=a+o>>>1,d=e[l];if(d<r)a=l+1;else if(d>r)o=l-1;else return e[l+s]}return-1}nA(eA);nA(gV);var ne;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(ne||(ne={}));var ei;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(ei||(ei={}));var In;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(In||(In={}));var H;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(H||(H={}));var p;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(p||(p={}));const SV=new Map([[H.A,p.A],[H.ADDRESS,p.ADDRESS],[H.ANNOTATION_XML,p.ANNOTATION_XML],[H.APPLET,p.APPLET],[H.AREA,p.AREA],[H.ARTICLE,p.ARTICLE],[H.ASIDE,p.ASIDE],[H.B,p.B],[H.BASE,p.BASE],[H.BASEFONT,p.BASEFONT],[H.BGSOUND,p.BGSOUND],[H.BIG,p.BIG],[H.BLOCKQUOTE,p.BLOCKQUOTE],[H.BODY,p.BODY],[H.BR,p.BR],[H.BUTTON,p.BUTTON],[H.CAPTION,p.CAPTION],[H.CENTER,p.CENTER],[H.CODE,p.CODE],[H.COL,p.COL],[H.COLGROUP,p.COLGROUP],[H.DD,p.DD],[H.DESC,p.DESC],[H.DETAILS,p.DETAILS],[H.DIALOG,p.DIALOG],[H.DIR,p.DIR],[H.DIV,p.DIV],[H.DL,p.DL],[H.DT,p.DT],[H.EM,p.EM],[H.EMBED,p.EMBED],[H.FIELDSET,p.FIELDSET],[H.FIGCAPTION,p.FIGCAPTION],[H.FIGURE,p.FIGURE],[H.FONT,p.FONT],[H.FOOTER,p.FOOTER],[H.FOREIGN_OBJECT,p.FOREIGN_OBJECT],[H.FORM,p.FORM],[H.FRAME,p.FRAME],[H.FRAMESET,p.FRAMESET],[H.H1,p.H1],[H.H2,p.H2],[H.H3,p.H3],[H.H4,p.H4],[H.H5,p.H5],[H.H6,p.H6],[H.HEAD,p.HEAD],[H.HEADER,p.HEADER],[H.HGROUP,p.HGROUP],[H.HR,p.HR],[H.HTML,p.HTML],[H.I,p.I],[H.IMG,p.IMG],[H.IMAGE,p.IMAGE],[H.INPUT,p.INPUT],[H.IFRAME,p.IFRAME],[H.KEYGEN,p.KEYGEN],[H.LABEL,p.LABEL],[H.LI,p.LI],[H.LINK,p.LINK],[H.LISTING,p.LISTING],[H.MAIN,p.MAIN],[H.MALIGNMARK,p.MALIGNMARK],[H.MARQUEE,p.MARQUEE],[H.MATH,p.MATH],[H.MENU,p.MENU],[H.META,p.META],[H.MGLYPH,p.MGLYPH],[H.MI,p.MI],[H.MO,p.MO],[H.MN,p.MN],[H.MS,p.MS],[H.MTEXT,p.MTEXT],[H.NAV,p.NAV],[H.NOBR,p.NOBR],[H.NOFRAMES,p.NOFRAMES],[H.NOEMBED,p.NOEMBED],[H.NOSCRIPT,p.NOSCRIPT],[H.OBJECT,p.OBJECT],[H.OL,p.OL],[H.OPTGROUP,p.OPTGROUP],[H.OPTION,p.OPTION],[H.P,p.P],[H.PARAM,p.PARAM],[H.PLAINTEXT,p.PLAINTEXT],[H.PRE,p.PRE],[H.RB,p.RB],[H.RP,p.RP],[H.RT,p.RT],[H.RTC,p.RTC],[H.RUBY,p.RUBY],[H.S,p.S],[H.SCRIPT,p.SCRIPT],[H.SEARCH,p.SEARCH],[H.SECTION,p.SECTION],[H.SELECT,p.SELECT],[H.SOURCE,p.SOURCE],[H.SMALL,p.SMALL],[H.SPAN,p.SPAN],[H.STRIKE,p.STRIKE],[H.STRONG,p.STRONG],[H.STYLE,p.STYLE],[H.SUB,p.SUB],[H.SUMMARY,p.SUMMARY],[H.SUP,p.SUP],[H.TABLE,p.TABLE],[H.TBODY,p.TBODY],[H.TEMPLATE,p.TEMPLATE],[H.TEXTAREA,p.TEXTAREA],[H.TFOOT,p.TFOOT],[H.TD,p.TD],[H.TH,p.TH],[H.THEAD,p.THEAD],[H.TITLE,p.TITLE],[H.TR,p.TR],[H.TRACK,p.TRACK],[H.TT,p.TT],[H.U,p.U],[H.UL,p.UL],[H.SVG,p.SVG],[H.VAR,p.VAR],[H.WBR,p.WBR],[H.XMP,p.XMP]]);function Ra(e){var t;return(t=SV.get(e))!==null&&t!==void 0?t:p.UNKNOWN}const re=p,CV={[ne.HTML]:new Set([re.ADDRESS,re.APPLET,re.AREA,re.ARTICLE,re.ASIDE,re.BASE,re.BASEFONT,re.BGSOUND,re.BLOCKQUOTE,re.BODY,re.BR,re.BUTTON,re.CAPTION,re.CENTER,re.COL,re.COLGROUP,re.DD,re.DETAILS,re.DIR,re.DIV,re.DL,re.DT,re.EMBED,re.FIELDSET,re.FIGCAPTION,re.FIGURE,re.FOOTER,re.FORM,re.FRAME,re.FRAMESET,re.H1,re.H2,re.H3,re.H4,re.H5,re.H6,re.HEAD,re.HEADER,re.HGROUP,re.HR,re.HTML,re.IFRAME,re.IMG,re.INPUT,re.LI,re.LINK,re.LISTING,re.MAIN,re.MARQUEE,re.MENU,re.META,re.NAV,re.NOEMBED,re.NOFRAMES,re.NOSCRIPT,re.OBJECT,re.OL,re.P,re.PARAM,re.PLAINTEXT,re.PRE,re.SCRIPT,re.SECTION,re.SELECT,re.SOURCE,re.STYLE,re.SUMMARY,re.TABLE,re.TBODY,re.TD,re.TEMPLATE,re.TEXTAREA,re.TFOOT,re.TH,re.THEAD,re.TITLE,re.TR,re.TRACK,re.UL,re.WBR,re.XMP]),[ne.MATHML]:new Set([re.MI,re.MO,re.MN,re.MS,re.MTEXT,re.ANNOTATION_XML]),[ne.SVG]:new Set([re.TITLE,re.FOREIGN_OBJECT,re.DESC]),[ne.XLINK]:new Set,[ne.XML]:new Set,[ne.XMLNS]:new Set},yf=new Set([re.H1,re.H2,re.H3,re.H4,re.H5,re.H6]);H.STYLE,H.SCRIPT,H.XMP,H.IFRAME,H.NOEMBED,H.NOFRAMES,H.PLAINTEXT;var N;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(N||(N={}));const xt={DATA:N.DATA,RCDATA:N.RCDATA,RAWTEXT:N.RAWTEXT,SCRIPT_DATA:N.SCRIPT_DATA,PLAINTEXT:N.PLAINTEXT,CDATA_SECTION:N.CDATA_SECTION};function AV(e){return e>=A.DIGIT_0&&e<=A.DIGIT_9}function Za(e){return e>=A.LATIN_CAPITAL_A&&e<=A.LATIN_CAPITAL_Z}function NV(e){return e>=A.LATIN_SMALL_A&&e<=A.LATIN_SMALL_Z}function os(e){return NV(e)||Za(e)}function Xb(e){return os(e)||AV(e)}function Ul(e){return e+32}function rA(e){return e===A.SPACE||e===A.LINE_FEED||e===A.TABULATION||e===A.FORM_FEED}function Qb(e){return rA(e)||e===A.SOLIDUS||e===A.GREATER_THAN_SIGN}function kV(e){return e===A.NULL?q.nullCharacterReference:e>1114111?q.characterReferenceOutsideUnicodeRange:XC(e)?q.surrogateCharacterReference:JC(e)?q.noncharacterCharacterReference:QC(e)||e===A.CARRIAGE_RETURN?q.controlCharacterReference:null}class IV{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=N.DATA,this.returnState=N.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new pV(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new tA(eA,(r,s)=>{this.preprocessor.pos=this.entityStartPos+s-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(q.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err(q.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const s=kV(r);s&&this._err(s,1)}}:void 0)}_err(t,n=0){var r,s;(s=(r=this.handler).onParseError)===null||s===void 0||s.call(r,this.preprocessor.getError(t,n))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t==null||t())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r==null||r()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:He.START_TAG,tagName:"",tagID:p.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:He.END_TAG,tagName:"",tagID:p.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:He.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:He.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(ZC(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const s=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);s[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(q.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=Ra(t.tagName),t.type===He.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(q.endTagWithAttributes),t.selfClosing&&this._err(q.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case He.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case He.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case He.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:He.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,n)}_emitCodePoint(t){const n=rA(t)?He.WHITESPACE_CHARACTER:t===A.NULL?He.NULL_CHARACTER:He.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(He.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=N.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?Fr.Attribute:Fr.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===N.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===N.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===N.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case N.DATA:{this._stateData(t);break}case N.RCDATA:{this._stateRcdata(t);break}case N.RAWTEXT:{this._stateRawtext(t);break}case N.SCRIPT_DATA:{this._stateScriptData(t);break}case N.PLAINTEXT:{this._statePlaintext(t);break}case N.TAG_OPEN:{this._stateTagOpen(t);break}case N.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case N.TAG_NAME:{this._stateTagName(t);break}case N.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case N.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case N.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case N.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case N.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case N.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case N.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case N.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case N.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case N.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case N.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case N.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case N.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case N.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case N.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case N.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case N.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case N.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case N.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case N.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case N.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case N.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case N.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case N.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case N.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case N.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case N.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case N.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case N.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case N.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case N.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case N.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case N.BOGUS_COMMENT:{this._stateBogusComment(t);break}case N.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case N.COMMENT_START:{this._stateCommentStart(t);break}case N.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case N.COMMENT:{this._stateComment(t);break}case N.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case N.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case N.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case N.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case N.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case N.COMMENT_END:{this._stateCommentEnd(t);break}case N.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case N.DOCTYPE:{this._stateDoctype(t);break}case N.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case N.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case N.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case N.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case N.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case N.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case N.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case N.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case N.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case N.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case N.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case N.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case N.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case N.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case N.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case N.CDATA_SECTION:{this._stateCdataSection(t);break}case N.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case N.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case N.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case N.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case A.LESS_THAN_SIGN:{this.state=N.TAG_OPEN;break}case A.AMPERSAND:{this._startCharacterReference();break}case A.NULL:{this._err(q.unexpectedNullCharacter),this._emitCodePoint(t);break}case A.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case A.AMPERSAND:{this._startCharacterReference();break}case A.LESS_THAN_SIGN:{this.state=N.RCDATA_LESS_THAN_SIGN;break}case A.NULL:{this._err(q.unexpectedNullCharacter),this._emitChars(ot);break}case A.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case A.LESS_THAN_SIGN:{this.state=N.RAWTEXT_LESS_THAN_SIGN;break}case A.NULL:{this._err(q.unexpectedNullCharacter),this._emitChars(ot);break}case A.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case A.LESS_THAN_SIGN:{this.state=N.SCRIPT_DATA_LESS_THAN_SIGN;break}case A.NULL:{this._err(q.unexpectedNullCharacter),this._emitChars(ot);break}case A.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case A.NULL:{this._err(q.unexpectedNullCharacter),this._emitChars(ot);break}case A.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(os(t))this._createStartTagToken(),this.state=N.TAG_NAME,this._stateTagName(t);else switch(t){case A.EXCLAMATION_MARK:{this.state=N.MARKUP_DECLARATION_OPEN;break}case A.SOLIDUS:{this.state=N.END_TAG_OPEN;break}case A.QUESTION_MARK:{this._err(q.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=N.BOGUS_COMMENT,this._stateBogusComment(t);break}case A.EOF:{this._err(q.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(q.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=N.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(os(t))this._createEndTagToken(),this.state=N.TAG_NAME,this._stateTagName(t);else switch(t){case A.GREATER_THAN_SIGN:{this._err(q.missingEndTagName),this.state=N.DATA;break}case A.EOF:{this._err(q.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(q.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=N.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:{this.state=N.BEFORE_ATTRIBUTE_NAME;break}case A.SOLIDUS:{this.state=N.SELF_CLOSING_START_TAG;break}case A.GREATER_THAN_SIGN:{this.state=N.DATA,this.emitCurrentTagToken();break}case A.NULL:{this._err(q.unexpectedNullCharacter),n.tagName+=ot;break}case A.EOF:{this._err(q.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(Za(t)?Ul(t):t)}}_stateRcdataLessThanSign(t){t===A.SOLIDUS?this.state=N.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=N.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){os(t)?(this.state=N.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=N.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=N.BEFORE_ATTRIBUTE_NAME,!1;case A.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=N.SELF_CLOSING_START_TAG,!1;case A.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=N.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=N.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===A.SOLIDUS?this.state=N.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=N.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){os(t)?(this.state=N.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=N.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=N.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case A.SOLIDUS:{this.state=N.SCRIPT_DATA_END_TAG_OPEN;break}case A.EXCLAMATION_MARK:{this.state=N.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=N.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){os(t)?(this.state=N.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=N.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=N.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===A.HYPHEN_MINUS?(this.state=N.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=N.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===A.HYPHEN_MINUS?(this.state=N.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=N.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case A.HYPHEN_MINUS:{this.state=N.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case A.LESS_THAN_SIGN:{this.state=N.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case A.NULL:{this._err(q.unexpectedNullCharacter),this._emitChars(ot);break}case A.EOF:{this._err(q.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case A.HYPHEN_MINUS:{this.state=N.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case A.LESS_THAN_SIGN:{this.state=N.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case A.NULL:{this._err(q.unexpectedNullCharacter),this.state=N.SCRIPT_DATA_ESCAPED,this._emitChars(ot);break}case A.EOF:{this._err(q.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=N.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case A.HYPHEN_MINUS:{this._emitChars("-");break}case A.LESS_THAN_SIGN:{this.state=N.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case A.GREATER_THAN_SIGN:{this.state=N.SCRIPT_DATA,this._emitChars(">");break}case A.NULL:{this._err(q.unexpectedNullCharacter),this.state=N.SCRIPT_DATA_ESCAPED,this._emitChars(ot);break}case A.EOF:{this._err(q.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=N.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===A.SOLIDUS?this.state=N.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:os(t)?(this._emitChars("<"),this.state=N.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=N.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){os(t)?(this.state=N.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=N.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=N.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(en.SCRIPT,!1)&&Qb(this.preprocessor.peek(en.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<en.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=N.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=N.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case A.HYPHEN_MINUS:{this.state=N.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case A.LESS_THAN_SIGN:{this.state=N.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case A.NULL:{this._err(q.unexpectedNullCharacter),this._emitChars(ot);break}case A.EOF:{this._err(q.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case A.HYPHEN_MINUS:{this.state=N.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case A.LESS_THAN_SIGN:{this.state=N.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case A.NULL:{this._err(q.unexpectedNullCharacter),this.state=N.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(ot);break}case A.EOF:{this._err(q.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=N.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case A.HYPHEN_MINUS:{this._emitChars("-");break}case A.LESS_THAN_SIGN:{this.state=N.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case A.GREATER_THAN_SIGN:{this.state=N.SCRIPT_DATA,this._emitChars(">");break}case A.NULL:{this._err(q.unexpectedNullCharacter),this.state=N.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(ot);break}case A.EOF:{this._err(q.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=N.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===A.SOLIDUS?(this.state=N.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=N.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(en.SCRIPT,!1)&&Qb(this.preprocessor.peek(en.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<en.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=N.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=N.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.SOLIDUS:case A.GREATER_THAN_SIGN:case A.EOF:{this.state=N.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case A.EQUALS_SIGN:{this._err(q.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=N.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=N.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:case A.SOLIDUS:case A.GREATER_THAN_SIGN:case A.EOF:{this._leaveAttrName(),this.state=N.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case A.EQUALS_SIGN:{this._leaveAttrName(),this.state=N.BEFORE_ATTRIBUTE_VALUE;break}case A.QUOTATION_MARK:case A.APOSTROPHE:case A.LESS_THAN_SIGN:{this._err(q.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case A.NULL:{this._err(q.unexpectedNullCharacter),this.currentAttr.name+=ot;break}default:this.currentAttr.name+=String.fromCodePoint(Za(t)?Ul(t):t)}}_stateAfterAttributeName(t){switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.SOLIDUS:{this.state=N.SELF_CLOSING_START_TAG;break}case A.EQUALS_SIGN:{this.state=N.BEFORE_ATTRIBUTE_VALUE;break}case A.GREATER_THAN_SIGN:{this.state=N.DATA,this.emitCurrentTagToken();break}case A.EOF:{this._err(q.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=N.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.QUOTATION_MARK:{this.state=N.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case A.APOSTROPHE:{this.state=N.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case A.GREATER_THAN_SIGN:{this._err(q.missingAttributeValue),this.state=N.DATA,this.emitCurrentTagToken();break}default:this.state=N.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case A.QUOTATION_MARK:{this.state=N.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case A.AMPERSAND:{this._startCharacterReference();break}case A.NULL:{this._err(q.unexpectedNullCharacter),this.currentAttr.value+=ot;break}case A.EOF:{this._err(q.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case A.APOSTROPHE:{this.state=N.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case A.AMPERSAND:{this._startCharacterReference();break}case A.NULL:{this._err(q.unexpectedNullCharacter),this.currentAttr.value+=ot;break}case A.EOF:{this._err(q.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:{this._leaveAttrValue(),this.state=N.BEFORE_ATTRIBUTE_NAME;break}case A.AMPERSAND:{this._startCharacterReference();break}case A.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=N.DATA,this.emitCurrentTagToken();break}case A.NULL:{this._err(q.unexpectedNullCharacter),this.currentAttr.value+=ot;break}case A.QUOTATION_MARK:case A.APOSTROPHE:case A.LESS_THAN_SIGN:case A.EQUALS_SIGN:case A.GRAVE_ACCENT:{this._err(q.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case A.EOF:{this._err(q.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:{this._leaveAttrValue(),this.state=N.BEFORE_ATTRIBUTE_NAME;break}case A.SOLIDUS:{this._leaveAttrValue(),this.state=N.SELF_CLOSING_START_TAG;break}case A.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=N.DATA,this.emitCurrentTagToken();break}case A.EOF:{this._err(q.eofInTag),this._emitEOFToken();break}default:this._err(q.missingWhitespaceBetweenAttributes),this.state=N.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case A.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=N.DATA,this.emitCurrentTagToken();break}case A.EOF:{this._err(q.eofInTag),this._emitEOFToken();break}default:this._err(q.unexpectedSolidusInTag),this.state=N.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case A.GREATER_THAN_SIGN:{this.state=N.DATA,this.emitCurrentComment(n);break}case A.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case A.NULL:{this._err(q.unexpectedNullCharacter),n.data+=ot;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(en.DASH_DASH,!0)?(this._createCommentToken(en.DASH_DASH.length+1),this.state=N.COMMENT_START):this._consumeSequenceIfMatch(en.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(en.DOCTYPE.length+1),this.state=N.DOCTYPE):this._consumeSequenceIfMatch(en.CDATA_START,!0)?this.inForeignNode?this.state=N.CDATA_SECTION:(this._err(q.cdataInHtmlContent),this._createCommentToken(en.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=N.BOGUS_COMMENT):this._ensureHibernation()||(this._err(q.incorrectlyOpenedComment),this._createCommentToken(2),this.state=N.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case A.HYPHEN_MINUS:{this.state=N.COMMENT_START_DASH;break}case A.GREATER_THAN_SIGN:{this._err(q.abruptClosingOfEmptyComment),this.state=N.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=N.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case A.HYPHEN_MINUS:{this.state=N.COMMENT_END;break}case A.GREATER_THAN_SIGN:{this._err(q.abruptClosingOfEmptyComment),this.state=N.DATA,this.emitCurrentComment(n);break}case A.EOF:{this._err(q.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=N.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case A.HYPHEN_MINUS:{this.state=N.COMMENT_END_DASH;break}case A.LESS_THAN_SIGN:{n.data+="<",this.state=N.COMMENT_LESS_THAN_SIGN;break}case A.NULL:{this._err(q.unexpectedNullCharacter),n.data+=ot;break}case A.EOF:{this._err(q.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case A.EXCLAMATION_MARK:{n.data+="!",this.state=N.COMMENT_LESS_THAN_SIGN_BANG;break}case A.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=N.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===A.HYPHEN_MINUS?this.state=N.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=N.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===A.HYPHEN_MINUS?this.state=N.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=N.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==A.GREATER_THAN_SIGN&&t!==A.EOF&&this._err(q.nestedComment),this.state=N.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case A.HYPHEN_MINUS:{this.state=N.COMMENT_END;break}case A.EOF:{this._err(q.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=N.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case A.GREATER_THAN_SIGN:{this.state=N.DATA,this.emitCurrentComment(n);break}case A.EXCLAMATION_MARK:{this.state=N.COMMENT_END_BANG;break}case A.HYPHEN_MINUS:{n.data+="-";break}case A.EOF:{this._err(q.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=N.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case A.HYPHEN_MINUS:{n.data+="--!",this.state=N.COMMENT_END_DASH;break}case A.GREATER_THAN_SIGN:{this._err(q.incorrectlyClosedComment),this.state=N.DATA,this.emitCurrentComment(n);break}case A.EOF:{this._err(q.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=N.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:{this.state=N.BEFORE_DOCTYPE_NAME;break}case A.GREATER_THAN_SIGN:{this.state=N.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case A.EOF:{this._err(q.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(q.missingWhitespaceBeforeDoctypeName),this.state=N.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(Za(t))this._createDoctypeToken(String.fromCharCode(Ul(t))),this.state=N.DOCTYPE_NAME;else switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.NULL:{this._err(q.unexpectedNullCharacter),this._createDoctypeToken(ot),this.state=N.DOCTYPE_NAME;break}case A.GREATER_THAN_SIGN:{this._err(q.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=N.DATA;break}case A.EOF:{this._err(q.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=N.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:{this.state=N.AFTER_DOCTYPE_NAME;break}case A.GREATER_THAN_SIGN:{this.state=N.DATA,this.emitCurrentDoctype(n);break}case A.NULL:{this._err(q.unexpectedNullCharacter),n.name+=ot;break}case A.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(Za(t)?Ul(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.GREATER_THAN_SIGN:{this.state=N.DATA,this.emitCurrentDoctype(n);break}case A.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(en.PUBLIC,!1)?this.state=N.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(en.SYSTEM,!1)?this.state=N.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(q.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=N.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:{this.state=N.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case A.QUOTATION_MARK:{this._err(q.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=N.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case A.APOSTROPHE:{this._err(q.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=N.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case A.GREATER_THAN_SIGN:{this._err(q.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=N.DATA,this.emitCurrentDoctype(n);break}case A.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(q.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=N.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.QUOTATION_MARK:{n.publicId="",this.state=N.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case A.APOSTROPHE:{n.publicId="",this.state=N.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case A.GREATER_THAN_SIGN:{this._err(q.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=N.DATA,this.emitCurrentDoctype(n);break}case A.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(q.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=N.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case A.QUOTATION_MARK:{this.state=N.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case A.NULL:{this._err(q.unexpectedNullCharacter),n.publicId+=ot;break}case A.GREATER_THAN_SIGN:{this._err(q.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=N.DATA;break}case A.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case A.APOSTROPHE:{this.state=N.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case A.NULL:{this._err(q.unexpectedNullCharacter),n.publicId+=ot;break}case A.GREATER_THAN_SIGN:{this._err(q.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=N.DATA;break}case A.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:{this.state=N.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case A.GREATER_THAN_SIGN:{this.state=N.DATA,this.emitCurrentDoctype(n);break}case A.QUOTATION_MARK:{this._err(q.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=N.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case A.APOSTROPHE:{this._err(q.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=N.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case A.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(q.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=N.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=N.DATA;break}case A.QUOTATION_MARK:{n.systemId="",this.state=N.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case A.APOSTROPHE:{n.systemId="",this.state=N.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case A.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(q.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=N.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:{this.state=N.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case A.QUOTATION_MARK:{this._err(q.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=N.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case A.APOSTROPHE:{this._err(q.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=N.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case A.GREATER_THAN_SIGN:{this._err(q.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=N.DATA,this.emitCurrentDoctype(n);break}case A.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(q.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=N.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.QUOTATION_MARK:{n.systemId="",this.state=N.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case A.APOSTROPHE:{n.systemId="",this.state=N.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case A.GREATER_THAN_SIGN:{this._err(q.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=N.DATA,this.emitCurrentDoctype(n);break}case A.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(q.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=N.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case A.QUOTATION_MARK:{this.state=N.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case A.NULL:{this._err(q.unexpectedNullCharacter),n.systemId+=ot;break}case A.GREATER_THAN_SIGN:{this._err(q.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=N.DATA;break}case A.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case A.APOSTROPHE:{this.state=N.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case A.NULL:{this._err(q.unexpectedNullCharacter),n.systemId+=ot;break}case A.GREATER_THAN_SIGN:{this._err(q.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=N.DATA;break}case A.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=N.DATA;break}case A.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(q.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=N.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case A.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=N.DATA;break}case A.NULL:{this._err(q.unexpectedNullCharacter);break}case A.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case A.RIGHT_SQUARE_BRACKET:{this.state=N.CDATA_SECTION_BRACKET;break}case A.EOF:{this._err(q.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===A.RIGHT_SQUARE_BRACKET?this.state=N.CDATA_SECTION_END:(this._emitChars("]"),this.state=N.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case A.GREATER_THAN_SIGN:{this.state=N.DATA;break}case A.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=N.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(A.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&Xb(this.preprocessor.peek(1))?N.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){Xb(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===A.SEMICOLON&&this._err(q.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}}const sA=new Set([p.DD,p.DT,p.LI,p.OPTGROUP,p.OPTION,p.P,p.RB,p.RP,p.RT,p.RTC]),Jb=new Set([...sA,p.CAPTION,p.COLGROUP,p.TBODY,p.TD,p.TFOOT,p.TH,p.THEAD,p.TR]),Mu=new Set([p.APPLET,p.CAPTION,p.HTML,p.MARQUEE,p.OBJECT,p.TABLE,p.TD,p.TEMPLATE,p.TH]),RV=new Set([...Mu,p.OL,p.UL]),PV=new Set([...Mu,p.BUTTON]),Zb=new Set([p.ANNOTATION_XML,p.MI,p.MN,p.MO,p.MS,p.MTEXT]),ex=new Set([p.DESC,p.FOREIGN_OBJECT,p.TITLE]),OV=new Set([p.TR,p.TEMPLATE,p.HTML]),DV=new Set([p.TBODY,p.TFOOT,p.THEAD,p.TEMPLATE,p.HTML]),MV=new Set([p.TABLE,p.TEMPLATE,p.HTML]),LV=new Set([p.TD,p.TH]);class jV{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=p.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===p.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===ne.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const s=this._indexOf(t)+1;this.items.splice(s,0,n),this.tagIDs.splice(s,0,r),this.stackTop++,s===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,s===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==ne.HTML);this.shortenToLength(n<0?0:n)}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(n<0?0:n)}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r<0?0:r)}popUntilNumberedHeaderPopped(){this.popUntilPopped(yf,ne.HTML)}popUntilTableCellPopped(){this.popUntilPopped(LV,ne.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(MV,ne.HTML)}clearBackToTableBodyContext(){this.clearBackTo(DV,ne.HTML)}clearBackToTableRowContext(){this.clearBackTo(OV,ne.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===p.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===p.HTML}hasInDynamicScope(t,n){for(let r=this.stackTop;r>=0;r--){const s=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case ne.HTML:{if(s===t)return!0;if(n.has(s))return!1;break}case ne.SVG:{if(ex.has(s))return!1;break}case ne.MATHML:{if(Zb.has(s))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,Mu)}hasInListItemScope(t){return this.hasInDynamicScope(t,RV)}hasInButtonScope(t){return this.hasInDynamicScope(t,PV)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case ne.HTML:{if(yf.has(n))return!0;if(Mu.has(n))return!1;break}case ne.SVG:{if(ex.has(n))return!1;break}case ne.MATHML:{if(Zb.has(n))return!1;break}}}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===ne.HTML)switch(this.tagIDs[n]){case t:return!0;case p.TABLE:case p.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===ne.HTML)switch(this.tagIDs[t]){case p.TBODY:case p.THEAD:case p.TFOOT:return!0;case p.TABLE:case p.HTML:return!1}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===ne.HTML)switch(this.tagIDs[n]){case t:return!0;case p.OPTION:case p.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;sA.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;Jb.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==t&&Jb.has(this.currentTagId);)this.pop()}}const Gd=3;var pr;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(pr||(pr={}));const tx={type:pr.Marker};class FV{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],s=n.length,i=this.treeAdapter.getTagName(t),a=this.treeAdapter.getNamespaceURI(t);for(let o=0;o<this.entries.length;o++){const l=this.entries[o];if(l.type===pr.Marker)break;const{element:d}=l;if(this.treeAdapter.getTagName(d)===i&&this.treeAdapter.getNamespaceURI(d)===a){const c=this.treeAdapter.getAttrList(d);c.length===s&&r.push({idx:o,attrs:c})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<Gd)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<Gd)return;const s=new Map(n.map(a=>[a.name,a.value]));let i=0;for(let a=0;a<r.length;a++){const o=r[a];o.attrs.every(l=>s.get(l.name)===l.value)&&(i+=1,i>=Gd&&this.entries.splice(o.idx,1))}}insertMarker(){this.entries.unshift(tx)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:pr.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:pr.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n>=0&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(tx);t>=0?this.entries.splice(0,t+1):this.entries.length=0}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===pr.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===pr.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===pr.Element&&n.element===t)}}const ls={createDocument(){return{nodeName:"#document",mode:In.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const s=e.childNodes.find(i=>i.nodeName==="#documentType");if(s)s.name=t,s.publicId=n,s.systemId=r;else{const i={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};ls.appendChild(e,i)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(ls.isTextNode(n)){n.value+=t;return}}ls.appendChild(e,ls.createTextNode(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&ls.isTextNode(r)?r.value+=t:ls.insertBefore(e,ls.createTextNode(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},iA="html",BV="about:legacy-compat",UV="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",aA=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],HV=[...aA,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],$V=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),oA=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],VV=[...oA,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function nx(e,t){return t.some(n=>e.startsWith(n))}function zV(e){return e.name===iA&&e.publicId===null&&(e.systemId===null||e.systemId===BV)}function qV(e){if(e.name!==iA)return In.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===UV)return In.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),$V.has(n))return In.QUIRKS;let r=t===null?HV:aA;if(nx(n,r))return In.QUIRKS;if(r=t===null?oA:VV,nx(n,r))return In.LIMITED_QUIRKS}return In.NO_QUIRKS}const rx={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},GV="definitionurl",WV="definitionURL",YV=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),KV=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:ne.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:ne.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:ne.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:ne.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:ne.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:ne.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:ne.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:ne.XML}],["xml:space",{prefix:"xml",name:"space",namespace:ne.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:ne.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:ne.XMLNS}]]),XV=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),QV=new Set([p.B,p.BIG,p.BLOCKQUOTE,p.BODY,p.BR,p.CENTER,p.CODE,p.DD,p.DIV,p.DL,p.DT,p.EM,p.EMBED,p.H1,p.H2,p.H3,p.H4,p.H5,p.H6,p.HEAD,p.HR,p.I,p.IMG,p.LI,p.LISTING,p.MENU,p.META,p.NOBR,p.OL,p.P,p.PRE,p.RUBY,p.S,p.SMALL,p.SPAN,p.STRONG,p.STRIKE,p.SUB,p.SUP,p.TABLE,p.TT,p.U,p.UL,p.VAR]);function JV(e){const t=e.tagID;return t===p.FONT&&e.attrs.some(({name:r})=>r===ei.COLOR||r===ei.SIZE||r===ei.FACE)||QV.has(t)}function lA(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===GV){e.attrs[t].name=WV;break}}function uA(e){for(let t=0;t<e.attrs.length;t++){const n=YV.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function qp(e){for(let t=0;t<e.attrs.length;t++){const n=KV.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function ZV(e){const t=XV.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=Ra(e.tagName))}function ez(e,t){return t===ne.MATHML&&(e===p.MI||e===p.MO||e===p.MN||e===p.MS||e===p.MTEXT)}function tz(e,t,n){if(t===ne.MATHML&&e===p.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===ei.ENCODING){const s=n[r].value.toLowerCase();return s===rx.TEXT_HTML||s===rx.APPLICATION_XML}}return t===ne.SVG&&(e===p.FOREIGN_OBJECT||e===p.DESC||e===p.TITLE)}function nz(e,t,n,r){return(!r||r===ne.HTML)&&tz(e,t,n)||(!r||r===ne.MATHML)&&ez(e,t)}const rz="hidden",sz=8,iz=3;var R;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(R||(R={}));const az={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},cA=new Set([p.TABLE,p.TBODY,p.TFOOT,p.THEAD,p.TR]),sx={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:ls,onParseError:null};class ix{constructor(t,n,r=null,s=null){this.fragmentContext=r,this.scriptHandler=s,this.currentToken=null,this.stopped=!1,this.insertionMode=R.INITIAL,this.originalInsertionMode=R.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...sx,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new IV(this.options,this),this.activeFormattingElements=new FV(this.treeAdapter),this.fragmentContextID=r?Ra(this.treeAdapter.getTagName(r)):p.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new jV(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={...sx,...n};t??(t=r.treeAdapter.createElement(H.TEMPLATE,ne.HTML,[]));const s=r.treeAdapter.createElement("documentmock",ne.HTML,[]),i=new this(r,s,t);return i.fragmentContextID===p.TEMPLATE&&i.tmplInsertionModeStack.unshift(R.IN_TEMPLATE),i._initTokenizerForFragmentParsing(),i._insertFakeRootElement(),i._resetInsertionMode(),i._findFormInFragmentContext(),i}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var s;if(!this.onParseError)return;const i=(s=t.location)!==null&&s!==void 0?s:az,a={code:n,startLine:i.startLine,startCol:i.startCol,startOffset:i.startOffset,endLine:r?i.startLine:i.endLine,endCol:r?i.startCol:i.endCol,endOffset:r?i.startOffset:i.endOffset};this.onParseError(a)}onItemPush(t,n,r){var s,i;(i=(s=this.treeAdapter).onItemPush)===null||i===void 0||i.call(s,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,s;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(s=(r=this.treeAdapter).onItemPop)===null||s===void 0||s.call(r,t,this.openElements.current),n){let i,a;this.openElements.stackTop===0&&this.fragmentContext?(i=this.fragmentContext,a=this.fragmentContextID):{current:i,currentTagId:a}=this.openElements,this._setContextModes(i,a)}}_setContextModes(t,n){const r=t===this.document||this.treeAdapter.getNamespaceURI(t)===ne.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,ne.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=R.TEXT}switchToPlaintextParsing(){this.insertionMode=R.TEXT,this.originalInsertionMode=R.IN_BODY,this.tokenizer.state=xt.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===H.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==ne.HTML))switch(this.fragmentContextID){case p.TITLE:case p.TEXTAREA:{this.tokenizer.state=xt.RCDATA;break}case p.STYLE:case p.XMP:case p.IFRAME:case p.NOEMBED:case p.NOFRAMES:case p.NOSCRIPT:{this.tokenizer.state=xt.RAWTEXT;break}case p.SCRIPT:{this.tokenizer.state=xt.SCRIPT_DATA;break}case p.PLAINTEXT:{this.tokenizer.state=xt.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",s=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,s),t.location){const a=this.treeAdapter.getChildNodes(this.document).find(o=>this.treeAdapter.isDocumentTypeNode(o));a&&this.treeAdapter.setNodeSourceCodeLocation(a,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,ne.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,ne.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(H.HTML,ne.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,p.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const s=this.treeAdapter.getChildNodes(n),i=r?s.lastIndexOf(r):s.length,a=s[i-1];if(this.treeAdapter.getNodeSourceCodeLocation(a)){const{endLine:l,endCol:d,endOffset:c}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(a,{endLine:l,endCol:d,endOffset:c})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(a,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,s=this.treeAdapter.getTagName(t),i=n.type===He.END_TAG&&s===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,i)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===p.SVG&&this.treeAdapter.getTagName(n)===H.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===ne.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===p.MGLYPH||t.tagID===p.MALIGNMARK)&&!this._isIntegrationPoint(r,n,ne.HTML)}_processToken(t){switch(t.type){case He.CHARACTER:{this.onCharacter(t);break}case He.NULL_CHARACTER:{this.onNullCharacter(t);break}case He.COMMENT:{this.onComment(t);break}case He.DOCTYPE:{this.onDoctype(t);break}case He.START_TAG:{this._processStartTag(t);break}case He.END_TAG:{this.onEndTag(t);break}case He.EOF:{this.onEof(t);break}case He.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const s=this.treeAdapter.getNamespaceURI(n),i=this.treeAdapter.getAttrList(n);return nz(t,s,i,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(s=>s.type===pr.Marker||this.openElements.contains(s.element)),r=n<0?t-1:n-1;for(let s=r;s>=0;s--){const i=this.activeFormattingElements.entries[s];this._insertElement(i.token,this.treeAdapter.getNamespaceURI(i.element)),i.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=R.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(p.P),this.openElements.popUntilTagNamePopped(p.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case p.TR:{this.insertionMode=R.IN_ROW;return}case p.TBODY:case p.THEAD:case p.TFOOT:{this.insertionMode=R.IN_TABLE_BODY;return}case p.CAPTION:{this.insertionMode=R.IN_CAPTION;return}case p.COLGROUP:{this.insertionMode=R.IN_COLUMN_GROUP;return}case p.TABLE:{this.insertionMode=R.IN_TABLE;return}case p.BODY:{this.insertionMode=R.IN_BODY;return}case p.FRAMESET:{this.insertionMode=R.IN_FRAMESET;return}case p.SELECT:{this._resetInsertionModeForSelect(t);return}case p.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case p.HTML:{this.insertionMode=this.headElement?R.AFTER_HEAD:R.BEFORE_HEAD;return}case p.TD:case p.TH:{if(t>0){this.insertionMode=R.IN_CELL;return}break}case p.HEAD:{if(t>0){this.insertionMode=R.IN_HEAD;return}break}}this.insertionMode=R.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===p.TEMPLATE)break;if(r===p.TABLE){this.insertionMode=R.IN_SELECT_IN_TABLE;return}}this.insertionMode=R.IN_SELECT}_isElementCausesFosterParenting(t){return cA.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case p.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===ne.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case p.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return CV[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){Lq(this,t);return}switch(this.insertionMode){case R.INITIAL:{qa(this,t);break}case R.BEFORE_HTML:{yo(this,t);break}case R.BEFORE_HEAD:{bo(this,t);break}case R.IN_HEAD:{xo(this,t);break}case R.IN_HEAD_NO_SCRIPT:{vo(this,t);break}case R.AFTER_HEAD:{Eo(this,t);break}case R.IN_BODY:case R.IN_CAPTION:case R.IN_CELL:case R.IN_TEMPLATE:{hA(this,t);break}case R.TEXT:case R.IN_SELECT:case R.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case R.IN_TABLE:case R.IN_TABLE_BODY:case R.IN_ROW:{Wd(this,t);break}case R.IN_TABLE_TEXT:{bA(this,t);break}case R.IN_COLUMN_GROUP:{Lu(this,t);break}case R.AFTER_BODY:{ju(this,t);break}case R.AFTER_AFTER_BODY:{au(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){Mq(this,t);return}switch(this.insertionMode){case R.INITIAL:{qa(this,t);break}case R.BEFORE_HTML:{yo(this,t);break}case R.BEFORE_HEAD:{bo(this,t);break}case R.IN_HEAD:{xo(this,t);break}case R.IN_HEAD_NO_SCRIPT:{vo(this,t);break}case R.AFTER_HEAD:{Eo(this,t);break}case R.TEXT:{this._insertCharacters(t);break}case R.IN_TABLE:case R.IN_TABLE_BODY:case R.IN_ROW:{Wd(this,t);break}case R.IN_COLUMN_GROUP:{Lu(this,t);break}case R.AFTER_BODY:{ju(this,t);break}case R.AFTER_AFTER_BODY:{au(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){bf(this,t);return}switch(this.insertionMode){case R.INITIAL:case R.BEFORE_HTML:case R.BEFORE_HEAD:case R.IN_HEAD:case R.IN_HEAD_NO_SCRIPT:case R.AFTER_HEAD:case R.IN_BODY:case R.IN_TABLE:case R.IN_CAPTION:case R.IN_COLUMN_GROUP:case R.IN_TABLE_BODY:case R.IN_ROW:case R.IN_CELL:case R.IN_SELECT:case R.IN_SELECT_IN_TABLE:case R.IN_TEMPLATE:case R.IN_FRAMESET:case R.AFTER_FRAMESET:{bf(this,t);break}case R.IN_TABLE_TEXT:{Ga(this,t);break}case R.AFTER_BODY:{fz(this,t);break}case R.AFTER_AFTER_BODY:case R.AFTER_AFTER_FRAMESET:{mz(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case R.INITIAL:{pz(this,t);break}case R.BEFORE_HEAD:case R.IN_HEAD:case R.IN_HEAD_NO_SCRIPT:case R.AFTER_HEAD:{this._err(t,q.misplacedDoctype);break}case R.IN_TABLE_TEXT:{Ga(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,q.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?jq(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case R.INITIAL:{qa(this,t);break}case R.BEFORE_HTML:{gz(this,t);break}case R.BEFORE_HEAD:{bz(this,t);break}case R.IN_HEAD:{ar(this,t);break}case R.IN_HEAD_NO_SCRIPT:{Ez(this,t);break}case R.AFTER_HEAD:{Tz(this,t);break}case R.IN_BODY:{qt(this,t);break}case R.IN_TABLE:{ma(this,t);break}case R.IN_TABLE_TEXT:{Ga(this,t);break}case R.IN_CAPTION:{xq(this,t);break}case R.IN_COLUMN_GROUP:{Yp(this,t);break}case R.IN_TABLE_BODY:{Hc(this,t);break}case R.IN_ROW:{$c(this,t);break}case R.IN_CELL:{wq(this,t);break}case R.IN_SELECT:{EA(this,t);break}case R.IN_SELECT_IN_TABLE:{_q(this,t);break}case R.IN_TEMPLATE:{Cq(this,t);break}case R.AFTER_BODY:{Nq(this,t);break}case R.IN_FRAMESET:{kq(this,t);break}case R.AFTER_FRAMESET:{Rq(this,t);break}case R.AFTER_AFTER_BODY:{Oq(this,t);break}case R.AFTER_AFTER_FRAMESET:{Dq(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?Fq(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case R.INITIAL:{qa(this,t);break}case R.BEFORE_HTML:{yz(this,t);break}case R.BEFORE_HEAD:{xz(this,t);break}case R.IN_HEAD:{vz(this,t);break}case R.IN_HEAD_NO_SCRIPT:{wz(this,t);break}case R.AFTER_HEAD:{_z(this,t);break}case R.IN_BODY:{Uc(this,t);break}case R.TEXT:{uq(this,t);break}case R.IN_TABLE:{Vo(this,t);break}case R.IN_TABLE_TEXT:{Ga(this,t);break}case R.IN_CAPTION:{vq(this,t);break}case R.IN_COLUMN_GROUP:{Eq(this,t);break}case R.IN_TABLE_BODY:{xf(this,t);break}case R.IN_ROW:{vA(this,t);break}case R.IN_CELL:{Tq(this,t);break}case R.IN_SELECT:{wA(this,t);break}case R.IN_SELECT_IN_TABLE:{Sq(this,t);break}case R.IN_TEMPLATE:{Aq(this,t);break}case R.AFTER_BODY:{_A(this,t);break}case R.IN_FRAMESET:{Iq(this,t);break}case R.AFTER_FRAMESET:{Pq(this,t);break}case R.AFTER_AFTER_BODY:{au(this,t);break}}}onEof(t){switch(this.insertionMode){case R.INITIAL:{qa(this,t);break}case R.BEFORE_HTML:{yo(this,t);break}case R.BEFORE_HEAD:{bo(this,t);break}case R.IN_HEAD:{xo(this,t);break}case R.IN_HEAD_NO_SCRIPT:{vo(this,t);break}case R.AFTER_HEAD:{Eo(this,t);break}case R.IN_BODY:case R.IN_TABLE:case R.IN_CAPTION:case R.IN_COLUMN_GROUP:case R.IN_TABLE_BODY:case R.IN_ROW:case R.IN_CELL:case R.IN_SELECT:case R.IN_SELECT_IN_TABLE:{gA(this,t);break}case R.TEXT:{cq(this,t);break}case R.IN_TABLE_TEXT:{Ga(this,t);break}case R.IN_TEMPLATE:{TA(this,t);break}case R.AFTER_BODY:case R.IN_FRAMESET:case R.AFTER_FRAMESET:case R.AFTER_AFTER_BODY:case R.AFTER_AFTER_FRAMESET:{Wp(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===A.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case R.IN_HEAD:case R.IN_HEAD_NO_SCRIPT:case R.AFTER_HEAD:case R.TEXT:case R.IN_COLUMN_GROUP:case R.IN_SELECT:case R.IN_SELECT_IN_TABLE:case R.IN_FRAMESET:case R.AFTER_FRAMESET:{this._insertCharacters(t);break}case R.IN_BODY:case R.IN_CAPTION:case R.IN_CELL:case R.IN_TEMPLATE:case R.AFTER_BODY:case R.AFTER_AFTER_BODY:case R.AFTER_AFTER_FRAMESET:{dA(this,t);break}case R.IN_TABLE:case R.IN_TABLE_BODY:case R.IN_ROW:{Wd(this,t);break}case R.IN_TABLE_TEXT:{yA(this,t);break}}}}function oz(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):pA(e,t),n}function lz(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const s=e.openElements.items[r];if(s===t.element)break;e._isSpecialElement(s,e.openElements.tagIDs[r])&&(n=s)}return n||(e.openElements.shortenToLength(r<0?0:r),e.activeFormattingElements.removeEntry(t)),n}function uz(e,t,n){let r=t,s=e.openElements.getCommonAncestor(t);for(let i=0,a=s;a!==n;i++,a=s){s=e.openElements.getCommonAncestor(a);const o=e.activeFormattingElements.getElementEntry(a),l=o&&i>=iz;!o||l?(l&&e.activeFormattingElements.removeEntry(o),e.openElements.remove(a)):(a=cz(e,o),r===t&&(e.activeFormattingElements.bookmark=o),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(a,r),r=a)}return r}function cz(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function dz(e,t,n){const r=e.treeAdapter.getTagName(t),s=Ra(r);if(e._isElementCausesFosterParenting(s))e._fosterParentElement(n);else{const i=e.treeAdapter.getNamespaceURI(t);s===p.TEMPLATE&&i===ne.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function hz(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:s}=n,i=e.treeAdapter.createElement(s.tagName,r,s.attrs);e._adoptNodes(t,i),e.treeAdapter.appendChild(t,i),e.activeFormattingElements.insertElementAfterBookmark(i,s),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,i,s.tagID)}function Gp(e,t){for(let n=0;n<sz;n++){const r=oz(e,t);if(!r)break;const s=lz(e,r);if(!s)break;e.activeFormattingElements.bookmark=r;const i=uz(e,s,r.element),a=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(i),a&&dz(e,a,i),hz(e,s,r)}}function bf(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function fz(e,t){e._appendCommentNode(t,e.openElements.items[0])}function mz(e,t){e._appendCommentNode(t,e.document)}function Wp(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],s=e.treeAdapter.getNodeSourceCodeLocation(r);if(s&&!s.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const i=e.openElements.items[1],a=e.treeAdapter.getNodeSourceCodeLocation(i);a&&!a.endTag&&e._setEndLocation(i,t)}}}}function pz(e,t){e._setDocumentType(t);const n=t.forceQuirks?In.QUIRKS:qV(t);zV(t)||e._err(t,q.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=R.BEFORE_HTML}function qa(e,t){e._err(t,q.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,In.QUIRKS),e.insertionMode=R.BEFORE_HTML,e._processToken(t)}function gz(e,t){t.tagID===p.HTML?(e._insertElement(t,ne.HTML),e.insertionMode=R.BEFORE_HEAD):yo(e,t)}function yz(e,t){const n=t.tagID;(n===p.HTML||n===p.HEAD||n===p.BODY||n===p.BR)&&yo(e,t)}function yo(e,t){e._insertFakeRootElement(),e.insertionMode=R.BEFORE_HEAD,e._processToken(t)}function bz(e,t){switch(t.tagID){case p.HTML:{qt(e,t);break}case p.HEAD:{e._insertElement(t,ne.HTML),e.headElement=e.openElements.current,e.insertionMode=R.IN_HEAD;break}default:bo(e,t)}}function xz(e,t){const n=t.tagID;n===p.HEAD||n===p.BODY||n===p.HTML||n===p.BR?bo(e,t):e._err(t,q.endTagWithoutMatchingOpenElement)}function bo(e,t){e._insertFakeElement(H.HEAD,p.HEAD),e.headElement=e.openElements.current,e.insertionMode=R.IN_HEAD,e._processToken(t)}function ar(e,t){switch(t.tagID){case p.HTML:{qt(e,t);break}case p.BASE:case p.BASEFONT:case p.BGSOUND:case p.LINK:case p.META:{e._appendElement(t,ne.HTML),t.ackSelfClosing=!0;break}case p.TITLE:{e._switchToTextParsing(t,xt.RCDATA);break}case p.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,xt.RAWTEXT):(e._insertElement(t,ne.HTML),e.insertionMode=R.IN_HEAD_NO_SCRIPT);break}case p.NOFRAMES:case p.STYLE:{e._switchToTextParsing(t,xt.RAWTEXT);break}case p.SCRIPT:{e._switchToTextParsing(t,xt.SCRIPT_DATA);break}case p.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=R.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(R.IN_TEMPLATE);break}case p.HEAD:{e._err(t,q.misplacedStartTagForHeadElement);break}default:xo(e,t)}}function vz(e,t){switch(t.tagID){case p.HEAD:{e.openElements.pop(),e.insertionMode=R.AFTER_HEAD;break}case p.BODY:case p.BR:case p.HTML:{xo(e,t);break}case p.TEMPLATE:{fi(e,t);break}default:e._err(t,q.endTagWithoutMatchingOpenElement)}}function fi(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==p.TEMPLATE&&e._err(t,q.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(p.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,q.endTagWithoutMatchingOpenElement)}function xo(e,t){e.openElements.pop(),e.insertionMode=R.AFTER_HEAD,e._processToken(t)}function Ez(e,t){switch(t.tagID){case p.HTML:{qt(e,t);break}case p.BASEFONT:case p.BGSOUND:case p.HEAD:case p.LINK:case p.META:case p.NOFRAMES:case p.STYLE:{ar(e,t);break}case p.NOSCRIPT:{e._err(t,q.nestedNoscriptInHead);break}default:vo(e,t)}}function wz(e,t){switch(t.tagID){case p.NOSCRIPT:{e.openElements.pop(),e.insertionMode=R.IN_HEAD;break}case p.BR:{vo(e,t);break}default:e._err(t,q.endTagWithoutMatchingOpenElement)}}function vo(e,t){const n=t.type===He.EOF?q.openElementsLeftAfterEof:q.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=R.IN_HEAD,e._processToken(t)}function Tz(e,t){switch(t.tagID){case p.HTML:{qt(e,t);break}case p.BODY:{e._insertElement(t,ne.HTML),e.framesetOk=!1,e.insertionMode=R.IN_BODY;break}case p.FRAMESET:{e._insertElement(t,ne.HTML),e.insertionMode=R.IN_FRAMESET;break}case p.BASE:case p.BASEFONT:case p.BGSOUND:case p.LINK:case p.META:case p.NOFRAMES:case p.SCRIPT:case p.STYLE:case p.TEMPLATE:case p.TITLE:{e._err(t,q.abandonedHeadElementChild),e.openElements.push(e.headElement,p.HEAD),ar(e,t),e.openElements.remove(e.headElement);break}case p.HEAD:{e._err(t,q.misplacedStartTagForHeadElement);break}default:Eo(e,t)}}function _z(e,t){switch(t.tagID){case p.BODY:case p.HTML:case p.BR:{Eo(e,t);break}case p.TEMPLATE:{fi(e,t);break}default:e._err(t,q.endTagWithoutMatchingOpenElement)}}function Eo(e,t){e._insertFakeElement(H.BODY,p.BODY),e.insertionMode=R.IN_BODY,Bc(e,t)}function Bc(e,t){switch(t.type){case He.CHARACTER:{hA(e,t);break}case He.WHITESPACE_CHARACTER:{dA(e,t);break}case He.COMMENT:{bf(e,t);break}case He.START_TAG:{qt(e,t);break}case He.END_TAG:{Uc(e,t);break}case He.EOF:{gA(e,t);break}}}function dA(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function hA(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function Sz(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function Cz(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function Az(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,ne.HTML),e.insertionMode=R.IN_FRAMESET)}function Nz(e,t){e.openElements.hasInButtonScope(p.P)&&e._closePElement(),e._insertElement(t,ne.HTML)}function kz(e,t){e.openElements.hasInButtonScope(p.P)&&e._closePElement(),yf.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,ne.HTML)}function Iz(e,t){e.openElements.hasInButtonScope(p.P)&&e._closePElement(),e._insertElement(t,ne.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function Rz(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(p.P)&&e._closePElement(),e._insertElement(t,ne.HTML),n||(e.formElement=e.openElements.current))}function Pz(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const s=e.openElements.tagIDs[r];if(n===p.LI&&s===p.LI||(n===p.DD||n===p.DT)&&(s===p.DD||s===p.DT)){e.openElements.generateImpliedEndTagsWithExclusion(s),e.openElements.popUntilTagNamePopped(s);break}if(s!==p.ADDRESS&&s!==p.DIV&&s!==p.P&&e._isSpecialElement(e.openElements.items[r],s))break}e.openElements.hasInButtonScope(p.P)&&e._closePElement(),e._insertElement(t,ne.HTML)}function Oz(e,t){e.openElements.hasInButtonScope(p.P)&&e._closePElement(),e._insertElement(t,ne.HTML),e.tokenizer.state=xt.PLAINTEXT}function Dz(e,t){e.openElements.hasInScope(p.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(p.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,ne.HTML),e.framesetOk=!1}function Mz(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(H.A);n&&(Gp(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,ne.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function Lz(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,ne.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function jz(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(p.NOBR)&&(Gp(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,ne.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function Fz(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,ne.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function Bz(e,t){e.treeAdapter.getDocumentMode(e.document)!==In.QUIRKS&&e.openElements.hasInButtonScope(p.P)&&e._closePElement(),e._insertElement(t,ne.HTML),e.framesetOk=!1,e.insertionMode=R.IN_TABLE}function fA(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,ne.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function mA(e){const t=ZC(e,ei.TYPE);return t!=null&&t.toLowerCase()===rz}function Uz(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,ne.HTML),mA(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function Hz(e,t){e._appendElement(t,ne.HTML),t.ackSelfClosing=!0}function $z(e,t){e.openElements.hasInButtonScope(p.P)&&e._closePElement(),e._appendElement(t,ne.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function Vz(e,t){t.tagName=H.IMG,t.tagID=p.IMG,fA(e,t)}function zz(e,t){e._insertElement(t,ne.HTML),e.skipNextNewLine=!0,e.tokenizer.state=xt.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=R.TEXT}function qz(e,t){e.openElements.hasInButtonScope(p.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,xt.RAWTEXT)}function Gz(e,t){e.framesetOk=!1,e._switchToTextParsing(t,xt.RAWTEXT)}function ax(e,t){e._switchToTextParsing(t,xt.RAWTEXT)}function Wz(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,ne.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===R.IN_TABLE||e.insertionMode===R.IN_CAPTION||e.insertionMode===R.IN_TABLE_BODY||e.insertionMode===R.IN_ROW||e.insertionMode===R.IN_CELL?R.IN_SELECT_IN_TABLE:R.IN_SELECT}function Yz(e,t){e.openElements.currentTagId===p.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,ne.HTML)}function Kz(e,t){e.openElements.hasInScope(p.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,ne.HTML)}function Xz(e,t){e.openElements.hasInScope(p.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(p.RTC),e._insertElement(t,ne.HTML)}function Qz(e,t){e._reconstructActiveFormattingElements(),lA(t),qp(t),t.selfClosing?e._appendElement(t,ne.MATHML):e._insertElement(t,ne.MATHML),t.ackSelfClosing=!0}function Jz(e,t){e._reconstructActiveFormattingElements(),uA(t),qp(t),t.selfClosing?e._appendElement(t,ne.SVG):e._insertElement(t,ne.SVG),t.ackSelfClosing=!0}function ox(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,ne.HTML)}function qt(e,t){switch(t.tagID){case p.I:case p.S:case p.B:case p.U:case p.EM:case p.TT:case p.BIG:case p.CODE:case p.FONT:case p.SMALL:case p.STRIKE:case p.STRONG:{Lz(e,t);break}case p.A:{Mz(e,t);break}case p.H1:case p.H2:case p.H3:case p.H4:case p.H5:case p.H6:{kz(e,t);break}case p.P:case p.DL:case p.OL:case p.UL:case p.DIV:case p.DIR:case p.NAV:case p.MAIN:case p.MENU:case p.ASIDE:case p.CENTER:case p.FIGURE:case p.FOOTER:case p.HEADER:case p.HGROUP:case p.DIALOG:case p.DETAILS:case p.ADDRESS:case p.ARTICLE:case p.SEARCH:case p.SECTION:case p.SUMMARY:case p.FIELDSET:case p.BLOCKQUOTE:case p.FIGCAPTION:{Nz(e,t);break}case p.LI:case p.DD:case p.DT:{Pz(e,t);break}case p.BR:case p.IMG:case p.WBR:case p.AREA:case p.EMBED:case p.KEYGEN:{fA(e,t);break}case p.HR:{$z(e,t);break}case p.RB:case p.RTC:{Kz(e,t);break}case p.RT:case p.RP:{Xz(e,t);break}case p.PRE:case p.LISTING:{Iz(e,t);break}case p.XMP:{qz(e,t);break}case p.SVG:{Jz(e,t);break}case p.HTML:{Sz(e,t);break}case p.BASE:case p.LINK:case p.META:case p.STYLE:case p.TITLE:case p.SCRIPT:case p.BGSOUND:case p.BASEFONT:case p.TEMPLATE:{ar(e,t);break}case p.BODY:{Cz(e,t);break}case p.FORM:{Rz(e,t);break}case p.NOBR:{jz(e,t);break}case p.MATH:{Qz(e,t);break}case p.TABLE:{Bz(e,t);break}case p.INPUT:{Uz(e,t);break}case p.PARAM:case p.TRACK:case p.SOURCE:{Hz(e,t);break}case p.IMAGE:{Vz(e,t);break}case p.BUTTON:{Dz(e,t);break}case p.APPLET:case p.OBJECT:case p.MARQUEE:{Fz(e,t);break}case p.IFRAME:{Gz(e,t);break}case p.SELECT:{Wz(e,t);break}case p.OPTION:case p.OPTGROUP:{Yz(e,t);break}case p.NOEMBED:case p.NOFRAMES:{ax(e,t);break}case p.FRAMESET:{Az(e,t);break}case p.TEXTAREA:{zz(e,t);break}case p.NOSCRIPT:{e.options.scriptingEnabled?ax(e,t):ox(e,t);break}case p.PLAINTEXT:{Oz(e,t);break}case p.COL:case p.TH:case p.TD:case p.TR:case p.HEAD:case p.FRAME:case p.TBODY:case p.TFOOT:case p.THEAD:case p.CAPTION:case p.COLGROUP:break;default:ox(e,t)}}function Zz(e,t){if(e.openElements.hasInScope(p.BODY)&&(e.insertionMode=R.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function eq(e,t){e.openElements.hasInScope(p.BODY)&&(e.insertionMode=R.AFTER_BODY,_A(e,t))}function tq(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function nq(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(p.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(p.FORM):n&&e.openElements.remove(n))}function rq(e){e.openElements.hasInButtonScope(p.P)||e._insertFakeElement(H.P,p.P),e._closePElement()}function sq(e){e.openElements.hasInListItemScope(p.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(p.LI),e.openElements.popUntilTagNamePopped(p.LI))}function iq(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function aq(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function oq(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function lq(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(H.BR,p.BR),e.openElements.pop(),e.framesetOk=!1}function pA(e,t){const n=t.tagName,r=t.tagID;for(let s=e.openElements.stackTop;s>0;s--){const i=e.openElements.items[s],a=e.openElements.tagIDs[s];if(r===a&&(r!==p.UNKNOWN||e.treeAdapter.getTagName(i)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=s&&e.openElements.shortenToLength(s);break}if(e._isSpecialElement(i,a))break}}function Uc(e,t){switch(t.tagID){case p.A:case p.B:case p.I:case p.S:case p.U:case p.EM:case p.TT:case p.BIG:case p.CODE:case p.FONT:case p.NOBR:case p.SMALL:case p.STRIKE:case p.STRONG:{Gp(e,t);break}case p.P:{rq(e);break}case p.DL:case p.UL:case p.OL:case p.DIR:case p.DIV:case p.NAV:case p.PRE:case p.MAIN:case p.MENU:case p.ASIDE:case p.BUTTON:case p.CENTER:case p.FIGURE:case p.FOOTER:case p.HEADER:case p.HGROUP:case p.DIALOG:case p.ADDRESS:case p.ARTICLE:case p.DETAILS:case p.SEARCH:case p.SECTION:case p.SUMMARY:case p.LISTING:case p.FIELDSET:case p.BLOCKQUOTE:case p.FIGCAPTION:{tq(e,t);break}case p.LI:{sq(e);break}case p.DD:case p.DT:{iq(e,t);break}case p.H1:case p.H2:case p.H3:case p.H4:case p.H5:case p.H6:{aq(e);break}case p.BR:{lq(e);break}case p.BODY:{Zz(e,t);break}case p.HTML:{eq(e,t);break}case p.FORM:{nq(e);break}case p.APPLET:case p.OBJECT:case p.MARQUEE:{oq(e,t);break}case p.TEMPLATE:{fi(e,t);break}default:pA(e,t)}}function gA(e,t){e.tmplInsertionModeStack.length>0?TA(e,t):Wp(e,t)}function uq(e,t){var n;t.tagID===p.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function cq(e,t){e._err(t,q.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function Wd(e,t){if(cA.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=R.IN_TABLE_TEXT,t.type){case He.CHARACTER:{bA(e,t);break}case He.WHITESPACE_CHARACTER:{yA(e,t);break}}else yl(e,t)}function dq(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,ne.HTML),e.insertionMode=R.IN_CAPTION}function hq(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,ne.HTML),e.insertionMode=R.IN_COLUMN_GROUP}function fq(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(H.COLGROUP,p.COLGROUP),e.insertionMode=R.IN_COLUMN_GROUP,Yp(e,t)}function mq(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,ne.HTML),e.insertionMode=R.IN_TABLE_BODY}function pq(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(H.TBODY,p.TBODY),e.insertionMode=R.IN_TABLE_BODY,Hc(e,t)}function gq(e,t){e.openElements.hasInTableScope(p.TABLE)&&(e.openElements.popUntilTagNamePopped(p.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function yq(e,t){mA(t)?e._appendElement(t,ne.HTML):yl(e,t),t.ackSelfClosing=!0}function bq(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,ne.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function ma(e,t){switch(t.tagID){case p.TD:case p.TH:case p.TR:{pq(e,t);break}case p.STYLE:case p.SCRIPT:case p.TEMPLATE:{ar(e,t);break}case p.COL:{fq(e,t);break}case p.FORM:{bq(e,t);break}case p.TABLE:{gq(e,t);break}case p.TBODY:case p.TFOOT:case p.THEAD:{mq(e,t);break}case p.INPUT:{yq(e,t);break}case p.CAPTION:{dq(e,t);break}case p.COLGROUP:{hq(e,t);break}default:yl(e,t)}}function Vo(e,t){switch(t.tagID){case p.TABLE:{e.openElements.hasInTableScope(p.TABLE)&&(e.openElements.popUntilTagNamePopped(p.TABLE),e._resetInsertionMode());break}case p.TEMPLATE:{fi(e,t);break}case p.BODY:case p.CAPTION:case p.COL:case p.COLGROUP:case p.HTML:case p.TBODY:case p.TD:case p.TFOOT:case p.TH:case p.THEAD:case p.TR:break;default:yl(e,t)}}function yl(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,Bc(e,t),e.fosterParentingEnabled=n}function yA(e,t){e.pendingCharacterTokens.push(t)}function bA(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function Ga(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)yl(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const xA=new Set([p.CAPTION,p.COL,p.COLGROUP,p.TBODY,p.TD,p.TFOOT,p.TH,p.THEAD,p.TR]);function xq(e,t){const n=t.tagID;xA.has(n)?e.openElements.hasInTableScope(p.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(p.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=R.IN_TABLE,ma(e,t)):qt(e,t)}function vq(e,t){const n=t.tagID;switch(n){case p.CAPTION:case p.TABLE:{e.openElements.hasInTableScope(p.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(p.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=R.IN_TABLE,n===p.TABLE&&Vo(e,t));break}case p.BODY:case p.COL:case p.COLGROUP:case p.HTML:case p.TBODY:case p.TD:case p.TFOOT:case p.TH:case p.THEAD:case p.TR:break;default:Uc(e,t)}}function Yp(e,t){switch(t.tagID){case p.HTML:{qt(e,t);break}case p.COL:{e._appendElement(t,ne.HTML),t.ackSelfClosing=!0;break}case p.TEMPLATE:{ar(e,t);break}default:Lu(e,t)}}function Eq(e,t){switch(t.tagID){case p.COLGROUP:{e.openElements.currentTagId===p.COLGROUP&&(e.openElements.pop(),e.insertionMode=R.IN_TABLE);break}case p.TEMPLATE:{fi(e,t);break}case p.COL:break;default:Lu(e,t)}}function Lu(e,t){e.openElements.currentTagId===p.COLGROUP&&(e.openElements.pop(),e.insertionMode=R.IN_TABLE,e._processToken(t))}function Hc(e,t){switch(t.tagID){case p.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,ne.HTML),e.insertionMode=R.IN_ROW;break}case p.TH:case p.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(H.TR,p.TR),e.insertionMode=R.IN_ROW,$c(e,t);break}case p.CAPTION:case p.COL:case p.COLGROUP:case p.TBODY:case p.TFOOT:case p.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=R.IN_TABLE,ma(e,t));break}default:ma(e,t)}}function xf(e,t){const n=t.tagID;switch(t.tagID){case p.TBODY:case p.TFOOT:case p.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=R.IN_TABLE);break}case p.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=R.IN_TABLE,Vo(e,t));break}case p.BODY:case p.CAPTION:case p.COL:case p.COLGROUP:case p.HTML:case p.TD:case p.TH:case p.TR:break;default:Vo(e,t)}}function $c(e,t){switch(t.tagID){case p.TH:case p.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,ne.HTML),e.insertionMode=R.IN_CELL,e.activeFormattingElements.insertMarker();break}case p.CAPTION:case p.COL:case p.COLGROUP:case p.TBODY:case p.TFOOT:case p.THEAD:case p.TR:{e.openElements.hasInTableScope(p.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=R.IN_TABLE_BODY,Hc(e,t));break}default:ma(e,t)}}function vA(e,t){switch(t.tagID){case p.TR:{e.openElements.hasInTableScope(p.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=R.IN_TABLE_BODY);break}case p.TABLE:{e.openElements.hasInTableScope(p.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=R.IN_TABLE_BODY,xf(e,t));break}case p.TBODY:case p.TFOOT:case p.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(p.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=R.IN_TABLE_BODY,xf(e,t));break}case p.BODY:case p.CAPTION:case p.COL:case p.COLGROUP:case p.HTML:case p.TD:case p.TH:break;default:Vo(e,t)}}function wq(e,t){const n=t.tagID;xA.has(n)?(e.openElements.hasInTableScope(p.TD)||e.openElements.hasInTableScope(p.TH))&&(e._closeTableCell(),$c(e,t)):qt(e,t)}function Tq(e,t){const n=t.tagID;switch(n){case p.TD:case p.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=R.IN_ROW);break}case p.TABLE:case p.TBODY:case p.TFOOT:case p.THEAD:case p.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),vA(e,t));break}case p.BODY:case p.CAPTION:case p.COL:case p.COLGROUP:case p.HTML:break;default:Uc(e,t)}}function EA(e,t){switch(t.tagID){case p.HTML:{qt(e,t);break}case p.OPTION:{e.openElements.currentTagId===p.OPTION&&e.openElements.pop(),e._insertElement(t,ne.HTML);break}case p.OPTGROUP:{e.openElements.currentTagId===p.OPTION&&e.openElements.pop(),e.openElements.currentTagId===p.OPTGROUP&&e.openElements.pop(),e._insertElement(t,ne.HTML);break}case p.HR:{e.openElements.currentTagId===p.OPTION&&e.openElements.pop(),e.openElements.currentTagId===p.OPTGROUP&&e.openElements.pop(),e._appendElement(t,ne.HTML),t.ackSelfClosing=!0;break}case p.INPUT:case p.KEYGEN:case p.TEXTAREA:case p.SELECT:{e.openElements.hasInSelectScope(p.SELECT)&&(e.openElements.popUntilTagNamePopped(p.SELECT),e._resetInsertionMode(),t.tagID!==p.SELECT&&e._processStartTag(t));break}case p.SCRIPT:case p.TEMPLATE:{ar(e,t);break}}}function wA(e,t){switch(t.tagID){case p.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===p.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===p.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===p.OPTGROUP&&e.openElements.pop();break}case p.OPTION:{e.openElements.currentTagId===p.OPTION&&e.openElements.pop();break}case p.SELECT:{e.openElements.hasInSelectScope(p.SELECT)&&(e.openElements.popUntilTagNamePopped(p.SELECT),e._resetInsertionMode());break}case p.TEMPLATE:{fi(e,t);break}}}function _q(e,t){const n=t.tagID;n===p.CAPTION||n===p.TABLE||n===p.TBODY||n===p.TFOOT||n===p.THEAD||n===p.TR||n===p.TD||n===p.TH?(e.openElements.popUntilTagNamePopped(p.SELECT),e._resetInsertionMode(),e._processStartTag(t)):EA(e,t)}function Sq(e,t){const n=t.tagID;n===p.CAPTION||n===p.TABLE||n===p.TBODY||n===p.TFOOT||n===p.THEAD||n===p.TR||n===p.TD||n===p.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(p.SELECT),e._resetInsertionMode(),e.onEndTag(t)):wA(e,t)}function Cq(e,t){switch(t.tagID){case p.BASE:case p.BASEFONT:case p.BGSOUND:case p.LINK:case p.META:case p.NOFRAMES:case p.SCRIPT:case p.STYLE:case p.TEMPLATE:case p.TITLE:{ar(e,t);break}case p.CAPTION:case p.COLGROUP:case p.TBODY:case p.TFOOT:case p.THEAD:{e.tmplInsertionModeStack[0]=R.IN_TABLE,e.insertionMode=R.IN_TABLE,ma(e,t);break}case p.COL:{e.tmplInsertionModeStack[0]=R.IN_COLUMN_GROUP,e.insertionMode=R.IN_COLUMN_GROUP,Yp(e,t);break}case p.TR:{e.tmplInsertionModeStack[0]=R.IN_TABLE_BODY,e.insertionMode=R.IN_TABLE_BODY,Hc(e,t);break}case p.TD:case p.TH:{e.tmplInsertionModeStack[0]=R.IN_ROW,e.insertionMode=R.IN_ROW,$c(e,t);break}default:e.tmplInsertionModeStack[0]=R.IN_BODY,e.insertionMode=R.IN_BODY,qt(e,t)}}function Aq(e,t){t.tagID===p.TEMPLATE&&fi(e,t)}function TA(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(p.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):Wp(e,t)}function Nq(e,t){t.tagID===p.HTML?qt(e,t):ju(e,t)}function _A(e,t){var n;if(t.tagID===p.HTML){if(e.fragmentContext||(e.insertionMode=R.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===p.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else ju(e,t)}function ju(e,t){e.insertionMode=R.IN_BODY,Bc(e,t)}function kq(e,t){switch(t.tagID){case p.HTML:{qt(e,t);break}case p.FRAMESET:{e._insertElement(t,ne.HTML);break}case p.FRAME:{e._appendElement(t,ne.HTML),t.ackSelfClosing=!0;break}case p.NOFRAMES:{ar(e,t);break}}}function Iq(e,t){t.tagID===p.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==p.FRAMESET&&(e.insertionMode=R.AFTER_FRAMESET))}function Rq(e,t){switch(t.tagID){case p.HTML:{qt(e,t);break}case p.NOFRAMES:{ar(e,t);break}}}function Pq(e,t){t.tagID===p.HTML&&(e.insertionMode=R.AFTER_AFTER_FRAMESET)}function Oq(e,t){t.tagID===p.HTML?qt(e,t):au(e,t)}function au(e,t){e.insertionMode=R.IN_BODY,Bc(e,t)}function Dq(e,t){switch(t.tagID){case p.HTML:{qt(e,t);break}case p.NOFRAMES:{ar(e,t);break}}}function Mq(e,t){t.chars=ot,e._insertCharacters(t)}function Lq(e,t){e._insertCharacters(t),e.framesetOk=!1}function SA(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==ne.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function jq(e,t){if(JV(t))SA(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===ne.MATHML?lA(t):r===ne.SVG&&(ZV(t),uA(t)),qp(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function Fq(e,t){if(t.tagID===p.P||t.tagID===p.BR){SA(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===ne.HTML){e._endTagOutsideForeignContent(t);break}const s=e.treeAdapter.getTagName(r);if(s.toLowerCase()===t.tagName){t.tagName=s,e.openElements.shortenToLength(n);break}}}H.AREA,H.BASE,H.BASEFONT,H.BGSOUND,H.BR,H.COL,H.EMBED,H.FRAME,H.HR,H.IMG,H.INPUT,H.KEYGEN,H.LINK,H.META,H.PARAM,H.SOURCE,H.TRACK,H.WBR;const Bq=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,Uq=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),lx={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function CA(e,t){const n=Xq(e),r=YC("type",{handlers:{root:Hq,element:$q,text:Vq,comment:NA,doctype:zq,raw:Gq},unknown:Wq}),s={parser:n?new ix(lx):ix.getFragmentParser(void 0,lx),handle(o){r(o,s)},stitches:!1,options:t||{}};r(e,s),Pa(s,Rr());const i=n?s.parser.document:s.parser.getFragment(),a=H7(i,{file:s.options.file});return s.stitches&&Up(a,"comment",function(o,l,d){const c=o;if(c.value.stitch&&d&&l!==void 0){const h=d.children;return h[l]=c.value.stitch,l}}),a.type==="root"&&a.children.length===1&&a.children[0].type===e.type?a.children[0]:a}function AA(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function Hq(e,t){AA(e.children,t)}function $q(e,t){Yq(e,t),AA(e.children,t),Kq(e,t)}function Vq(e,t){t.parser.tokenizer.state>4&&(t.parser.tokenizer.state=0);const n={type:He.CHARACTER,chars:e.value,location:bl(e)};Pa(t,Rr(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function zq(e,t){const n={type:He.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:bl(e)};Pa(t,Rr(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function qq(e,t){t.stitches=!0;const n=Qq(e);if("children"in e&&"children"in n){const r=CA({type:"root",children:e.children},t.options);n.children=r.children}NA({type:"comment",value:{stitch:n}},t)}function NA(e,t){const n=e.value,r={type:He.COMMENT,data:n,location:bl(e)};Pa(t,Rr(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function Gq(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,kA(t,Rr(e)),t.parser.tokenizer.write(t.options.tagfilter?e.value.replace(Bq,"&lt;$1$2"):e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=t.parser.tokenizer._consume();t.parser.tokenizer._callState(n)}}function Wq(e,t){const n=e;if(t.options.passThrough&&t.options.passThrough.includes(n.type))qq(n,t);else{let r="";throw Uq.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function Pa(e,t){kA(e,t);const n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=xt.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function kA(e,t){if(t&&t.offset!==void 0){const n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function Yq(e,t){const n=e.tagName.toLowerCase();if(t.parser.tokenizer.state===xt.PLAINTEXT)return;Pa(t,Rr(e));const r=t.parser.openElements.current;let s="namespaceURI"in r?r.namespaceURI:zs.html;s===zs.html&&n==="svg"&&(s=zs.svg);const i=nV({...e,children:[]},{space:s===zs.svg?"svg":"html"}),a={type:He.START_TAG,tagName:n,tagID:Ra(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in i?i.attrs:[],location:bl(e)};t.parser.currentToken=a,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=n}function Kq(e,t){const n=e.tagName.toLowerCase();if(!t.parser.tokenizer.inForeignNode&&cV.includes(n)||t.parser.tokenizer.state===xt.PLAINTEXT)return;Pa(t,Mc(e));const r={type:He.END_TAG,tagName:n,tagID:Ra(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:bl(e)};t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken),n===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===xt.RCDATA||t.parser.tokenizer.state===xt.RAWTEXT||t.parser.tokenizer.state===xt.SCRIPT_DATA)&&(t.parser.tokenizer.state=xt.DATA)}function Xq(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName.toLowerCase()==="html"))}function bl(e){const t=Rr(e)||{line:void 0,column:void 0,offset:void 0},n=Mc(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function Qq(e){return"children"in e?fa({...e,children:[]}):fa(e)}function Jq(e){return function(t,n){return CA(t,{...e,file:n})}}function Zq({initialTheme:e,initialPlayerCount:t,initialHasAccomplice:n,initialScriptType:r,initialAdditionalDetails:s,savedMysteryId:i,onSave:a,onGenerateFinal:o,initialMessages:l=[],isLoadingHistory:d=!1,systemInstruction:c,preventDuplicateMessages:h=!1,skipForm:m=!1,needsInitialAIResponse:f=!1,usePageScroll:g=!1}){const[y,x]=b.useState(""),[E,v]=b.useState([]),[w,T]=b.useState(!1),[S,C]=b.useState(e||""),[D,j]=b.useState(t||null),[F,V]=b.useState(n||!1),[z,P]=b.useState(r||"full"),[W,Q]=b.useState(s||""),[te,L]=b.useState(!1);un();const U=ir(),Y=b.useRef(null),O=b.useRef(null),_=G=>{let ce;return G.timestamp?ce=G.timestamp instanceof Date?G.timestamp:new Date(G.timestamp):G.created_at?ce=new Date(G.created_at):ce=new Date,{id:G.id||Date.now().toString(),content:G.content||"",is_ai:G.is_ai!==void 0?G.is_ai:G.role==="assistant",timestamp:ce,isAutoGenerated:G.isAutoGenerated||!1}};b.useEffect(()=>{const G=l.map(_);v(G)},[l]),b.useEffect(()=>{if(f&&!te&&E.length>0&&!d){console.log("Triggering initial AI response for new conversation"),L(!0),T(!0);const G=E.filter(ce=>!ce.is_ai).pop();G&&k(G.content)}},[f,te,E,d]),b.useEffect(()=>{var G;g?window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"}):(G=Y.current)==null||G.scrollIntoView({behavior:"smooth"})},[E,w,g]),b.useEffect(()=>{e&&C(e),t&&j(t),n&&V(n),r&&P(r),s&&Q(s)},[e,t,n,r,s]);const ee=G=>{if(c)return c;let ce="You are a helpful mystery writer. Your job is to help the user create an exciting murder mystery game.";return S&&(ce+=`
The user wants to create a murder mystery with theme: ${S}. `),D&&(ce+=`The user wants to create a murder mystery with ${D} players. `),ce+=`The user wants to create a murder mystery with a ${z} script. `,W&&(ce+=`
Additional details: ${W}. `),ce},ie=async(G,ce,de=0)=>{try{console.log(`Attempt ${de+1} - Calling mystery-ai function`);const we={messages:G,promptVersion:"free",preventTruncation:!0};ce&&(we.system=ce);const{data:Te,error:Xe}=await _e.functions.invoke("mystery-ai",{body:we});if(Xe)throw new Error(`Supabase function error: ${Xe.message}`);if(Te&&Te.choices&&Te.choices[0]&&Te.choices[0].message&&Te.choices[0].message.content)return Te.choices[0].message.content;throw Te&&Te.error?new Error(`API error: ${Te.error}`):new Error("Invalid response format from AI service")}catch(we){if(console.error(`Attempt ${de+1} failed:`,we),de<3)return console.log(`Retrying in ${(de+1)*1e3}ms...`),await new Promise(Te=>setTimeout(Te,(de+1)*1e3)),ie(G,ce,de+1);throw we}},k=async G=>{try{console.log("=== Starting AI Request for Initial Response ===");const ce=ee({theme:S,playerCount:D,hasAccomplice:F,scriptType:z,additionalDetails:W}),de=E.map(Xe=>({role:Xe.is_ai?"assistant":"user",content:Xe.content})),be=await ie(de,ce);console.log("AI response content:",be);const we={id:(Date.now()+1).toString(),content:be,is_ai:!0,timestamp:new Date,isAutoGenerated:!1},Te=[...E,we];v(Te);try{await a(we)}catch(Xe){console.error("Error saving AI message:",Xe)}}catch(ce){console.error("Error calling AI service:",ce),se.error("Failed to get AI response. Please try again.");const de={id:(Date.now()+1).toString(),content:"I apologize, but I'm having trouble responding right now. Please try again in a moment.",is_ai:!0,timestamp:new Date,isAutoGenerated:!1};v([...E,de]);try{await a(de)}catch(be){console.error("Error saving AI error message:",be)}}finally{T(!1)}},ge=async G=>{if(!G.trim())return;x("");const ce={id:Date.now().toString(),content:G.trim(),is_ai:!1,timestamp:new Date,isAutoGenerated:!1},de=[...E,ce];v(de);try{await a(ce)}catch(be){console.error("Error saving user message:",be)}T(!0);try{const be=ee({theme:S,playerCount:D,hasAccomplice:F,scriptType:z,additionalDetails:W}),we=de.map(St=>({role:St.is_ai?"assistant":"user",content:St.content})),Te=await ie(we,be),Xe={id:(Date.now()+1).toString(),content:Te,is_ai:!0,timestamp:new Date,isAutoGenerated:!1},Tt=[...de,Xe];v(Tt);try{await a(Xe)}catch(St){console.error("Error saving AI message:",St)}}catch(be){console.error("Error calling AI service:",be),se.error("Failed to get AI response. Please try again.");const we={id:(Date.now()+1).toString(),content:"I apologize, but I'm having trouble responding right now. Please try again in a moment.",is_ai:!0,timestamp:new Date,isAutoGenerated:!1};v([...de,we]);try{await a(we)}catch(Te){console.error("Error saving AI error message:",Te)}}finally{T(!1)}},Re=G=>{x(G.target.value),O.current&&(O.current.style.height="auto",O.current.style.height=`${Math.min(O.current.scrollHeight,150)}px`)},Ae=E.some(G=>G.is_ai);return u.jsxs("div",{className:I("flex flex-col bg-muted",g?"h-full":"h-full space-y-4 sm:space-y-6"),children:[u.jsxs("div",{className:I("space-y-4 sm:space-y-6 bg-[#F7F3E9]",g?"pb-32":"overflow-y-auto h-80 p-3 sm:h-96 sm:p-4"),children:[d&&u.jsxs("div",{className:"text-center text-muted-foreground py-4",children:[u.jsx(To,{className:I("animate-spin text-primary",U?"h-5 w-5":"h-6 w-6")}),u.jsx("p",{className:I("text-sm",U?"text-sm":"text-base"),children:"Loading previous messages..."})]}),E.map(G=>u.jsx("div",{className:I("flex",G.is_ai?"justify-start":"justify-end"),children:u.jsx("div",{className:I("rounded-2xl px-4 py-3 sm:px-5 sm:py-4 max-w-[85%] sm:max-w-[80%] shadow-lg",G.is_ai?"bg-[#FEFCF8] text-[#2A2A2A] border-none":"bg-[#8B1538] text-white border-none"),children:G.is_ai?u.jsx("div",{className:I("prose prose-sm dark:prose-invert max-w-none",U&&"text-sm leading-relaxed"),children:u.jsx(Di,{rehypePlugins:[Jq],components:{h1:({node:ce,...de})=>u.jsx("h1",{className:I("font-bold mt-3 mb-2 text-[#8B1538]",U?"text-lg":"text-2xl"),...de}),h2:({node:ce,...de})=>u.jsx("h2",{className:I("font-semibold mt-2 mb-1 text-[#8B1538]",U?"text-base":"text-xl"),...de}),h3:({node:ce,...de})=>u.jsx("h3",{className:I("font-medium mt-2 mb-1 text-[#8B1538]",U?"text-sm":"text-lg"),...de}),p:({node:ce,...de})=>u.jsx("p",{className:"my-1 leading-relaxed text-[#2A2A2A]",...de}),ul:({node:ce,...de})=>u.jsx("ul",{className:I("list-disc my-2",U?"pl-4":"pl-6"),...de}),ol:({node:ce,...de})=>u.jsx("ol",{className:I("list-decimal my-2",U?"pl-4":"pl-6"),...de}),li:({node:ce,...de})=>u.jsx("li",{className:"my-1 text-[#2A2A2A]",...de}),strong:({node:ce,...de})=>u.jsx("strong",{className:"font-bold text-[#8B1538]",...de}),em:({node:ce,...de})=>u.jsx("em",{className:"italic",...de}),blockquote:({node:ce,...de})=>u.jsx("blockquote",{className:"pl-3 border-l-3 border-[#8B1538] bg-[#F7F3E9] italic my-2 rounded-r-md p-2",...de})},children:G.content})}):u.jsx("p",{className:I("whitespace-pre-line leading-relaxed","text-sm"),children:G.content})})},G.id)),w&&u.jsx("div",{className:"flex justify-start",children:u.jsx("div",{className:"bg-[#FEFCF8] rounded-2xl px-4 py-3 sm:px-5 sm:py-4 max-w-[85%] sm:max-w-[80%] shadow-lg",children:u.jsxs("div",{className:"flex space-x-1",children:[u.jsx("div",{className:"h-2 w-2 bg-[#8B1538]/60 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),u.jsx("div",{className:"h-2 w-2 bg-[#8B1538]/60 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),u.jsx("div",{className:"h-2 w-2 bg-[#8B1538]/60 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})}),u.jsx("div",{ref:Y})]}),u.jsx("div",{className:I("fixed bottom-0 left-0 right-0 z-20 bg-[#F7F3E9] border-t border-[#F7F3E9]",U?"px-3 py-2":"px-4 py-3"),children:u.jsxs("div",{className:I("mx-auto space-y-3",U?"max-w-full":"max-w-4xl"),children:[u.jsxs("div",{className:"flex items-end space-x-2 sm:space-x-3 rounded-xl bg-white shadow-lg p-1",children:[u.jsx("div",{className:"flex-grow",children:u.jsx(tl,{ref:O,placeholder:"Share your ideas for the mystery...",value:y,onChange:Re,onKeyDown:G=>{G.key==="Enter"&&!G.shiftKey&&(G.preventDefault(),ge(y))},disabled:w,className:I("resize-none border-0 shadow-none focus-visible:ring-0 min-h-[44px] bg-transparent",U?"text-base":"text-sm"),rows:1})}),u.jsx(Se,{type:"submit",onClick:()=>ge(y),disabled:w||!y.trim(),size:U?"default":"icon",className:I("shrink-0 bg-[#8B1538] hover:bg-[#6B0F28] text-white rounded-lg",U?"h-11 w-11":"h-9 w-9"),children:w?u.jsx(To,{className:"h-4 w-4 animate-spin"}):u.jsx(DN,{className:"h-4 w-4"})})]}),o&&u.jsxs(Se,{onClick:()=>o(E),disabled:!Ae,size:U?"default":"lg",className:I("w-full bg-[#8B1538] hover:bg-[#6B0F28] text-white font-medium shadow-sm rounded-xl",U?"h-12 text-base":"px-6"),children:[u.jsx(jN,{className:"h-4 w-4 mr-2"}),"Generate Full Mystery"]})]})})]})}const ux=()=>{var x,E,v,w;const[e,t]=b.useState([]),[n,r]=b.useState(null),[s,i]=b.useState(!0),a=En(),{id:o}=Ko(),[l]=aN(),d=l.get("initial")==="true",{isAuthenticated:c,user:h}=un(),m=ir();b.useEffect(()=>{o&&c&&f()},[o,c]);const f=async()=>{try{i(!0);const{data:T,error:S}=await _e.from("conversations").select("*, messages(*)").eq("id",o).single();if(S){console.error("Error loading conversation:",S),se.error("Failed to load conversation");return}if(T){r(T);const C=(T.messages||[]).map(D=>({id:D.id,content:D.content,is_ai:D.role==="assistant",timestamp:new Date(D.created_at),isAutoGenerated:!1}));C.sort((D,j)=>D.timestamp.getTime()-j.timestamp.getTime()),t(C)}}catch(T){console.error("Error:",T),se.error("Failed to load conversation")}finally{i(!1)}},g=async T=>{if(o)try{await _e.from("messages").insert({conversation_id:o,content:T.content,role:T.is_ai?"assistant":"user",is_ai:T.is_ai}),t(S=>S.some(D=>D.id===T.id)?S:[...S,T].sort((D,j)=>D.timestamp.getTime()-j.timestamp.getTime()))}catch(S){console.error("Error saving message:",S),se.error("Failed to save message")}},y=async T=>{a(`/mystery/purchase/${o}`)};return e.some(T=>T.is_ai),s?u.jsxs("div",{className:"min-h-screen flex flex-col",children:[u.jsx(Pt,{}),u.jsx("main",{className:"flex-1 flex items-center justify-center",children:u.jsxs("div",{className:"text-center px-4",children:[u.jsx(To,{className:"h-6 w-6 sm:h-8 sm:w-8 animate-spin mx-auto mb-4"}),u.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"Loading conversation..."})]})})]}):u.jsxs("div",{className:"min-h-screen flex flex-col bg-[#F7F3E9]",children:[u.jsx(Pt,{}),u.jsx("main",{className:I("flex-1 pb-32",m?"pt-2 px-3":"pt-4 px-4"),children:u.jsx("div",{className:I("mx-auto",m?"max-w-full":"max-w-4xl"),children:u.jsx(Zq,{initialTheme:((x=n==null?void 0:n.mystery_data)==null?void 0:x.theme)||"",initialPlayerCount:(E=n==null?void 0:n.mystery_data)==null?void 0:E.playerCount,initialScriptType:(v=n==null?void 0:n.mystery_data)==null?void 0:v.scriptType,initialAdditionalDetails:(w=n==null?void 0:n.mystery_data)==null?void 0:w.additionalDetails,savedMysteryId:o,onSave:g,onGenerateFinal:y,initialMessages:e,isLoadingHistory:!1,systemInstruction:n==null?void 0:n.system_instruction,skipForm:!0,needsInitialAIResponse:d,usePageScroll:!0})})})]})},eG=({mystery:e,parsedDetails:t})=>{var s;const n=ir(),r=((s=t==null?void 0:t.premise)==null?void 0:s.split(`

`)[0])||"";return u.jsxs(kt,{className:I("h-full flex flex-col",n&&"shadow-sm"),children:[u.jsxs(Ht,{className:I(n&&"p-4 pb-3"),children:[u.jsx(on,{className:I(n?"text-lg":"text-xl"),children:e.title}),u.jsx(xn,{className:I(n&&"text-sm"),children:"Murder Mystery Preview"})]}),u.jsxs(It,{className:I("flex-grow space-y-6",n&&"p-4 pt-0 space-y-4"),children:[u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:I("flex items-center text-sm",n&&"text-xs"),children:[u.jsx(MN,{className:I("mr-2 text-muted-foreground",n?"h-3 w-3":"h-4 w-4")}),u.jsx("span",{children:"Players"})]}),u.jsxs("p",{className:I("font-medium",n&&"text-sm"),children:[e.guests||"Unknown # of"," Players"]})]}),r&&u.jsxs("div",{className:"prose prose-sm max-w-none",children:[u.jsx("h3",{className:I("font-medium",n?"text-sm":"text-base"),children:"Story Preview"}),u.jsx("p",{className:I("text-muted-foreground",n?"text-xs leading-relaxed":"text-sm"),children:r}),u.jsx("p",{className:I("italic text-muted-foreground mt-2","text-xs"),children:"Purchase to unlock the complete mystery package with all character details, clues, and materials."})]}),u.jsxs("div",{className:I("bg-muted rounded-lg text-muted-foreground",n?"p-3 text-xs":"p-4 text-sm"),children:[u.jsx("p",{className:I("font-medium mb-2",n&&"text-xs"),children:"What's included in the full package:"}),u.jsxs("ul",{className:I("list-disc space-y-1",n?"pl-3":"pl-4"),children:[u.jsx("li",{children:"Detailed host guide with complete setup instructions"}),u.jsx("li",{children:"Character guides for each player"}),u.jsx("li",{children:"Evidence cards and printable materials"}),u.jsx("li",{children:"Full gameplay script and timeline"})]})]})]})]})},tG=()=>{const{id:e}=Ko(),[t,n]=b.useState(!1),[r,s]=b.useState(null),[i,a]=b.useState(null),o=En(),{isAuthenticated:l,user:d}=un(),c=ir(),h=x=>{const E=[/(?:##?\s*(?:GAME OVERVIEW|OVERVIEW|GAME INTRODUCTION|INTRODUCTION))([\s\S]*?)(?=##|$)/i,/(?:".*?")\s+is\s+a\s+([\s\S]*?)(?=\.\s)/i];for(const v of E){const w=x.match(v);if(w!=null&&w[1])return w[1].trim().replace(/^\s*[-*]\s*/,"")}return""},m=x=>{const E=[/(?:##?\s*(?:PREMISE|Background|Setting|SETTING|SCENARIO|Scenario|THE STORY|Story))([\s\S]*?)(?=##|$)/i,/(?:GAME OVERVIEW)([\s\S]*?)(?=##|MATERIALS NEEDED|BEFORE THE PARTY|$)/i];for(const w of E){const T=x.match(w);if(T!=null&&T[1]&&T[1].trim().length>20)return T[1].trim().replace(/^\s*[-*]\s*/,"")}const v=x.match(/^([^#]+)/);return v!=null&&v[1]&&v[1].trim().length>50?v[1].trim().replace(/^\s*[-*]\s*/,""):""},f=x=>{const E=[],v=[/(?:##?\s*(?:CHARACTER LIST|Characters|CHARACTERS|CHARACTER|SUSPECTS))([\s\S]*?)(?=##|$)/i,/(?:##?\s*(?:[A-Z\s]+ - CHARACTER GUIDE))([\s\S]*?)(?=##|$)/i];let w="";for(const j of v){const F=x.match(j);if(F!=null&&F[1]){w=F[1];break}}if(!w)return E;const T=Array.from(w.matchAll(/(?:\d+\.|\*|\-)\s*\*\*([^*]+)\*\*\s*[-:]\s*([^#\n]+)/g)),S=Array.from(w.matchAll(/\*\*([^*]+)\*\*\s*[-:]\s*([^#\n]+)/g)),C=Array.from(x.matchAll(/##?\s*([A-Z\s]+)\s*-\s*CHARACTER GUIDE\s*\n+(?:CHARACTER DESCRIPTION\s*\n+)?([\s\S]*?)(?=YOUR BACKGROUND|YOUR RELATIONSHIPS|##|$)/ig));let D=[];T.length>=S.length&&T.length>=C.length?D=T:S.length>=T.length&&S.length>=C.length?D=S:D=C;for(const j of D){const[F,V,z]=j;if(V&&z){const P=V.trim().replace(/^\d+\.\s*/,"");let W=z.trim();E.push({name:P,description:W})}}if(E.length===0){const j=w.match(/\*\*([^*]+)\*\*/g);j&&j.forEach(F=>{const V=F.replace(/\*\*/g,"").trim();V&&E.push({name:V,description:"Character details will be revealed in the full package."})}),E.length===0&&Array.from(x.matchAll(/##\s*([A-Z][A-Z\s]+[A-Z])\s*(?:-|)/g)).forEach(V=>{const z=V[1].trim();z&&z.length>2&&!z.match(/EVIDENCE CARD|HOST GUIDE/i)&&E.push({name:z,description:"Full character description available in the purchased package."})})}return E},g=x=>{const E=[],v=/(?:##?\s*(?:EVIDENCE CARDS|CLUES|EVIDENCE|CLUE CARDS))([\s\S]*?)(?=##|$)/i,w=/(?:##?\s*EVIDENCE CARD #?\d+:?\s*([^\n]+)|"?EVIDENCE CARD #?\d+:?\s*([^\n]+)"?)([\s\S]*?)(?=(?:##?\s*EVIDENCE CARD)|##|$)/gi,T=x.match(v),S=(T==null?void 0:T[1])||x,C=Array.from(S.matchAll(w));for(const D of C){const j=(D[1]||D[2]).trim(),F=D[3].trim().split(`
`)[0];j&&E.push({title:j,description:F||"Evidence details available in the full package."})}return E};b.useEffect(()=>{(async()=>{try{const v=new URLSearchParams(window.location.search).get("purchase");v==="success"&&(se.success("Purchase successful! You now have full access to this mystery package."),await _e.from("conversations").update({is_paid:!0,purchase_date:new Date().toISOString()}).eq("id",e)),v==="cancel"&&se.error("Purchase cancelled. You can try again when you're ready.");const{data:w,error:T}=await _e.from("conversations").select("*, messages(*)").eq("id",e).maybeSingle();if(T){console.error("Error fetching mystery:",T),se.error("Failed to load mystery details");return}if(!w){se.error("Mystery not found"),o("/dashboard");return}const S=w.messages?bp(w.messages):null,C={id:w.id,title:S||w.title||"Custom Murder Mystery",created_at:w.created_at,updated_at:w.updated_at,status:w.is_paid?"purchased":w.display_status||"draft",guests:w.player_count||0,theme:w.theme||"",premise:"",purchase_date:w.purchase_date,is_purchased:w.is_paid};if(s(C),w.messages&&w.messages.length>0){const D=w.messages.filter(F=>F.is_ai).sort((F,V)=>new Date(V.created_at||V.timestamp).getTime()-new Date(F.created_at||F.timestamp).getTime());let j=null;for(const F of D){const V=/(?:##\s*(?:PREMISE|GAME OVERVIEW|Background|Setting|SETTING|SCENARIO|Scenario|THE STORY|Story))/i.test(F.content),z=/(?:##\s*(?:CHARACTER LIST|Characters|CHARACTERS|CHARACTER|SUSPECTS))/i.test(F.content);if(V&&z){j=F;break}}if(!j){for(const F of D)if(/(?:##\s*(?:PREMISE|GAME OVERVIEW|Background|Setting|CHARACTER LIST|Characters|CHARACTERS|VICTIM|MURDER|SCENARIO|EVIDENCE))/i.test(F.content)){j=F;break}}if(!j&&D.length>0&&(j=D[0]),j){const F={premise:m(j.content),overview:h(j.content),characters:f(j.content),evidence:g(j.content)};a(F),console.log("Extracted details:",F)}}}catch(E){console.error("Error in fetchMysteryAndMessages:",E),se.error("An error occurred while loading mystery details")}})()},[e,o]);const y=async()=>{if(!l){se.error("Please sign in to purchase this mystery"),o("/sign-in");return}try{n(!0),se.info("Redirecting to secure checkout...");const x=window.location.origin,E=`${x}/mystery/${e}?purchase=success`,v=`${x}/mystery/purchase/${e}?purchase=cancel`,w=`https://buy.stripe.com/dRmdRa2uC2ZS3DW1gd2Nq02?prefilled_email=${encodeURIComponent((d==null?void 0:d.email)||"")}&success_url=${encodeURIComponent(E)}&cancel_url=${encodeURIComponent(v)}`;window.location.href=w}catch(x){console.error("Error redirecting to Stripe:",x),se.error("Failed to redirect to checkout. Please try again."),n(!1)}};return r?u.jsxs("div",{className:"min-h-screen flex flex-col",children:[u.jsx(Pt,{}),u.jsx("main",{className:I("flex-1",c?"py-4 px-3":"py-12 px-4"),children:u.jsxs("div",{className:I("container mx-auto",c?"max-w-full":"max-w-7xl"),children:[u.jsxs("div",{className:I("mb-6 text-center",c&&"mb-4"),children:[u.jsx("h1",{className:I("font-bold mb-2",c?"text-xl":"text-3xl"),children:"Complete Your Purchase"}),u.jsx("p",{className:I("text-muted-foreground",c?"text-sm px-2":"text-base"),children:"Get full access to your murder mystery package"})]}),u.jsxs("div",{className:I("grid gap-6",c?"grid-cols-1 space-y-4":"grid-cols-1 md:grid-cols-2 gap-8"),children:[u.jsx(eG,{mystery:r,parsedDetails:i}),u.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[u.jsxs(kt,{className:I(c&&"shadow-sm"),children:[u.jsxs(Ht,{className:I(c&&"p-4"),children:[u.jsx(on,{className:I(c?"text-lg":"text-xl"),children:"Murder Mystery Package"}),u.jsx(xn,{className:I(c&&"text-sm"),children:"One-time purchase, instant access"})]}),u.jsxs(It,{className:I(c&&"p-4 pt-0"),children:[u.jsxs("div",{className:I("flex items-start gap-4 mb-6",c&&"mb-4"),children:[u.jsx("div",{className:I("rounded bg-primary/10 flex items-center justify-center shrink-0",c?"h-12 w-12":"h-16 w-16"),children:u.jsx(AN,{className:I("text-primary",c?"h-6 w-6":"h-8 w-8")})}),u.jsxs("div",{children:[u.jsx("div",{className:I("font-bold mb-1",c?"text-xl":"text-2xl"),children:"$11.99"}),u.jsx("p",{className:I("text-muted-foreground",c&&"text-sm"),children:"Complete murder mystery package with all character materials, clues, and hosting instructions."})]})]}),u.jsxs("div",{className:I("space-y-3 mb-6",c&&"space-y-2 mb-4"),children:[u.jsx("h3",{className:I("font-medium",c&&"text-sm"),children:"What's included:"}),["Full character profiles for all suspects","Host guide with step-by-step instructions","Printable character sheets","Evidence and clue cards","Timeline of events","Solution reveal script","PDF downloads of all materials"].map((x,E)=>u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx(TN,{className:I("text-green-500 shrink-0 mt-0.5",c?"h-4 w-4":"h-5 w-5")}),u.jsx("span",{className:I(c&&"text-sm"),children:x})]},E))]})]}),u.jsx(jo,{className:I("flex-col gap-4",c&&"p-4 pt-0 gap-3"),children:u.jsx(Se,{className:I("w-full font-medium",c?"h-12 text-base":"h-11"),size:"lg",onClick:y,disabled:t,children:t?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"h-4 w-4 border-2 border-current border-t-transparent rounded-full animate-spin mr-2"}),"Processing..."]}):u.jsxs(u.Fragment,{children:["Complete Purchase",u.jsx(qu,{className:"ml-2 h-4 w-4"})]})})})]}),u.jsxs("div",{className:I("bg-muted rounded-lg p-6",c&&"p-4"),children:[u.jsx("h3",{className:I("font-medium mb-2",c&&"text-sm"),children:"Important Notes"}),u.jsxs("ul",{className:I("list-disc pl-5 space-y-1 text-muted-foreground",c?"text-xs pl-4":"text-sm"),children:[u.jsx("li",{children:"This is a one-time purchase for this specific mystery package"}),u.jsx("li",{children:"You'll have permanent access to download all materials"}),u.jsx("li",{children:"Content is for personal use only, not for commercial redistribution"}),u.jsx("li",{children:"Need help? Contact our support at support@mysterygenerator.com"})]})]})]})]}),u.jsx("div",{className:I("mt-8 text-center",c&&"mt-6"),children:u.jsx(Se,{variant:"outline",onClick:()=>o(`/mystery/chat/${e}`),className:I(c&&"w-full h-11"),children:"Back to Mystery Design"})})]})}),u.jsx(Vt,{})]}):u.jsxs("div",{className:"min-h-screen flex flex-col",children:[u.jsx(Pt,{}),u.jsx("main",{className:"flex-1 py-12 px-4",children:u.jsx("div",{className:"container mx-auto max-w-7xl",children:u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"h-8 w-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})})})}),u.jsx(Vt,{})]})},IA=b.forwardRef(({className:e,...t},n)=>u.jsx("div",{className:"relative w-full overflow-auto",children:u.jsx("table",{ref:n,className:I("w-full caption-bottom text-sm",e),...t})}));IA.displayName="Table";const RA=b.forwardRef(({className:e,...t},n)=>u.jsx("thead",{ref:n,className:I("[&_tr]:border-b",e),...t}));RA.displayName="TableHeader";const PA=b.forwardRef(({className:e,...t},n)=>u.jsx("tbody",{ref:n,className:I("[&_tr:last-child]:border-0",e),...t}));PA.displayName="TableBody";const nG=b.forwardRef(({className:e,...t},n)=>u.jsx("tfoot",{ref:n,className:I("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));nG.displayName="TableFooter";const vf=b.forwardRef(({className:e,...t},n)=>u.jsx("tr",{ref:n,className:I("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));vf.displayName="TableRow";const eo=b.forwardRef(({className:e,...t},n)=>u.jsx("th",{ref:n,className:I("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));eo.displayName="TableHead";const to=b.forwardRef(({className:e,...t},n)=>u.jsx("td",{ref:n,className:I("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));to.displayName="TableCell";const rG=b.forwardRef(({className:e,...t},n)=>u.jsx("caption",{ref:n,className:I("mt-4 text-sm text-muted-foreground",e),...t}));rG.displayName="TableCaption";const sG="https://mhfikaomkmqcndqfohbp.supabase.co",iG="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1oZmlrYW9ta21xY25kcWZvaGJwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM2MTc5MTIsImV4cCI6MjA1OTE5MzkxMn0.xrGd-6SlR2UNOf_1HQJWIsKNe-rNOtPuOsYE8VrRI6w",Ni=x1(sG,iG),aG=({open:e,onOpenChange:t,characters:n,mysteryId:r,mysteryTitle:s="Your Mystery"})=>{const[i,a]=b.useState([]),[o,l]=b.useState(!1);b.useEffect(()=>{e&&n.length>0&&d()},[e,n,r]);const d=async()=>{try{const{data:v,error:w}=await Ni.from("character_assignments").select("*").eq("mystery_id",r);if(w)throw w;const T=new Map((v==null?void 0:v.map(C=>[C.character_id,C]))||[]),S=n.map(C=>{const D=T.get(C.id);return D?{id:D.id,character_id:C.id,guest_name:D.guest_name,guest_email:D.guest_email,is_sent:D.is_sent,sent_at:D.sent_at}:{character_id:C.id,guest_name:"",guest_email:"",is_sent:!1}});a(S)}catch(v){console.error("Error loading assignments:",v),se.error("Failed to load existing assignments")}},c=(v,w,T)=>{a(S=>S.map(C=>C.character_id===v?{...C,[w]:T}:C))},h=v=>v.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/),m=v=>v.guest_name.trim()&&v.guest_email.trim()&&h(v.guest_email)&&!v.is_sent,f=async v=>{var w;if(m(v)){l(!0);try{const T=n.find(F=>F.id===v.character_id);if(!T)throw new Error("Character not found");const S={mystery_id:r,character_id:v.character_id,guest_name:v.guest_name.trim(),guest_email:v.guest_email.trim(),is_sent:!0,sent_at:new Date().toISOString()};let C;if(v.id?C=await Ni.from("character_assignments").update(S).eq("id",v.id).select().single():C=await Ni.from("character_assignments").insert(S).select().single(),C.error)throw C.error;a(F=>F.map(V=>V.character_id===v.character_id?{...V,id:C.data.id,is_sent:!0,sent_at:C.data.sent_at}:V));const{data:D,error:j}=await Ni.functions.invoke("send-character-email",{body:{guest_email:v.guest_email.trim(),guest_name:v.guest_name.trim(),character_name:T.character_name,character_details:((w=T.description)==null?void 0:w.substring(0,200))+"..."||"Mystery character details...",access_token:C.data.access_token||"temp-token",mystery_title:s}});if(j)throw new Error(`Failed to send email: ${j.message}`);se.success(`Character sent to ${v.guest_name}!`)}catch(T){console.error("Error sending assignment:",T),se.error("Failed to send character assignment")}finally{l(!1)}}},g=async v=>{if(v.id)try{const{error:w}=await Ni.from("character_assignments").update({is_sent:!1,sent_at:null}).eq("id",v.id);if(w)throw w;a(T=>T.map(S=>S.character_id===v.character_id?{...S,is_sent:!1,sent_at:void 0}:S))}catch(w){console.error("Error updating assignment:",w),se.error("Failed to update assignment")}},y=async()=>{const v=i.filter(w=>m(w));if(v.length===0){se.error("No valid assignments to send");return}l(!0);try{for(const w of v)await f(w);se.success(`Sent ${v.length} character assignments!`)}catch{se.error("Failed to send some assignments")}finally{l(!1)}},x=v=>v?v.replace(/^##\s*CHARACTER\s*DESCRIPTION\s*/i,"").trim():"",E=i.filter(v=>v.guest_name.trim()&&v.guest_email.trim()).length;return u.jsx(zE,{open:e,onOpenChange:t,children:u.jsxs(cm,{className:"max-w-[90vw] w-full max-w-[800px] max-h-[90vh] overflow-hidden flex flex-col",children:[u.jsxs(dm,{children:[u.jsx(hm,{className:"text-xl font-semibold",children:"Share Characters with Guests"}),u.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Assign each character to a guest and send via email"})]}),u.jsx("div",{className:"flex-1 overflow-auto",children:u.jsxs(IA,{children:[u.jsx(RA,{children:u.jsxs(vf,{children:[u.jsx(eo,{className:"w-[25%]",children:"Character"}),u.jsx(eo,{className:"w-[20%]",children:"Guest Name"}),u.jsx(eo,{className:"w-[25%]",children:"Email"}),u.jsx(eo,{className:"w-[30%]",children:"Action"})]})}),u.jsx(PA,{children:i.map(v=>{const w=n.find(j=>j.id===v.character_id);if(!w)return null;const T=v.is_sent,S=m(v),C=x(w.description||""),D=C.length>60?`${C.substring(0,60)}...`:C;return u.jsxs(vf,{children:[u.jsx(to,{children:u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:w.character_name}),u.jsx("div",{className:"text-xs text-muted-foreground line-clamp-2",children:D})]})}),u.jsx(to,{children:u.jsx(dt,{placeholder:"Guest's name",value:v.guest_name,onChange:j=>c(w.id,"guest_name",j.target.value),disabled:T,className:T?"bg-muted":""})}),u.jsx(to,{children:u.jsx(dt,{type:"email",placeholder:"guest@example.com",value:v.guest_email,onChange:j=>c(w.id,"guest_email",j.target.value),disabled:T,className:T?"bg-muted":""})}),u.jsx(to,{children:u.jsx("div",{className:"flex items-center gap-2",children:T?u.jsxs(u.Fragment,{children:[u.jsxs(Se,{variant:"secondary",size:"sm",onClick:()=>g(v),disabled:o,children:[u.jsx(Af,{className:"h-4 w-4 mr-1"}),"Edit"]}),u.jsxs("div",{className:"flex items-center text-green-600 text-xs",children:[u.jsx(Sf,{className:"h-3 w-3 mr-1"}),"Sent"]})]}):u.jsxs(Se,{variant:"default",size:"sm",onClick:()=>f(v),disabled:!S||o,children:[u.jsx(Xo,{className:"h-4 w-4 mr-1"}),"Send"]})})})]},w.id)})})]})}),u.jsxs("div",{className:"border-t pt-4 flex items-center justify-between",children:[u.jsxs("div",{className:"text-sm text-muted-foreground",children:[E," characters assigned"]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Se,{variant:"outline",onClick:y,disabled:o||i.filter(v=>m(v)).length===0,children:"Send All"}),u.jsx(Se,{variant:"outline",onClick:()=>t(!1),children:"Close"})]})]})]})})},OA=K.memo(({packageContent:e,mysteryTitle:t,generationStatus:n,isGenerating:r,conversationId:s,onGenerateClick:i,packageData:a,characters:o=[]})=>{const[l,d]=b.useState("host-guide"),[c,h]=b.useState("Starting generation..."),[m,f]=b.useState(!1),g=ir();b.useEffect(()=>{n&&h(n.currentStep||"Processing...")},[n]);const y=b.useCallback(L=>L?`

`+L.replace(/\\n/g,`
`).split(`
`).filter(_=>_.trim().startsWith("|")).join(`
`)+`

`:"",[]),x=b.useCallback(L=>L?Array.isArray(L)?L.map(U=>typeof U=="object"&&U!==null?{character:U.character||U.name||"",description:U.description||U.relation||""}:{character:"",description:String(U)}).filter(U=>U.character||U.description):[]:[],[]),E=b.useCallback(L=>L?Array.isArray(L)?L.map(U=>String(U)):typeof L=="string"?[L]:[]:[],[]),v=b.useCallback(L=>{const U=x(L.relationships),Y=E(L.secrets);let O=`# ${L.character_name} - Character Guide

`;L.description&&(O+=`${L.description}

`),L.background&&(O+=`${L.background}

`),U.length>0&&(O+=`## YOUR RELATIONSHIPS

`,U.forEach(ee=>{ee.character&&ee.description&&(O+=`- **${ee.character}**: ${ee.description}
`)}),O+=`
`);const _=L.secret||(Y.length>0?Y[0]:"");return _&&(O+=`${_}

`),O},[x,E]),w=b.useCallback(()=>{if(!a)return"";let U=`# ${a.title||t||"Mystery"} - HOST GUIDE

`;return a.gameOverview&&(U+=`${a.gameOverview}

`),a.materials&&(U+=`${a.materials}

`),a.preparation&&(U+=`${a.preparation}

`),a.timeline&&(U+=`${a.timeline}

`),a.hostGuide&&(U+=`${a.hostGuide}

`),a.hostingTips&&(U+=`${a.hostingTips}

`),U},[a,t]),T=b.useCallback(()=>{if(!e)return"";const L=/# .+ - Host Guide\n([\s\S]*?)(?=# |$)/i,U=e.match(L);return U?U[1].trim():""},[e]),S=b.useCallback(()=>{if(!e)return"";const L=/# (?:INSPECTOR|DETECTIVE) SCRIPT\n([\s\S]*?)(?=# |$)/i,U=e.match(L);return U?U[1].trim():""},[e]),C=b.useCallback(()=>{if(!e)return"";const L=/# CHARACTER RELATIONSHIP MATRIX\n([\s\S]*?)(?=# |$)/i,U=e.match(L);if(!U)return"";const O=U[1].trim().split(`
`),_=O.findIndex(ge=>ge.trim().includes("|"));if(_===-1)return"";const ee=O.slice(_),ie=ee.findIndex((ge,Re)=>{if(Re===0)return!1;const Ae=ge.trim();return!Ae||Ae.startsWith("#")&&!Ae.includes("|")});return(ie>0?ee.slice(0,ie):ee).join(`
`).trim()},[e]),D=b.useCallback(()=>{if(!e)return[];const L=[],U=/# ([^-\n]+) - CHARACTER GUIDE\n([\s\S]*?)(?=# \w+ - CHARACTER GUIDE|# |$)/g;let Y;for(;(Y=U.exec(e))!==null;){const O=Y[1].trim(),_=Y[2].trim();L.push({id:crypto.randomUUID(),package_id:s||"",character_name:O,description:_.substring(0,_.indexOf(`

`))||"",background:"",relationships:[],secrets:[]})}return L},[e,s]),j=b.useCallback(()=>{if(!e)return[];const L=[],U=/# EVIDENCE: (.*?)\n([\s\S]*?)(?=# EVIDENCE:|# |$)/gi;let Y;for(;(Y=U.exec(e))!==null;){const O=Y[1].trim(),_=Y[2].trim();L.push({title:O,content:_})}return L},[e]),F=b.useMemo(()=>a?w():a!=null&&a.hostGuide?a.hostGuide:T(),[a,w,T]),V=b.useMemo(()=>(a==null?void 0:a.detectiveScript)||S(),[a==null?void 0:a.detectiveScript,S]),z=b.useMemo(()=>{let L=(a==null?void 0:a.relationshipMatrix)||C();return L?y(L):""},[a==null?void 0:a.relationshipMatrix,C,y]),P=b.useMemo(()=>o&&o.length>0?o:D(),[o,D]),W=b.useMemo(()=>{if(a!=null&&a.evidenceCards)return a.evidenceCards;const L=j();return L.length>0?L.map(U=>`## ${U.title}

${U.content}`).join(`

---

`):""},[a==null?void 0:a.evidenceCards,j]),Q=b.useMemo(()=>a&&(F||V||W)||o&&o.length>0,[a,F,V,W,o]),te=b.useCallback(({message:L})=>u.jsx("div",{className:I("loading-section",g&&"py-8"),children:u.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[u.jsx(To,{className:I("animate-spin text-primary",g?"h-6 w-6":"h-8 w-8")}),u.jsx("h3",{className:I("font-semibold",g?"text-base":"text-lg"),children:"Generating..."}),u.jsx("p",{className:I("text-muted-foreground text-center max-w-md",g&&"text-sm px-4"),children:L})]})}),[c,g]);return b.useMemo(()=>({table:({children:L})=>u.jsx("div",{className:"overflow-x-auto mb-4",children:u.jsx("table",{className:I("w-full border-collapse border border-border bg-background",g&&"text-xs"),children:L})}),thead:({children:L})=>u.jsx("thead",{className:"bg-muted/50",children:L}),tbody:({children:L})=>u.jsx("tbody",{children:L}),tr:({children:L})=>u.jsx("tr",{className:"border-b border-border hover:bg-muted/25",children:L}),th:({children:L})=>u.jsx("th",{className:I("border border-border px-3 py-2 text-left font-medium text-foreground bg-muted/30",g&&"px-2 py-1 text-xs"),children:L}),td:({children:L})=>u.jsx("td",{className:I("border border-border px-3 py-2 text-foreground",g&&"px-2 py-1 text-xs"),children:L})}),[g]),u.jsxs("div",{className:"w-full",children:[u.jsxs("div",{className:I("mb-6 flex items-center justify-between",g&&"mb-4 px-2 flex-col space-y-3"),children:[u.jsx("h1",{className:I("font-bold",g?"text-xl text-center":"text-3xl"),children:t}),Q&&s&&u.jsxs(Se,{onClick:()=>f(!0),className:I("gap-2 bg-[#8B0000] hover:bg-[#7A0000] text-white",g&&"w-full"),children:[u.jsx(Xo,{className:"h-4 w-4"}),"Share With Guests"]})]}),u.jsxs(xp,{value:l,onValueChange:d,className:"",children:[u.jsxs(Ac,{className:I("w-full mb-4 bg-[#8B0000] p-1 overflow-hidden",g?"grid grid-cols-2 gap-1 h-auto":"grid grid-cols-2 md:grid-cols-5"),children:[u.jsx(Xn,{value:"host-guide",className:I("whitespace-nowrap text-white data-[state=active]:bg-[#5A0000] data-[state=active]:text-white hover:bg-[#7A0000]",g&&"text-xs px-2 py-2 h-auto"),children:g?"Host":"Host Guide"}),u.jsx(Xn,{value:"characters",className:I("whitespace-nowrap text-white data-[state=active]:bg-[#5A0000] data-[state=active]:text-white hover:bg-[#7A0000]",g&&"text-xs px-2 py-2 h-auto"),children:g?`Characters (${(P==null?void 0:P.length)||0})`:`Characters (${(P==null?void 0:P.length)||0})`}),u.jsx(Xn,{value:"clues",className:I("whitespace-nowrap text-white data-[state=active]:bg-[#5A0000] data-[state=active]:text-white hover:bg-[#7A0000]",g&&"text-xs px-2 py-2 h-auto"),children:"Evidence"}),u.jsx(Xn,{value:"inspector",className:I("whitespace-nowrap text-white data-[state=active]:bg-[#5A0000] data-[state=active]:text-white hover:bg-[#7A0000]",g&&"text-xs px-2 py-2 h-auto"),children:g?"Detective":"Detective Guide"}),u.jsx(Xn,{value:"matrix",className:I("whitespace-nowrap text-white data-[state=active]:bg-[#5A0000] data-[state=active]:text-white hover:bg-[#7A0000]",g&&"text-xs px-2 py-2 h-auto"),children:g?"Relations":"Relationships"})]}),u.jsx(Qn,{value:"host-guide",className:I("overflow-hidden",g&&"px-2"),children:u.jsx("div",{className:I("mystery-content",g&&"text-sm"),children:F?u.jsx(Di,{components:{table:({children:L})=>u.jsx("div",{className:"overflow-x-auto",children:u.jsx("table",{className:I(g&&"text-xs"),children:L})}),h1:({children:L})=>u.jsx("h1",{className:I("text-2xl font-bold mb-4",g&&"text-lg mb-3"),children:L}),h2:({children:L})=>u.jsx("h2",{className:I("text-xl font-semibold mb-3",g&&"text-base mb-2"),children:L}),h3:({children:L})=>u.jsx("h3",{className:I("text-lg font-medium mb-2",g&&"text-sm mb-2"),children:L}),p:({children:L})=>u.jsx("p",{className:I("mb-4",g&&"mb-3 text-sm leading-relaxed"),children:L}),ul:({children:L})=>u.jsx("ul",{className:I("list-disc pl-6 mb-4",g&&"pl-4 mb-3 text-sm"),children:L}),ol:({children:L})=>u.jsx("ol",{className:I("list-decimal pl-6 mb-4",g&&"pl-4 mb-3 text-sm"),children:L})},children:F}):r?u.jsx(te,{message:u.jsxs(u.Fragment,{children:["Currently generating your complete mystery. This process will take around 3-5 minutes.",u.jsx("br",{}),"This page will automatically refresh once the mystery is complete."]})}):u.jsxs("div",{className:I("text-center py-12 space-y-4",g&&"py-8 space-y-3 px-4"),children:[u.jsx(LN,{className:I("mx-auto text-muted-foreground",g?"h-10 w-10":"h-12 w-12")}),u.jsx("h3",{className:I("font-semibold",g?"text-lg":"text-xl"),children:"Ready to Generate Your Mystery"}),u.jsx("p",{className:I("text-muted-foreground",g&&"text-sm"),children:"Click the button below to start generating your complete mystery package with all materials included."}),i&&u.jsx(Se,{onClick:i,className:I("mt-4",g&&"w-full text-sm h-11"),children:"Generate Package"})]})})}),u.jsx(Qn,{value:"characters",className:I("overflow-hidden",g&&"px-2"),children:u.jsx("div",{className:I("mystery-content",g&&"text-sm"),children:Array.isArray(P)&&P.length>0?u.jsx("div",{className:I("space-y-4",g&&"space-y-3"),children:P.map((L,U)=>{const Y=v(L);return u.jsx(ep,{type:"single",collapsible:!0,className:"character-accordion",children:u.jsxs(Ec,{value:`character-${U}`,children:[u.jsx(wc,{className:I("text-left",g&&"py-3"),children:u.jsx("h3",{className:I("font-semibold text-foreground",g?"text-base":"text-lg"),children:L.character_name})}),u.jsx(Tc,{className:I("text-foreground",g&&"text-sm"),children:u.jsx(Di,{components:{table:({children:O})=>u.jsx("div",{className:"overflow-x-auto",children:u.jsx("table",{className:I(g&&"text-xs"),children:O})}),h1:({children:O})=>u.jsx("h1",{className:I("text-xl font-bold mb-3",g&&"text-base mb-2"),children:O}),h2:({children:O})=>u.jsx("h2",{className:I("text-lg font-semibold mb-3",g&&"text-sm mb-2"),children:O}),h3:({children:O})=>u.jsx("h3",{className:I("text-base font-medium mb-2",g&&"text-sm mb-2"),children:O}),p:({children:O})=>u.jsx("p",{className:I("mb-3",g&&"mb-2 text-sm leading-relaxed"),children:O}),ul:({children:O})=>u.jsx("ul",{className:I("list-disc pl-5 mb-3",g&&"pl-4 mb-2 text-sm"),children:O})},children:Y})})]})},L.id||U)})}):r?u.jsx(te,{message:"Developing unique character profiles with backgrounds, motivations, and secrets for your mystery game."}):u.jsx("div",{className:I("text-center py-6",g&&"py-4 px-4"),children:u.jsx("p",{className:I("text-muted-foreground",g&&"text-sm"),children:"Character guides will be available after generation starts."})})})}),u.jsx(Qn,{value:"clues",className:I("overflow-hidden",g&&"px-2"),children:u.jsx("div",{className:I("mystery-content",g&&"text-sm"),children:W?u.jsx(Di,{components:{table:({children:L})=>u.jsx("div",{className:"overflow-x-auto",children:u.jsx("table",{className:I(g&&"text-xs"),children:L})}),h1:({children:L})=>u.jsx("h1",{className:I("text-2xl font-bold mb-4",g&&"text-lg mb-3"),children:L}),h2:({children:L})=>u.jsx("h2",{className:I("text-xl font-semibold mb-3",g&&"text-base mb-2"),children:L}),p:({children:L})=>u.jsx("p",{className:I("mb-4",g&&"mb-3 text-sm leading-relaxed"),children:L})},children:W}):r?u.jsx(te,{message:"Crafting evidence cards, clues, and investigative materials that will help solve your mystery."}):u.jsx("div",{className:I("text-center py-6",g&&"py-4 px-4"),children:u.jsx("p",{className:I("text-muted-foreground",g&&"text-sm"),children:"Evidence cards will be available after generation starts."})})})}),u.jsx(Qn,{value:"inspector",className:I("overflow-hidden",g&&"px-2"),children:u.jsx("div",{className:I("mystery-content",g&&"text-sm"),children:V?u.jsx(Di,{components:{table:({children:L})=>u.jsx("div",{className:"overflow-x-auto",children:u.jsx("table",{className:I(g&&"text-xs"),children:L})}),h1:({children:L})=>u.jsx("h1",{className:I("text-2xl font-bold mb-4",g&&"text-lg mb-3"),children:L}),h2:({children:L})=>u.jsx("h2",{className:I("text-xl font-semibold mb-3",g&&"text-base mb-2"),children:L}),p:({children:L})=>u.jsx("p",{className:I("mb-4",g&&"mb-3 text-sm leading-relaxed"),children:L}),ul:({children:L})=>u.jsx("ul",{className:I("list-disc pl-6 mb-4",g&&"pl-4 mb-3 text-sm"),children:L}),ol:({children:L})=>u.jsx("ol",{className:I("list-decimal pl-6 mb-4",g&&"pl-4 mb-3 text-sm"),children:L})},children:V}):r?u.jsx(te,{message:"Writing the detective's script and investigation timeline to guide the mystery solving process."}):u.jsx("div",{className:I("text-center py-6",g&&"py-4 px-4"),children:u.jsx("p",{className:I("text-muted-foreground",g&&"text-sm"),children:"Detective guide will be available after generation starts."})})})}),u.jsx(Qn,{value:"matrix",className:I("overflow-hidden",g&&"px-2"),children:u.jsx("div",{className:I("mystery-content",g&&"text-sm"),children:z?u.jsxs("div",{children:[u.jsx("h2",{className:I("text-xl font-semibold mb-4",g&&"text-lg mb-3"),children:"Character Relationship Matrix"}),u.jsx("div",{className:"overflow-x-auto mb-4",dangerouslySetInnerHTML:{__html:z.split(`
`).filter(L=>L.trim().startsWith("|")).map((L,U)=>{const Y=L.split("|").slice(1,-1).map(O=>O.trim().replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>"));return U===0?`<tr>${Y.map(O=>`<th class="border border-gray-300 px-3 py-2 text-left font-medium bg-gray-100">${O}</th>`).join("")}</tr>`:U===1?"":`<tr class="hover:bg-gray-50">${Y.map(O=>`<td class="border border-gray-300 px-3 py-2">${O}</td>`).join("")}</tr>`}).filter(L=>L).join("").replace(/^/,'<table class="w-full border-collapse border border-gray-300 bg-white">').replace(/$/,"</table>")}})]}):r?u.jsx(te,{message:"Building the character relationship matrix showing connections, conflicts, and hidden relationships."}):u.jsx("div",{className:I("text-center py-6",g&&"py-4 px-4"),children:u.jsx("p",{className:I("text-muted-foreground",g&&"text-sm"),children:"Relationship matrix will be available after generation starts."})})})})]}),u.jsx(aG,{open:m,onOpenChange:f,characters:P,mysteryId:s||"",mysteryTitle:t})]})});OA.displayName="MysteryPackageTabView";const oG=pa("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",warning:"border-amber-500/50 bg-amber-50 text-amber-800 dark:bg-amber-950 dark:text-amber-300 dark:border-amber-700 [&>svg]:text-amber-800 dark:[&>svg]:text-amber-300"}},defaultVariants:{variant:"default"}}),DA=b.forwardRef(({className:e,variant:t,...n},r)=>u.jsx("div",{ref:r,role:"alert",className:I(oG({variant:t}),e),...n}));DA.displayName="Alert";const MA=b.forwardRef(({className:e,...t},n)=>u.jsx("h5",{ref:n,className:I("mb-1 font-medium leading-none tracking-tight",e),...t}));MA.displayName="AlertTitle";const LA=b.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:I("text-sm [&_p]:leading-relaxed",e),...t}));LA.displayName="AlertDescription";const lG=()=>{const[e,t]=b.useState(null),[n,r]=b.useState([]),[s,i]=b.useState(null),[a,o]=b.useState(null),[l,d]=b.useState([]),[c,h]=b.useState(!0),[m,f]=b.useState(!1),[g,y]=b.useState(null),[x,E]=b.useState(null),{id:v}=Ko(),w=En();un();const T=ir(),S=b.useRef(!1),C=b.useRef(0);b.useRef(0);const D=b.useRef(null),j=b.useCallback((O,_)=>{},[]),F=b.useCallback(async()=>{if(!v){console.log(" [DEBUG] No ID provided to fetchStructuredPackageData");return}try{console.log(" [DEBUG] Fetching structured package data for:",v);const{data:O,error:_}=await _e.from("mystery_packages").select(`
          title,
          game_overview,
          host_guide,
          materials,
          preparation_instructions,
          timeline,
          hosting_tips,
          evidence_cards,
          relationship_matrix,
          detective_script,
          id
        `).eq("conversation_id",v).order("updated_at",{ascending:!1}).limit(1).maybeSingle();if(_){console.error(" [DEBUG] Error fetching package data:",_);return}if(O){console.log(" [DEBUG] Package data found:",O);const ee={title:O.title,gameOverview:O.game_overview,hostGuide:O.host_guide,materials:O.materials,preparation:O.preparation_instructions,timeline:O.timeline,hostingTips:O.hosting_tips,evidenceCards:O.evidence_cards,relationshipMatrix:O.relationship_matrix,detectiveScript:O.detective_script};o(ee),console.log(" [DEBUG] Structured package data loaded");const{data:ie,error:k}=await _e.from("mystery_characters").select("*").eq("package_id",O.id).order("character_name");k?console.error(" [DEBUG] Error fetching characters:",k):ie&&ie.length>0&&(d(ie),console.log(` [DEBUG] Loaded ${ie.length} characters from database`))}else console.log(" [DEBUG] No package data found")}catch(O){console.error(" [DEBUG] Error in fetchStructuredPackageData:",O)}},[v]),V=b.useCallback(async()=>{if(v)try{const{data:O,error:_}=await _e.from("messages").select("*").eq("conversation_id",v).order("created_at",{ascending:!0});if(_){console.error(" [DEBUG] Error fetching messages:",_);return}O&&(r(O),console.log(` [DEBUG] Loaded ${O.length} messages for title extraction`))}catch(O){console.error(" [DEBUG] Error in fetchMessages:",O)}},[v]),z=b.useCallback(()=>{if(!n||n.length===0)return null;try{return bp(n)}catch(O){return console.error(" [DEBUG] Error extracting title:",O),null}},[n]),P=b.useCallback(()=>{var _;return z()||(e==null?void 0:e.title)||((_=e==null?void 0:e.mystery_data)==null?void 0:_.theme)||"Mystery Package"},[z,e]),W=b.useCallback(async()=>{if(!v){se.error("Mystery ID is missing");return}f(!0);try{se.info("Resuming your mystery generation..."),S.current=!1,await E8(v),j("Resume generation initiated")}catch(O){j("Error resuming package generation",O),f(!1),se.error(O.message||"Failed to resume generation")}},[v,j]),Q=b.useCallback(async()=>{if(!v){se.error("Mystery ID is missing");return}f(!0),S.current=!1;try{se.info("Starting generation of your mystery package. This will take 3-5 minutes..."),await sS(v),j("Generation started, auto-refresh will check status")}catch(O){j("Error starting package generation",O),f(!1),se.error(O.message||"Failed to start package generation")}},[v,j]),te=b.useCallback(async()=>{var _;if(!v)return null;const O=Date.now();if(O-C.current<1e4)return j(" Status check throttled"),g;C.current=O;try{console.log("=== STATUS CHECK DEBUG === Starting comprehensive status check");const{data:ee,error:ie}=await _e.from("mystery_packages").select(`
          title,
          host_guide,
          generation_completed_at,
          generation_status,
          id
        `).eq("conversation_id",v).order("updated_at",{ascending:!1}).limit(1).maybeSingle();console.log("=== STATUS CHECK DEBUG === Package data:",ee),ie&&console.error("=== STATUS CHECK DEBUG === Package error:",ie);const{data:k,error:ge}=await _e.from("conversations").select(`
          has_complete_package,
          is_paid,
          needs_package_generation,
          status,
          display_status
        `).eq("id",v).single();console.log("=== STATUS CHECK DEBUG === Conversation data:",k),ge&&console.error("=== STATUS CHECK DEBUG === Conversation error:",ge);const Re=ee&&(ee.title||ee.host_guide||ee.generation_completed_at),Ae=k&&(k.has_complete_package===!0||k.is_paid===!0),G=((_=ee==null?void 0:ee.generation_status)==null?void 0:_.status)==="completed";if(console.log("=== STATUS CHECK DEBUG === Completion indicators:",{hasActualContent:Re,conversationIndicatesComplete:Ae,packageStatusComplete:G,packageGenerationStatus:ee==null?void 0:ee.generation_status,conversationStatus:k}),Re||Ae||G){const be=g==null?void 0:g.status;console.log("=== STATUS CHECK DEBUG === Completion detected, previous status:",be);const we={status:"completed",progress:100,currentStep:"Package generation completed",sections:{hostGuide:!0,characters:!0,clues:!0},resumable:!1};return ee!=null&&ee.id&&await _e.from("mystery_packages").update({generation_status:we}).eq("id",ee.id),console.log("=== STATUS CHECK DEBUG === Forced status to completed"),y(we),E(new Date),be!=="completed"&&(console.log("=== STATUS CHECK DEBUG === Status changed to completed - triggering completion actions"),f(!1),await F(),await _e.from("conversations").update({status:"purchased",is_paid:!0,needs_package_generation:!1,display_status:"purchased",has_complete_package:!0}).eq("id",v),S.current||(se.success("Your mystery package is ready! The page will refresh automatically.",{duration:1e4,id:"mystery-completed"}),S.current=!0,setTimeout(()=>window.location.reload(),2e3))),we}console.log("=== STATUS CHECK DEBUG === No completion detected, using normal status check");const ce=await Xh(v),de=g==null?void 0:g.status;if(console.log("=== STATUS CHECK DEBUG === Normal status result:",{currentStatus:ce.status,previousStatus:de,statusChanged:ce.status!==de}),y(ce),E(new Date),ce.status==="failed"&&de!=="failed"){console.log("=== STATUS CHECK DEBUG === Generation failed"),f(!1);const be=ce.currentStep||"Generation failed at an unknown step";ce.resumable?se.error(u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(rg,{className:"h-4 w-4 text-orange-500"}),u.jsx("span",{className:"font-semibold",children:"Generation Paused"})]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:be}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Don't worry - your progress has been saved and you can resume where you left off."}),u.jsxs(Se,{size:"sm",onClick:W,className:"w-full",children:[u.jsx(ts,{className:"h-3 w-3 mr-1"}),"Resume Generation"]})]}),{duration:15e3,id:"mystery-failed-resumable"}):se.error(u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(ng,{className:"h-4 w-4 text-red-500"}),u.jsx("span",{className:"font-semibold",children:"Generation Failed"})]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:be}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"You can try generating your mystery package again."}),u.jsxs(Se,{size:"sm",onClick:Q,className:"w-full",children:[u.jsx(ts,{className:"h-3 w-3 mr-1"}),"Try Again"]})]}),{duration:15e3,id:"mystery-failed-retry"})}return ce}catch(ee){return console.error("=== STATUS CHECK DEBUG === Error in status checking:",ee),null}},[v,w,g==null?void 0:g.status,F,j,W,Q]);b.useEffect(()=>{if(!v)return;const O=()=>{D.current&&(console.log(" [DEBUG] Clearing existing polling interval"),clearInterval(D.current),D.current=null)},_=(g==null?void 0:g.status)==="in_progress"||m&&!g||m&&(g==null?void 0:g.status)!=="completed"&&(g==null?void 0:g.status)!=="failed";return console.log(" [DEBUG] Polling decision:",{shouldPoll:_,generationStatus:g==null?void 0:g.status,generating:m,hasInterval:!!D.current}),_&&!D.current?(console.log(" [DEBUG] Starting auto-refresh polling (30s intervals)"),D.current=setInterval(async()=>{console.log(" [DEBUG] Polling tick - checking generation status");try{const ee=await te();ee&&(ee.status==="completed"||ee.status==="failed")&&(console.log(` [DEBUG] Generation finished with status: ${ee.status} - stopping polling`),O())}catch(ee){console.error(" [DEBUG] Error during polling tick:",ee)}},3e4)):!_&&D.current&&(console.log(" [DEBUG] Stopping polling - conditions no longer met"),O()),()=>{console.log(" [DEBUG] useEffect cleanup - clearing polling interval"),O()}},[v,g==null?void 0:g.status,m,te]),b.useEffect(()=>{if(!v)return;console.log(" [REALTIME] Setting up Supabase Realtime subscription for mystery_packages");const O=_e.channel("mystery_packages").on("postgres_changes",{event:"UPDATE",schema:"public",table:"mystery_packages",filter:`conversation_id=eq.${v}`},async _=>{console.log(" [REALTIME] Real-time update received:",_);try{await te(),console.log(" [REALTIME] Status check triggered by real-time update")}catch(ee){console.error(" [REALTIME] Error during real-time triggered status check:",ee)}}).subscribe(_=>{console.log(" [REALTIME] Subscription status:",_)});return()=>{console.log(" [REALTIME] Unsubscribing from real-time updates"),O.unsubscribe()}},[v,te]),b.useEffect(()=>{(async()=>{if(v){h(!0);try{console.log(" [DEBUG] Starting fetchMystery for:",v),new URLSearchParams(window.location.search).get("purchase")==="success"&&se.success("Purchase successful! You now have full access to this mystery package.");const{data:ie,error:k}=await _e.from("conversations").select("*, mystery_data, is_paid, has_complete_package, needs_package_generation").eq("id",v).single();if(k){console.error(" [DEBUG] Error fetching mystery:",k),se.error("Failed to load mystery");return}if(console.log(" [DEBUG] Mystery data loaded:",{id:ie.id,is_paid:ie.is_paid,needs_package_generation:ie.needs_package_generation,has_complete_package:ie.has_complete_package}),t(ie),await V(),ie.needs_package_generation||ie.is_paid||ie.has_complete_package){const ge=await Xh(v);console.log(" [DEBUG] Initial status check:",ge),y(ge),E(new Date),ge.status==="in_progress"?(f(!0),console.log(" [DEBUG] Generation in progress, starting polling")):ge.status==="completed"&&(S.current=!1,console.log(" [DEBUG] Generation already completed, loading data"),await F(),await _e.from("conversations").update({is_paid:!0,has_complete_package:!0,display_status:"purchased",mystery_data:{...ie.mystery_data,status:"purchased"}}).eq("id",v))}(ie.has_complete_package||ie.is_paid)&&await F()}catch(_){console.error(" [DEBUG] Error in fetchMystery:",_),se.error("Failed to load mystery")}finally{h(!1)}}})()},[v,F,V]);const L=b.useCallback(()=>{j("Manual refresh triggered"),te()},[te,j]),U=()=>{var O,_,ee,ie,k,ge;return g?g.status==="failed"?u.jsxs(kt,{className:I("mb-6 border-red-200 bg-red-50",T&&"mx-2"),children:[u.jsxs(Ht,{className:I(T&&"p-4 pb-3"),children:[u.jsxs(on,{className:I("flex items-center justify-between text-red-700",T?"text-lg flex-col space-y-2 items-start":"flex-row"),children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(ng,{className:I("text-red-500",T?"h-4 w-4":"h-5 w-5")}),u.jsx("span",{className:I(T&&"text-base"),children:"Generation Failed"})]}),u.jsx(Se,{variant:"ghost",size:"sm",onClick:L,className:I("h-8 w-8 p-0",T&&"self-end"),title:"Refresh status",children:u.jsx(ts,{className:"h-4 w-4"})})]}),u.jsx(xn,{className:I("text-red-600",T&&"text-sm"),children:g.currentStep||"An error occurred during generation"})]}),u.jsxs(It,{className:I("space-y-4",T&&"p-4 pt-0 space-y-3"),children:[u.jsxs(DA,{className:"border-red-200",children:[u.jsx(rg,{className:I(T?"h-3 w-3":"h-4 w-4")}),u.jsx(MA,{className:I(T&&"text-sm"),children:"What happened?"}),u.jsx(LA,{className:I(T&&"text-xs"),children:g.resumable?"Your generation encountered an issue but can be resumed from where it left off. Your progress has been saved.":"The generation process failed and needs to be restarted. Don't worry - this happens sometimes and trying again usually works."})]}),u.jsx("div",{className:I("flex space-x-2",T&&"flex-col space-x-0 space-y-2"),children:g.resumable?u.jsxs(Se,{onClick:W,disabled:m,className:I("flex-1",T&&"w-full text-sm h-10"),children:[u.jsx(ts,{className:I("mr-2",T?"h-3 w-3":"h-4 w-4")}),"Resume Generation"]}):u.jsxs(Se,{onClick:Q,disabled:m,className:I("flex-1",T&&"w-full text-sm h-10"),children:[u.jsx(ts,{className:I("mr-2",T?"h-3 w-3":"h-4 w-4")}),"Try Again"]})})]})]}):u.jsxs(kt,{className:I("mb-6",T&&"mx-2"),children:[u.jsxs(Ht,{className:I(T&&"p-4 pb-3"),children:[u.jsxs(on,{className:I("flex items-center justify-between",T?"text-lg flex-col space-y-2 items-start":"flex-row"),children:[u.jsx("span",{className:I(T&&"text-base"),children:"Generating Your Mystery Package"}),u.jsx(Se,{variant:"ghost",size:"sm",onClick:L,className:I("h-8 w-8 p-0",T&&"self-end"),title:"Refresh status",children:u.jsx(ts,{className:"h-4 w-4"})})]}),u.jsx(xn,{className:I(T&&"text-sm"),children:"This process takes 3-5 minutes to complete. This page automatically refreshes every 15 seconds."})]}),u.jsxs(It,{className:I("space-y-4",T&&"p-4 pt-0 space-y-3"),children:[u.jsxs("div",{className:I("flex flex-col md:flex-row gap-4 text-sm",T&&"gap-3"),children:[u.jsxs("div",{className:I("flex-1 border rounded-md p-3",T&&"p-3"),children:[u.jsxs("div",{className:I("font-medium mb-2 flex items-center",T&&"text-sm"),children:[u.jsx(Qd,{className:I("mr-2",T?"h-3 w-3":"h-4 w-4")}),u.jsx("span",{children:"Current Step"})]}),u.jsx("p",{className:I("text-muted-foreground",T&&"text-xs leading-relaxed"),children:g.currentStep})]}),u.jsxs("div",{className:I("flex-1 border rounded-md p-3",T&&"p-3"),children:[u.jsx("div",{className:I("font-medium mb-2",T&&"text-sm"),children:"Generation Progress"}),u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:`h-2 w-2 rounded-full mr-2 ${(O=g.sections)!=null&&O.hostGuide?"bg-green-500":"bg-muted"}`}),u.jsx("span",{className:I((_=g.sections)!=null&&_.hostGuide?"":"text-muted-foreground",T&&"text-xs"),children:"Host Guide"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:`h-2 w-2 rounded-full mr-2 ${(ee=g.sections)!=null&&ee.characters?"bg-green-500":"bg-muted"}`}),u.jsx("span",{className:I((ie=g.sections)!=null&&ie.characters?"":"text-muted-foreground",T&&"text-xs"),children:"Character Guides"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:`h-2 w-2 rounded-full mr-2 ${(k=g.sections)!=null&&k.clues?"bg-green-500":"bg-muted"}`}),u.jsx("span",{className:I((ge=g.sections)!=null&&ge.clues?"":"text-muted-foreground",T&&"text-xs"),children:"Clues & Materials"})]})]})]})]}),u.jsxs("p",{className:I("text-sm text-muted-foreground",T&&"text-xs"),children:[u.jsx("strong",{children:"Auto-refresh:"})," This page automatically checks for updates every 15 seconds.",x&&` Last update: ${x.toLocaleTimeString()}`]})]})]}):null};if(c)return u.jsxs("div",{className:"min-h-screen flex flex-col",children:[u.jsx(Pt,{}),u.jsx("main",{className:I("flex-1 py-12 px-4",T&&"py-6 px-3"),children:u.jsxs("div",{className:"container mx-auto max-w-4xl",children:[u.jsx("div",{className:"h-8 w-8 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto"}),u.jsx("p",{className:I("text-center mt-4",T&&"text-sm mt-3"),children:"Loading your mystery..."})]})}),u.jsx(Vt,{})]});const Y=(g==null?void 0:g.status)==="completed"||s||a||l.length>0||e&&(e.is_paid||e.has_complete_package);return console.log(" [DEBUG] shouldShowTabs decision:",{generationStatus:g==null?void 0:g.status,hasPackageContent:!!s,hasPackageData:!!a,charactersCount:l.length,mysteryPaid:e==null?void 0:e.is_paid,mysteryComplete:e==null?void 0:e.has_complete_package,result:Y}),u.jsxs("div",{className:"min-h-screen flex flex-col",children:[u.jsx(Pt,{}),u.jsx("main",{className:I("flex-1 py-12 px-4",T&&"py-6 px-3"),children:u.jsx("div",{className:I("container mx-auto max-w-4xl",T&&"max-w-full"),children:Y?u.jsx(OA,{packageContent:s||"",mysteryTitle:P(),generationStatus:g||void 0,conversationId:v,onGenerateClick:Q,isGenerating:m,packageData:a||void 0,characters:l}):(g==null?void 0:g.status)==="in_progress"?U():u.jsxs(kt,{className:I("mb-6",T&&"mx-2"),children:[u.jsxs(Ht,{className:I(T&&"p-4 pb-3"),children:[u.jsx(on,{className:I(T&&"text-lg"),children:"Generate Your Mystery Package"}),u.jsx(xn,{className:I(T&&"text-sm"),children:"Your mystery is ready to be generated. Click the button below to create your custom murder mystery package."})]}),u.jsxs(It,{className:I(T&&"p-4 pt-0"),children:[u.jsx(Se,{onClick:Q,disabled:m,className:I("w-full sm:w-auto",T&&"w-full text-sm h-11"),children:m?u.jsxs(u.Fragment,{children:[u.jsx(ts,{className:I("mr-2 animate-spin",T?"h-3 w-3":"h-4 w-4")}),"Starting Generation..."]}):"Generate Mystery Package"}),u.jsx("p",{className:I("text-sm text-muted-foreground mt-3",T&&"text-xs mt-2"),children:"Generation takes 3-5 minutes. This page will auto-refresh to show progress."})]})]})})}),u.jsx(Vt,{})]})},uG=lm,cG=VE,dG=al,hG=um,jA=b.forwardRef(({className:e,...t},n)=>u.jsx(nl,{className:I("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));jA.displayName=nl.displayName;const fG=pa("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),FA=b.forwardRef(({side:e="right",className:t,children:n,...r},s)=>u.jsxs(hG,{children:[u.jsx(jA,{}),u.jsxs(rl,{ref:s,className:I(fG({side:e}),t),...r,children:[n,u.jsxs(al,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[u.jsx(Gu,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));FA.displayName=rl.displayName;const BA=({className:e,...t})=>u.jsx("div",{className:I("flex flex-col space-y-2 text-center sm:text-left",e),...t});BA.displayName="SheetHeader";const UA=({className:e,...t})=>u.jsx("div",{className:I("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});UA.displayName="SheetFooter";const HA=b.forwardRef(({className:e,...t},n)=>u.jsx(sl,{ref:n,className:I("text-lg font-semibold text-foreground",e),...t}));HA.displayName=sl.displayName;const $A=b.forwardRef(({className:e,...t},n)=>u.jsx(il,{ref:n,className:I("text-sm text-muted-foreground",e),...t}));$A.displayName=il.displayName;const mG=[{id:1,title:"Murder at the Mansion",description:"A classic whodunit set in a lavish estate with suspects from all walks of life.",author:"Jane Smith",players:"6-8",difficulty:"Medium",imageUrl:"https://images.unsplash.com/photo-1579025743489-3cc56b0b1ba3?q=80&w=1000&auto=format&fit=crop",fullDescription:"Welcome to the annual gala at the prestigious Thornfield Estate. What should have been an evening of elegance and celebration turns deadly when the host, billionaire industrialist Richard Thornfield, is found murdered in his study. With a storm raging outside and the police unable to arrive until morning, it's up to the guests to solve the crime. Each character has their own secrets and motivations, and one of them is a killer. Can you identify the murderer before they strike again?",characters:["The Butler","The Heiress","The Business Partner","The Ex-Wife","The Chef","The Celebrity","The Detective"]},{id:2,title:"Death on the Orient Express",description:"A thrilling mystery aboard a luxury train traveling through Europe.",author:"John Doe",players:"8-10",difficulty:"Hard",imageUrl:"https://images.unsplash.com/photo-1501785888041-af3ef285b470?q=80&w=1000&auto=format&fit=crop",fullDescription:"Inspired by Agatha Christie's classic, this mystery unfolds on the famous Orient Express. A wealthy businessman is found stabbed in his compartment, and with the train stuck in a snowdrift, the killer must be among the passengers. Each character has a connection to a past tragedy, and revenge is in the air. This complex mystery requires careful attention to alibis and motives.",characters:["The Detective","The Secretary","The Countess","The Doctor","The Colonel","The Governess","The Valet","The Princess"]},{id:3,title:"The Poisoned Cocktail",description:"A murder mystery set during a glamorous cocktail party in the 1950s.",author:"Emma Johnson",players:"5-7",difficulty:"Easy",imageUrl:"https://images.unsplash.com/photo-1470337458703-46ad1756a187?q=80&w=1000&auto=format&fit=crop",fullDescription:"It's 1956 in Hollywood, and famous director Maxwell Reed is hosting a cocktail party to celebrate his latest film. When he drops dead after drinking his signature martini, everyone at the party becomes a suspect. Was it his jealous wife? His rival director? The starlet he recently fired? This mystery features glamour, gossip, and deadly secrets.",characters:["The Starlet","The Producer","The Director's Wife","The Rival","The Bartender"]},{id:4,title:"Secrets of the Ancient Temple",description:"Archaeological expedition gone wrong with mysterious deaths and ancient curses.",author:"Michael Brown",players:"7-9",difficulty:"Medium",imageUrl:"https://images.unsplash.com/photo-1496442226666-8d4d0e62e6e9?q=80&w=1000&auto=format&fit=crop",fullDescription:"An archaeological team has made the discovery of the century - an untouched temple deep in the jungle. But when the expedition leader is found dead with strange markings on his body, talk of an ancient curse spreads through the camp. Is there something supernatural at work, or is there a very human killer with their own agenda? As more members of the expedition die, time is running out to solve the mystery.",characters:["The Professor","The Heir Funding the Expedition","The Local Guide","The Photographer","The Graduate Student","The Rival Archaeologist","The Journalist"]},{id:5,title:"Hollywood Homicide",description:"A murder on a movie set with directors, actors, and crew as the main suspects.",author:"Sarah Wilson",players:"6-8",difficulty:"Medium",imageUrl:"https://images.unsplash.com/photo-1478720568477-152d9b164e26?q=80&w=1000&auto=format&fit=crop",fullDescription:"On the set of a blockbuster action film, the demanding star is found dead in his trailer. With millions of dollars at stake and production halted, the producer is desperate to find the killer quickly and quietly. Every suspect has a motive - from the understudy who wanted the role to the director who couldn't control the star's demands. Behind the glamour of Hollywood lies a web of jealousy, debt, and secrets.",characters:["The Director","The Producer","The Understudy","The Stunt Double","The Agent","The Makeup Artist","The Screenwriter"]},{id:6,title:"Casino Royale Mystery",description:"High stakes and higher danger at an exclusive casino with a murderer on the loose.",author:"David Thompson",players:"8-10",difficulty:"Hard",imageUrl:"https://images.unsplash.com/photo-1606167668584-78701c57f13d?q=80&w=1000&auto=format&fit=crop",fullDescription:"At the exclusive Casino Royale, a high-stakes poker game turns deadly when the casino owner is poisoned during the final hand. Every player at the table had a reason to want him dead - gambling debts, blackmail, revenge. The casino has been locked down until the killer is found, but with millions in chips on the table, tensions are running high.",characters:["The Card Sharp","The Heiress","The Former Employee","The Security Chief","The Rival Casino Owner","The Blackmailed Politician","The Dealer","The Private Investigator"]},{id:7,title:"Deadly Reunion",description:"A high school reunion turns deadly when old rivalries and secrets resurface.",author:"Patricia Clark",players:"6-9",difficulty:"Medium",imageUrl:"https://images.unsplash.com/photo-1523240795612-9a054b0db644?q=80&w=1000&auto=format&fit=crop",fullDescription:"Twenty years after graduation, the class of 2003 returns to Lakeside High for their reunion. When the former prom queen is found dead in the gymnasium, old rivalries and buried secrets come to light. Everyone had a reason to hate her - the classmate she bullied, the boyfriend she cheated on, the teacher whose career she nearly ruined. This mystery explores how the past can come back to haunt you.",characters:["The Former Jock","The Nerd Turned Tech Billionaire","The Teacher","The Former Best Friend","The Ex-Boyfriend","The Class President","The Outsider","The Yearbook Editor"]},{id:8,title:"Murder on the Menu",description:"A renowned chef is poisoned during a cooking competition.",author:"James Wilson",players:"5-8",difficulty:"Medium",imageUrl:"https://images.unsplash.com/photo-1414235077428-338989a2e8c0?q=80&w=1000&auto=format&fit=crop",fullDescription:"At the finals of the International Chef Championship, celebrity chef Anton Morel falls dead after tasting his own creation. Every finalist had a reason to want him gone - stolen recipes, harsh criticism, personal feuds. This culinary mystery involves food sabotage, kitchen rivalries, and the cutthroat world of fine dining.",characters:["The Sous Chef","The Food Critic","The Rival Chef","The TV Producer","The Apprentice","The Restaurant Owner","The Food Blogger"]},{id:9,title:"Death at Dawn",description:"A yoga retreat becomes a crime scene when the guru is found murdered.",author:"Nina Patel",players:"6-7",difficulty:"Easy",imageUrl:"https://images.unsplash.com/photo-1545389336-cf090694435e?q=80&w=1000&auto=format&fit=crop",fullDescription:"At an exclusive mountaintop yoga retreat, participants seek peace and enlightenment. But when the famous guru is found dead in the meditation room at dawn, it becomes clear that someone came seeking revenge. Each guest has a connection to the victim - a former lover, a business partner, a rival spiritual leader. This mystery explores the contrast between the serene setting and the darkness within.",characters:["The Business Partner","The Jealous Assistant","The Celebrity Client","The Skeptical Doctor","The Devoted Follower","The Rival Guru"]},{id:10,title:"The Art of Murder",description:"A gallery opening becomes deadly when the featured artist is killed.",author:"Thomas Reed",players:"7-10",difficulty:"Hard",imageUrl:"https://images.unsplash.com/photo-1501084817091-a4f3d1d19e07?q=80&w=1000&auto=format&fit=crop",fullDescription:"At the prestigious Whitmore Gallery, the opening night of controversial artist Vincent Clay's exhibition ends in tragedy when he's found strangled with a piece of his own artwork. The gallery is full of people who hated him - critics he insulted, artists he plagiarized, lovers he betrayed. This mystery delves into the dark side of the art world, where creativity and jealousy often go hand in hand.",characters:["The Gallery Owner","The Art Critic","The Rival Artist","The Muse","The Collector","The Former Mentor","The Dealer","The Forger"]},{id:11,title:"A Fatal Prescription",description:"A doctor is murdered at a hospital with plenty of suspects.",author:"Robert Johnson",players:"5-8",difficulty:"Medium",imageUrl:"https://images.unsplash.com/photo-1516574187841-cb9cc2ca948b?q=80&w=1000&auto=format&fit=crop",fullDescription:"At St. Mary's Hospital, the head of cardiology, Dr. William Mason, is found dead in his office from an overdose of medication. As the chief of staff, he had made many enemies - nurses he harassed, doctors whose careers he sabotaged, patients who suffered from his negligence. This medical mystery involves hospital politics, professional jealousy, and the power of life and death.",characters:["The Nurse","The Rival Doctor","The Patient's Family Member","The Hospital Administrator","The Pharmacist","The Medical Student","The Whistleblower"]},{id:12,title:"Last Call",description:"The owner of a popular bar is murdered after hours.",author:"Lisa Chen",players:"5-7",difficulty:"Easy",imageUrl:"https://images.unsplash.com/photo-1572116469696-31de0f17cc34?q=80&w=1000&auto=format&fit=crop",fullDescription:"At the trendy downtown bar 'Last Call', owner Jack Murphy is found dead after closing time. The only people present were his staff and a few regular customers he invited for a private party. Each has a motive - from the bartender he was about to fire to the investor he was cheating. This mystery has a small suspect pool but complex relationships and hidden connections.",characters:["The Bartender","The Regular","The Investor","The Ex-Partner","The Chef","The Entertainer"]}],pG=()=>{const[e,t]=b.useState(""),[n,r]=b.useState(6),[s,i]=b.useState(null),a=mG.filter(l=>l.title.toLowerCase().includes(e.toLowerCase())||l.description.toLowerCase().includes(e.toLowerCase())||l.author.toLowerCase().includes(e.toLowerCase())),o=()=>{r(l=>Math.min(l+6,a.length))};return u.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[u.jsx(Pt,{}),u.jsxs("main",{className:"flex-1 container mx-auto py-12 px-4",children:[u.jsxs("section",{className:"mb-12",children:[u.jsx("h1",{className:"text-4xl font-bold mb-6 text-center",children:"Mystery Showcase"}),u.jsx("p",{className:"text-lg text-center text-muted-foreground mb-8 max-w-3xl mx-auto",children:"Explore community-created murder mysteries. Find the perfect story for your next gathering or share your own creations with others."}),u.jsx("div",{className:"relative max-w-md mx-auto mb-12",children:u.jsx(dt,{type:"search",placeholder:"Search mysteries...",className:"pr-10",value:e,onChange:l=>t(l.target.value)})})]}),u.jsx(tp,{className:"my-8"}),u.jsxs("section",{children:[u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.length>0?a.slice(0,n).map(l=>u.jsxs(kt,{className:"overflow-hidden h-full flex flex-col",children:[u.jsx("div",{className:"h-48 overflow-hidden",children:u.jsx("img",{src:l.imageUrl,alt:l.title,className:"w-full h-full object-cover transition-transform hover:scale-105"})}),u.jsxs(Ht,{children:[u.jsx(on,{children:l.title}),u.jsxs(xn,{className:"flex items-center gap-1",children:[u.jsx(_o,{size:16})," ",l.author]})]}),u.jsxs(It,{className:"flex-grow",children:[u.jsx("p",{className:"text-muted-foreground",children:l.description}),u.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[u.jsxs("span",{className:"text-xs bg-secondary text-secondary-foreground px-2 py-1 rounded",children:[l.players," Players"]}),u.jsxs("span",{className:"text-xs bg-secondary text-secondary-foreground px-2 py-1 rounded",children:[l.difficulty," Difficulty"]})]})]}),u.jsx(jo,{children:u.jsxs(uG,{children:[u.jsx(cG,{asChild:!0,children:u.jsx(Se,{className:"w-full",onClick:()=>i(l),children:"View Mystery"})}),u.jsx(FA,{side:"right",className:"w-full sm:max-w-lg overflow-y-auto",children:s&&u.jsxs(u.Fragment,{children:[u.jsxs(BA,{children:[u.jsx(HA,{className:"text-2xl",children:s.title}),u.jsxs($A,{className:"flex items-center gap-1 text-sm",children:[u.jsx(_o,{size:14})," ",s.author]})]}),u.jsx("div",{className:"my-4",children:u.jsx("img",{src:s.imageUrl,alt:s.title,className:"w-full h-48 object-cover rounded-md"})}),u.jsxs("div",{className:"my-6",children:[u.jsx("h3",{className:"text-lg font-medium mb-2",children:"Description"}),u.jsx("p",{children:s.fullDescription})]}),u.jsxs("div",{className:"my-6",children:[u.jsx("h3",{className:"text-lg font-medium mb-2",children:"Details"}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium",children:"Players"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:s.players})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium",children:"Difficulty"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:s.difficulty})]})]})]}),u.jsxs("div",{className:"my-6",children:[u.jsx("h3",{className:"text-lg font-medium mb-2",children:"Characters"}),u.jsx("ul",{className:"list-disc pl-5",children:s.characters.map((d,c)=>u.jsx("li",{className:"text-sm text-muted-foreground",children:d},c))})]}),u.jsx(UA,{children:u.jsx(dG,{asChild:!0,children:u.jsx(Se,{variant:"outline",className:"w-full",children:"Close"})})})]})})]})})]},l.id)):u.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center py-12",children:[u.jsx(IN,{size:48,className:"mb-4 text-muted-foreground"}),u.jsx("h3",{className:"text-xl font-medium",children:"No mysteries found"}),u.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search terms"})]})}),a.length>n&&u.jsx("div",{className:"flex justify-center mt-8",children:u.jsx(Se,{onClick:o,size:"lg",children:"Load More"})})]})]}),u.jsx(Vt,{})]})},gG=AS({name:Vs().min(2,{message:"Name must be at least 2 characters."}),email:Vs().email({message:"Please enter a valid email address."}),subject:Vs().min(5,{message:"Subject must be at least 5 characters."}),message:Vs().min(10,{message:"Message must be at least 10 characters."})}),yG=()=>{const[e,t]=b.useState(!1),n=ES({resolver:TS(gG),defaultValues:{name:"",email:"",subject:"",message:""}}),r=async s=>{t(!0);try{console.log("Form submitted:",s),await new Promise(i=>setTimeout(i,1e3)),se.success("Your message has been sent! We'll get back to you soon."),n.reset()}catch(i){console.error("Error submitting form:",i),se.error("Failed to send message. Please try again later.")}finally{t(!1)}};return u.jsxs("div",{className:"min-h-screen flex flex-col",children:[u.jsx(Pt,{}),u.jsx("main",{className:"flex-1 py-16 px-4",children:u.jsxs("div",{className:"container mx-auto max-w-3xl",children:[u.jsx("h1",{className:"text-4xl font-bold mb-6 text-center",children:"Contact Us"}),u.jsx("p",{className:"text-lg text-center text-muted-foreground mb-12",children:"Have questions or feedback? We'd love to hear from you."}),u.jsx("div",{className:"bg-card border rounded-lg p-6 md:p-8 shadow-sm",children:u.jsx(NS,{...n,children:u.jsxs("form",{onSubmit:n.handleSubmit(r),className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsx(mr,{control:n.control,name:"name",render:({field:s})=>u.jsxs(Wn,{children:[u.jsx(Yn,{children:"Name"}),u.jsx(Kn,{children:u.jsx(dt,{placeholder:"Your name",...s})}),u.jsx(Ur,{})]})}),u.jsx(mr,{control:n.control,name:"email",render:({field:s})=>u.jsxs(Wn,{children:[u.jsx(Yn,{children:"Email"}),u.jsx(Kn,{children:u.jsx(dt,{placeholder:"your.email@example.com",type:"email",...s})}),u.jsx(Ur,{})]})})]}),u.jsx(mr,{control:n.control,name:"subject",render:({field:s})=>u.jsxs(Wn,{children:[u.jsx(Yn,{children:"Subject"}),u.jsx(Kn,{children:u.jsx(dt,{placeholder:"What is your message about?",...s})}),u.jsx(Ur,{})]})}),u.jsx(mr,{control:n.control,name:"message",render:({field:s})=>u.jsxs(Wn,{children:[u.jsx(Yn,{children:"Message"}),u.jsx(Kn,{children:u.jsx(tl,{placeholder:"How can we help you?",className:"min-h-[150px]",...s})}),u.jsx(Ur,{})]})}),u.jsx("div",{className:"flex justify-end",children:u.jsx(Se,{type:"submit",size:"lg",disabled:e,children:e?"Sending...":"Send Message"})}),u.jsx(Fs,{className:"text-center",children:"Your message will be sent to info@murder-mystery.party"})]})})}),u.jsxs("div",{className:"mt-12 text-center",children:[u.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Email Us Directly"}),u.jsxs("p",{className:"text-muted-foreground",children:["You can also reach us at"," ",u.jsx("a",{href:"mailto:info@murder-mystery.party",className:"text-primary hover:underline",children:"info@murder-mystery.party"})]})]})]})}),u.jsx(Vt,{})]})},bG=()=>u.jsxs("div",{className:"min-h-screen flex flex-col",children:[u.jsx(fm,{title:"Privacy Policy",description:"Our commitment to protecting your privacy and personal information when using the Murder Mystery Party Generator.",canonical:"https://murder-mystery.party/privacy"}),u.jsx(Pt,{}),u.jsx("main",{className:"flex-1 py-16 px-4",children:u.jsxs("div",{className:"container mx-auto max-w-4xl",children:[u.jsx("h1",{className:"text-4xl font-bold mb-8 text-center",children:"Privacy Policy"}),u.jsxs("div",{className:"prose prose-sm md:prose-base lg:prose-lg max-w-none",children:[u.jsx("p",{children:u.jsx("em",{children:"Last updated: April 5, 2025"})}),u.jsx("h2",{children:"1. Introduction"}),u.jsx("p",{children:"Welcome to Murder Mystery Generator. We respect your privacy and are committed to protecting your personal data. This privacy policy will inform you as to how we look after your personal data when you visit our website and tell you about your privacy rights and how the law protects you."}),u.jsx("h2",{children:"2. The Data We Collect About You"}),u.jsx("p",{children:"Personal data, or personal information, means any information about an individual from which that person can be identified. We may collect, use, store and transfer different kinds of personal data about you which we have grouped together as follows:"}),u.jsxs("ul",{children:[u.jsx("li",{children:"Identity Data includes first name, last name, username or similar identifier."}),u.jsx("li",{children:"Contact Data includes email address and telephone numbers."}),u.jsx("li",{children:"Technical Data includes internet protocol (IP) address, your login data, browser type and version, time zone setting and location, browser plug-in types and versions, operating system and platform, and other technology on the devices you use to access this website."}),u.jsx("li",{children:"Usage Data includes information about how you use our website, products and services."}),u.jsx("li",{children:"Marketing and Communications Data includes your preferences in receiving marketing from us and our third parties and your communication preferences."})]}),u.jsx("h2",{children:"3. How We Use Your Personal Data"}),u.jsx("p",{children:"We will only use your personal data when the law allows us to. Most commonly, we will use your personal data in the following circumstances:"}),u.jsxs("ul",{children:[u.jsx("li",{children:"Where we need to perform the contract we are about to enter into or have entered into with you."}),u.jsx("li",{children:"Where it is necessary for our legitimate interests (or those of a third party) and your interests and fundamental rights do not override those interests."}),u.jsx("li",{children:"Where we need to comply with a legal obligation."})]}),u.jsx("h2",{children:"4. Data Security"}),u.jsx("p",{children:"We have put in place appropriate security measures to prevent your personal data from being accidentally lost, used or accessed in an unauthorized way, altered or disclosed. In addition, we limit access to your personal data to those employees, agents, contractors and other third parties who have a business need to know."}),u.jsx("h2",{children:"5. Data Retention"}),u.jsx("p",{children:"We will only retain your personal data for as long as reasonably necessary to fulfill the purposes we collected it for, including for the purposes of satisfying any legal, regulatory, tax, accounting or reporting requirements."}),u.jsx("h2",{children:"6. Your Legal Rights"}),u.jsx("p",{children:"Under certain circumstances, you have rights under data protection laws in relation to your personal data, including the right to:"}),u.jsxs("ul",{children:[u.jsx("li",{children:"Request access to your personal data."}),u.jsx("li",{children:"Request correction of your personal data."}),u.jsx("li",{children:"Request erasure of your personal data."}),u.jsx("li",{children:"Object to processing of your personal data."}),u.jsx("li",{children:"Request restriction of processing your personal data."}),u.jsx("li",{children:"Request transfer of your personal data."}),u.jsx("li",{children:"Right to withdraw consent."})]}),u.jsx("h2",{children:"7. Contact Us"}),u.jsx("p",{children:"If you have any questions about this privacy policy or our privacy practices, please contact us at info@murder-mystery.party."})]})]})}),u.jsx(Vt,{})]}),xG=()=>{const[e,t]=b.useState("faqs"),n=[{title:"About Murder Mystery Generator",items:[{question:"What is the Murder Mystery Creator and how does it work?",answer:"Murder Mystery Creator is an AI-powered app that designs custom murder mystery party games. You answer a few questions about your preferences (theme, player count), and our AI generates a complete package with character guides, story elements, and game materialsall tailored to your specific event needs."},{question:"How does the creation and purchase process work?",answer:"The process is simple: First, create your murder mystery story by answering a few questions about theme and player count. You'll get a preview of your story and characters for free. When you're satisfied with your creation, you can purchase the complete package for $11.99. This one-time purchase gives you instant access to downloadable PDFs including a comprehensive host guide and detailed character profiles for every player."},{question:"Can I save my work and come back to it later?",answer:"Yes! All your murder mystery projects are saved to your account and you can return to edit them at any time."}]},{title:"Game Mechanics",items:[{question:"Are these murder mysteries replayable?",answer:"Yes! Our murder mysteries are designed with replayability in mind. The random murderer selection mechanism means that even with the same character set and scenario, you'll get a different experience each time you play. This allows you to host the same mystery multiple times with different groups or even with the same group for a fresh experience."},{question:"How many players do I need for a murder mystery game?",answer:"Our murder mysteries can accommodate any group size you choose. The system is flexible enough to support gatherings of all sizes, from intimate groups to large parties of up to 40 players. Remember to consider who will play the detective/inspector role during the party (this counts as one character)."},{question:"How does the murderer selection process work?",answer:"Our mysteries use a random selection process that happens during gameplay. After character introductions in Round 1, the host randomly selects one player to be the murderer (usually using letter slips assigned at the start). This means any character could be the murderer, keeping the game unpredictable and exciting every time you play."},{question:"What if I need to add or remove players at the last minute?",answer:"Our mystery sets are designed to be flexible. If someone doesn't show up, the game can still be played without that character. Adding players is possible only if there's already a character profile for them to play. The one exception involves the accomplice mechanism - since the murderer and accomplice often use each other as alibis, the host may need to make adjustments if either of these players is missing."}]},{title:"Hosting & Planning",items:[{question:"Do I need to prepare anything else for my murder mystery party?",answer:"Our packages include everything needed for the game itself. You'll receive a host guide with setup instructions, individual character materials for each player, and all necessary clues and game elements. You may want to plan complementary aspects like themed food, decorations, or costume suggestions, but these are optional enhancements."},{question:"How long does a typical murder mystery game last?",answer:"The timing is entirely up to you and how fast you want to move through each round. A typical game with 8-14 players, allowing ample time for each round, will last about 1.5-2 hours. The host guide provides suggestions for pacing that you can adjust to fit your schedule."},{question:"Is there an age recommendation for your murder mysteries?",answer:"Our standard mysteries are designed for adults and teens (13+). However, the appropriate age is ultimately up to the host and depends on the theme and details you choose to include. You can prompt our AI to create more family-friendly content if desired for younger players."}]},{title:"Account & Billing",items:[{question:"What's included in the free version?",answer:"Free users can generate unlimited mystery previews, which include the basic story premise and character concepts. This allows you to explore different themes and ideas before committing to a purchase."},{question:"What do I get when I purchase a mystery?",answer:"For $11.99 per mystery, you receive a complete downloadable package including: a comprehensive host guide with step-by-step instructions, detailed character guides for each player, all necessary clues and evidence materials, and a PDF that's ready to print and play."},{question:"Can I get a refund if I'm not satisfied?",answer:"We stand behind our mystery generator! If you're not completely satisfied with your purchase, contact us within 7 days of purchase and we'll issue a full refund. No questions asked."}]}],r=["Send character assignments to players at least a week in advance","Suggest costume ideas based on the theme","Read through the entire host guide before your event","Prepare name tags for each character","Create a themed atmosphere with simple decorations","Consider themed food and drinks to enhance immersion","Start with a brief explanation of how the game works","Keep track of time to ensure all rounds get sufficient attention","Consider giving out small prizes for Best Detective, Best Performance, etc."];return u.jsxs("div",{className:"min-h-screen flex flex-col",children:[u.jsx(Pt,{}),u.jsx("main",{className:"flex-1 py-12 px-4",children:u.jsxs("div",{className:"container mx-auto max-w-4xl",children:[u.jsxs("div",{className:"mb-8 text-center",children:[u.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Support Center"}),u.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Find answers to common questions, hosting tips, and more to make your murder mystery party a success."})]}),u.jsxs(xp,{value:e,onValueChange:t,className:"mb-8",children:[u.jsxs(Ac,{className:"grid w-full grid-cols-3",children:[u.jsxs(Xn,{value:"faqs",className:"flex items-center gap-2",children:[u.jsx(SN,{className:"h-4 w-4"}),u.jsx("span",{children:"FAQs"})]}),u.jsxs(Xn,{value:"hosting-tips",className:"flex items-center gap-2",children:[u.jsx(vN,{className:"h-4 w-4"}),u.jsx("span",{children:"Hosting Tips"})]}),u.jsxs(Xn,{value:"contact",className:"flex items-center gap-2",children:[u.jsx(Af,{className:"h-4 w-4"}),u.jsx("span",{children:"Contact Us"})]})]}),u.jsx(Qn,{value:"faqs",className:"mt-6",children:u.jsxs(kt,{children:[u.jsxs(Ht,{children:[u.jsx(on,{children:"Frequently Asked Questions"}),u.jsx(xn,{children:"Find answers to common questions about our murder mystery generator"})]}),u.jsx(It,{children:u.jsx(ep,{type:"single",collapsible:!0,className:"w-full",children:n.map((s,i)=>u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:s.title}),s.items.map((a,o)=>u.jsxs(Ec,{value:`${i}-${o}`,children:[u.jsx(wc,{children:a.question}),u.jsx(Tc,{children:u.jsx("p",{children:a.answer})})]},o))]},i))})})]})}),u.jsx(Qn,{value:"hosting-tips",className:"mt-6",children:u.jsxs(kt,{children:[u.jsxs(Ht,{children:[u.jsx(on,{children:"Quick Tips for a Successful Murder Mystery Party"}),u.jsx(xn,{children:"Follow these tips to ensure your mystery party runs smoothly"})]}),u.jsx(It,{children:u.jsx("ul",{className:"space-y-4",children:r.map((s,i)=>u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"bg-primary/10 text-primary font-medium h-6 w-6 rounded-full flex items-center justify-center shrink-0",children:i+1}),u.jsx("p",{children:s})]},i))})}),u.jsx(jo,{children:u.jsx("p",{className:"text-sm text-muted-foreground",children:"Remember, the most important thing is to have fun! Don't stress too much about getting every detail perfect."})})]})}),u.jsx(Qn,{value:"contact",className:"mt-6",children:u.jsxs(kt,{children:[u.jsxs(Ht,{children:[u.jsx(on,{children:"Contact Us"}),u.jsx(xn,{children:"Need more help? We're here for you"})]}),u.jsxs(It,{className:"space-y-4",children:[u.jsx("p",{children:"Our support team is available to help with any questions or issues you might have with your murder mystery experience."}),u.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Email:"})," info@murder-mystery.party"]}),u.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"We typically respond within 24 hours, Monday through Friday."})]})]}),u.jsx(jo,{children:u.jsx(Se,{asChild:!0,children:u.jsx(it,{to:"/contact",children:"Go to Contact Page"})})})]})})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"mb-6 text-muted-foreground",children:"Didn't find what you were looking for? Visit our full documentation or contact our support team."}),u.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[u.jsx(Se,{variant:"outline",asChild:!0,children:u.jsx(it,{to:"/",children:"Return to Homepage"})}),u.jsx(Se,{asChild:!0,children:u.jsx(it,{to:"/contact",children:"Contact Support"})})]})]})]})}),u.jsx(Vt,{})]})},vG=()=>{const e=Xx();return b.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),u.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:[u.jsx(fm,{title:"Page Not Found",description:"The page you are looking for doesn't exist or has been moved."}),u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),u.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),u.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})]})},EG=()=>{const e=En();return b.useEffect(()=>{const n=setTimeout(async()=>{var r,s,i,a,o,l,d,c,h;try{console.log("=== OAuth Callback Handler Started ==="),console.log("Current URL:",window.location.href),console.log("URL Hash:",window.location.hash),console.log("URL Search:",window.location.search),console.log("URL Search Params:",new URLSearchParams(window.location.search));const m=new URLSearchParams(window.location.search),f=new URLSearchParams(window.location.hash.substring(1));console.log("URL Params entries:",Array.from(m.entries())),console.log("Hash Params entries:",Array.from(f.entries()));const g=m.get("error")||f.get("error"),y=m.get("error_description")||f.get("error_description");if(g){console.error("OAuth error from URL:",{error:g,errorDescription:y}),se.error(`OAuth error: ${y||g}`),e("/sign-in");return}const x=m.get("code"),E=f.get("access_token"),v=f.get("session");console.log("OAuth response data:",{code:x?"present":"missing",accessToken:E?"present":"missing",sessionData:v?"present":"missing"}),await new Promise(S=>setTimeout(S,1e3)),console.log("Attempting to get session from Supabase...");const{data:w,error:T}=await _e.auth.getSession();if(console.log("getSession result:",{hasSession:!!w.session,sessionError:T,userId:(s=(r=w.session)==null?void 0:r.user)==null?void 0:s.id,email:(a=(i=w.session)==null?void 0:i.user)==null?void 0:a.email,provider:(d=(l=(o=w.session)==null?void 0:o.user)==null?void 0:l.app_metadata)==null?void 0:d.provider}),T){console.error("Session retrieval error:",T),se.error(`Authentication failed: ${T.message}`),e("/sign-in");return}if(w.session)console.log(" OAuth callback successful!",{userId:w.session.user.id,email:w.session.user.email,provider:(c=w.session.user.app_metadata)==null?void 0:c.provider}),se.success("Successfully signed in with Google!"),e("/dashboard");else{console.log(" No session found in callback"),console.log("Checking auth state directly...");const{data:S}=await _e.auth.getUser();console.log("Direct user check:",{hasUser:!!S.user,userId:(h=S.user)==null?void 0:h.id}),se.error("Authentication session not established. Please try signing in again."),e("/sign-in")}}catch(m){console.error(" OAuth callback catch block:",m),console.error("Error details:",{message:m.message,stack:m.stack,name:m.name}),se.error("Authentication failed due to an unexpected error. Please try again."),e("/sign-in")}},100);return()=>clearTimeout(n)},[e]),u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"h-8 w-8 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),u.jsx("p",{className:"text-muted-foreground",children:"Completing Google authentication..."}),u.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Please wait while we verify your account..."})]})})},wG=()=>{const{token:e}=Ko(),[t,n]=b.useState(null),[r,s]=b.useState(!0),[i,a]=b.useState(null);b.useEffect(()=>{e?o():(a("No access token provided"),s(!1))},[e]);const o=async()=>{if(!e){a("Access token is required"),s(!1);return}try{s(!0);const{data:c,error:h}=await Ni.from("character_assignments").select(`
          id,
          guest_name,
          guest_email,
          mystery_characters!inner (
            character_name,
            description,
            background,
            secret,
            introduction,
            rumors,
            round1_statement,
            round2_statement,
            round3_statement,
            round2_questions,
            round3_questions,
            round4_questions,
            round2_innocent,
            round2_guilty,
            round2_accomplice,
            round3_innocent,
            round3_guilty,
            round3_accomplice,
            round4_innocent,
            round4_guilty,
            round4_accomplice,
            final_innocent,
            final_guilty,
            final_accomplice,
            relationships,
            secrets
          )
        `).eq("access_token",e).eq("is_sent",!0).single();if(h){h.code==="PGRST116"?a("Character assignment not found or access denied. This link may be invalid or expired."):(console.error("Database error:",h),a(`Error loading character: ${h.message}`));return}if(!c){a("Character assignment not found");return}n(c)}catch(c){console.error("Error loading character assignment:",c),a(`Failed to load character: ${c.message||"Unknown error"}`),se.error("Failed to load character assignment")}finally{s(!1)}},l=c=>{let h=`# ${c.character_name} - Your Character

`;return c.description&&(h+=`${c.description}

`),c.background&&(h+=`## Your Background

${c.background}

`),c.secret&&(h+=`## Your Secret

${c.secret}

`),c.introduction&&(h+=`## Introduction

${c.introduction}

`),c.rumors&&(h+=`## Rumors You Know

${c.rumors}

`),c.round1_statement&&(h+=`## Round 1: Initial Statement

${c.round1_statement}

`),c.round2_statement&&(h+=`## Round 2: Motives

${c.round2_statement}

`,c.round2_questions&&(h+=`### Questions to Ask

${c.round2_questions}

`),c.round2_innocent&&(h+=`**If You're Innocent:**
${c.round2_innocent}

`),c.round2_guilty&&(h+=`**If You're Guilty:**
${c.round2_guilty}

`),c.round2_accomplice&&(h+=`**If You're an Accomplice:**
${c.round2_accomplice}

`)),c.round3_statement&&(h+=`## Round 3: Method

${c.round3_statement}

`),c.final_innocent&&(h+=`**If You're Innocent:**
${c.final_innocent}

`),c.final_guilty&&(h+=`**If You're Guilty:**
${c.final_guilty}

`),c.final_accomplice&&(h+=`**If You're an Accomplice:**
${c.final_accomplice}

`),c.accusations&&(h+=`${c.accusations}

`),h};if(r)return u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[u.jsx(To,{className:"h-8 w-8 animate-spin"}),u.jsx("p",{children:"Loading your character..."})]})});if(i||!t)return u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsxs(kt,{className:"max-w-md w-full mx-4",children:[u.jsx(Ht,{children:u.jsx(on,{className:"text-center text-red-600",children:"Access Denied"})}),u.jsx(It,{children:u.jsx("p",{className:"text-center text-muted-foreground",children:i||"Character assignment not found."})})]})});const d=l(t.mystery_characters);return u.jsx("div",{className:"min-h-screen bg-background",children:u.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[u.jsx(_o,{className:"h-6 w-6"}),u.jsxs("h1",{className:"text-2xl font-bold",children:["Welcome, ",t.guest_name,"!"]})]}),u.jsx("p",{className:"text-muted-foreground",children:"Here's your character guide for the mystery game"})]}),u.jsx(kt,{children:u.jsx(It,{className:"p-6",children:u.jsx("div",{className:"mystery-content",children:u.jsx(Di,{components:{h1:({children:c})=>u.jsx("h1",{className:"text-2xl font-bold mb-4 text-primary",children:c}),h2:({children:c})=>u.jsx("h2",{className:"text-xl font-semibold mb-3 text-secondary",children:c}),h3:({children:c})=>u.jsx("h3",{className:"text-lg font-medium mb-2",children:c}),p:({children:c})=>u.jsx("p",{className:"mb-4 leading-relaxed",children:c}),strong:({children:c})=>u.jsx("strong",{className:"font-semibold text-foreground",children:c})},children:d})})})})]})})},TG=new GI,Hl=({children:e})=>{const{isAuthenticated:t,loading:n}=un();return u.jsx(N1,{loading:n,children:t?u.jsx(u.Fragment,{children:e}):u.jsx(Xd,{to:"/sign-in",replace:!0})})},_G=()=>u.jsx(A1,{children:u.jsx(YI,{client:TG,children:u.jsx(oN,{children:u.jsx(uO,{children:u.jsxs(wI,{children:[u.jsx(x2,{}),u.jsx(Q2,{}),u.jsx(SG,{})]})})})})}),SG=()=>{const{loading:e,isAuthenticated:t}=un();return u.jsx(N1,{loading:e,children:u.jsxs(lN,{children:[u.jsx(ft,{path:"/",element:u.jsx(Ty,{})}),u.jsx(ft,{path:"/sign-in",element:u.jsx(S8,{})}),u.jsx(ft,{path:"/sign-up",element:u.jsx(C8,{})}),u.jsx(ft,{path:"/forgot-password",element:u.jsx(A8,{})}),u.jsx(ft,{path:"/reset-password",element:u.jsx(N8,{})}),u.jsx(ft,{path:"/check-email",element:u.jsx(k8,{})}),u.jsx(ft,{path:"/auth/callback",element:u.jsx(EG,{})}),u.jsx(ft,{path:"/showcase",element:u.jsx(pG,{})}),u.jsx(ft,{path:"/contact",element:u.jsx(yG,{})}),u.jsx(ft,{path:"/privacy",element:u.jsx(bG,{})}),u.jsx(ft,{path:"/support",element:u.jsx(xG,{})}),u.jsx(ft,{path:"/character/:token",element:u.jsx(wG,{})}),u.jsx(ft,{path:"/payment-success",element:u.jsx(Xd,{to:"/\\",replace:!0})}),u.jsx(ft,{path:"/payment-canceled",element:u.jsx(Xd,{to:"/\\",replace:!0})}),u.jsx(ft,{path:"/dashboard",element:u.jsx(Hl,{children:u.jsx(Ty,{})})}),u.jsx(ft,{path:"/account",element:u.jsx(Hl,{children:u.jsx(O8,{})})}),u.jsx(ft,{path:"/mystery/create",element:u.jsx(KB,{})}),u.jsx(ft,{path:"/mystery/edit/:id",element:u.jsx(Hl,{children:u.jsx(ux,{})})}),u.jsx(ft,{path:"/mystery/chat/:id",element:u.jsx(Hl,{children:u.jsx(ux,{})})}),u.jsx(ft,{path:"/mystery/purchase/:id",element:u.jsx(tG,{})}),u.jsx(ft,{path:"/mystery/:id",element:u.jsx(lG,{})}),u.jsx(ft,{path:"*",element:u.jsx(vG,{})})]})})},Ie=e=>typeof e=="string",Wa=()=>{let e,t;const n=new Promise((r,s)=>{e=r,t=s});return n.resolve=e,n.reject=t,n},cx=e=>e==null?"":""+e,CG=(e,t,n)=>{e.forEach(r=>{t[r]&&(n[r]=t[r])})},AG=/###/g,dx=e=>e&&e.indexOf("###")>-1?e.replace(AG,"."):e,hx=e=>!e||Ie(e),wo=(e,t,n)=>{const r=Ie(t)?t.split("."):t;let s=0;for(;s<r.length-1;){if(hx(e))return{};const i=dx(r[s]);!e[i]&&n&&(e[i]=new n),Object.prototype.hasOwnProperty.call(e,i)?e=e[i]:e={},++s}return hx(e)?{}:{obj:e,k:dx(r[s])}},fx=(e,t,n)=>{const{obj:r,k:s}=wo(e,t,Object);if(r!==void 0||t.length===1){r[s]=n;return}let i=t[t.length-1],a=t.slice(0,t.length-1),o=wo(e,a,Object);for(;o.obj===void 0&&a.length;)i=`${a[a.length-1]}.${i}`,a=a.slice(0,a.length-1),o=wo(e,a,Object),o!=null&&o.obj&&typeof o.obj[`${o.k}.${i}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${i}`]=n},NG=(e,t,n,r)=>{const{obj:s,k:i}=wo(e,t,Object);s[i]=s[i]||[],s[i].push(n)},Fu=(e,t)=>{const{obj:n,k:r}=wo(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},kG=(e,t,n)=>{const r=Fu(e,n);return r!==void 0?r:Fu(t,n)},VA=(e,t,n)=>{for(const r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?Ie(e[r])||e[r]instanceof String||Ie(t[r])||t[r]instanceof String?n&&(e[r]=t[r]):VA(e[r],t[r],n):e[r]=t[r]);return e},Ti=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var IG={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const RG=e=>Ie(e)?e.replace(/[&<>"'\/]/g,t=>IG[t]):e;class PG{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const r=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,r),this.regExpQueue.push(t),r}}const OG=[" ",",","?","!",";"],DG=new PG(20),MG=(e,t,n)=>{t=t||"",n=n||"";const r=OG.filter(a=>t.indexOf(a)<0&&n.indexOf(a)<0);if(r.length===0)return!0;const s=DG.getRegExp(`(${r.map(a=>a==="?"?"\\?":a).join("|")})`);let i=!s.test(e);if(!i){const a=e.indexOf(n);a>0&&!s.test(e.substring(0,a))&&(i=!0)}return i},Ef=(e,t,n=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const r=t.split(n);let s=e;for(let i=0;i<r.length;){if(!s||typeof s!="object")return;let a,o="";for(let l=i;l<r.length;++l)if(l!==i&&(o+=n),o+=r[l],a=s[o],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&l<r.length-1)continue;i+=l-i+1;break}s=a}return s},zo=e=>e==null?void 0:e.replace("_","-"),LG={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){var n,r;(r=(n=console==null?void 0:console[e])==null?void 0:n.apply)==null||r.call(n,console,t)}};class Bu{constructor(t,n={}){this.init(t,n)}init(t,n={}){this.prefix=n.prefix||"i18next:",this.logger=t||LG,this.options=n,this.debug=n.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,r,s){return s&&!this.debug?null:(Ie(t[0])&&(t[0]=`${r}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new Bu(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new Bu(this.logger,t)}}var vr=new Bu;class Vc{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const s=this.observers[r].get(n)||0;this.observers[r].set(n,s+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t,...n){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([s,i])=>{for(let a=0;a<i;a++)s(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,i])=>{for(let a=0;a<i;a++)s.apply(s,[t,...n])})}}class mx extends Vc{constructor(t,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,r,s={}){var d,c;const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,a=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;t.indexOf(".")>-1?o=t.split("."):(o=[t,n],r&&(Array.isArray(r)?o.push(...r):Ie(r)&&i?o.push(...r.split(i)):o.push(r)));const l=Fu(this.data,o);return!l&&!n&&!r&&t.indexOf(".")>-1&&(t=o[0],n=o[1],r=o.slice(2).join(".")),l||!a||!Ie(r)?l:Ef((c=(d=this.data)==null?void 0:d[t])==null?void 0:c[n],r,i)}addResource(t,n,r,s,i={silent:!1}){const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let o=[t,n];r&&(o=o.concat(a?r.split(a):r)),t.indexOf(".")>-1&&(o=t.split("."),s=n,n=o[1]),this.addNamespaces(n),fx(this.data,o,s),i.silent||this.emit("added",t,n,r,s)}addResources(t,n,r,s={silent:!1}){for(const i in r)(Ie(r[i])||Array.isArray(r[i]))&&this.addResource(t,n,i,r[i],{silent:!0});s.silent||this.emit("added",t,n,r)}addResourceBundle(t,n,r,s,i,a={silent:!1,skipCopy:!1}){let o=[t,n];t.indexOf(".")>-1&&(o=t.split("."),s=r,r=n,n=o[1]),this.addNamespaces(n);let l=Fu(this.data,o)||{};a.skipCopy||(r=JSON.parse(JSON.stringify(r))),s?VA(l,r,i):l={...l,...r},fx(this.data,o,l),a.silent||this.emit("added",t,n,r)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(s=>n[s]&&Object.keys(n[s]).length>0)}toJSON(){return this.data}}var zA={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,s){return e.forEach(i=>{var a;t=((a=this.processors[i])==null?void 0:a.process(t,n,r,s))??t}),t}};const px={},gx=e=>!Ie(e)&&typeof e!="boolean"&&typeof e!="number";class Uu extends Vc{constructor(t,n={}){super(),CG(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=vr.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,n={interpolation:{}}){const r={...n};if(t==null)return!1;const s=this.resolve(t,r);return(s==null?void 0:s.res)!==void 0}extractFromKey(t,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let i=n.ns||this.options.defaultNS||[];const a=r&&t.indexOf(r)>-1,o=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!MG(t,r,s);if(a&&!o){const l=t.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:t,namespaces:Ie(i)?[i]:i};const d=t.split(r);(r!==s||r===s&&this.options.ns.indexOf(d[0])>-1)&&(i=d.shift()),t=d.join(s)}return{key:t,namespaces:Ie(i)?[i]:i}}translate(t,n,r){let s=typeof n=="object"?{...n}:n;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(s={...s}),s||(s={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const i=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:o,namespaces:l}=this.extractFromKey(t[t.length-1],s),d=l[l.length-1];let c=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;c===void 0&&(c=":");const h=s.lng||this.language,m=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((h==null?void 0:h.toLowerCase())==="cimode")return m?i?{res:`${d}${c}${o}`,usedKey:o,exactUsedKey:o,usedLng:h,usedNS:d,usedParams:this.getUsedParamsDetails(s)}:`${d}${c}${o}`:i?{res:o,usedKey:o,exactUsedKey:o,usedLng:h,usedNS:d,usedParams:this.getUsedParamsDetails(s)}:o;const f=this.resolve(t,s);let g=f==null?void 0:f.res;const y=(f==null?void 0:f.usedKey)||o,x=(f==null?void 0:f.exactUsedKey)||o,E=["[object Number]","[object Function]","[object RegExp]"],v=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject,T=s.count!==void 0&&!Ie(s.count),S=Uu.hasDefaultValue(s),C=T?this.pluralResolver.getSuffix(h,s.count,s):"",D=s.ordinal&&T?this.pluralResolver.getSuffix(h,s.count,{ordinal:!1}):"",j=T&&!s.ordinal&&s.count===0,F=j&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${C}`]||s[`defaultValue${D}`]||s.defaultValue;let V=g;w&&!g&&S&&(V=F);const z=gx(V),P=Object.prototype.toString.apply(V);if(w&&V&&z&&E.indexOf(P)<0&&!(Ie(v)&&Array.isArray(V))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const W=this.options.returnedObjectHandler?this.options.returnedObjectHandler(y,V,{...s,ns:l}):`key '${o} (${this.language})' returned an object instead of string.`;return i?(f.res=W,f.usedParams=this.getUsedParamsDetails(s),f):W}if(a){const W=Array.isArray(V),Q=W?[]:{},te=W?x:y;for(const L in V)if(Object.prototype.hasOwnProperty.call(V,L)){const U=`${te}${a}${L}`;S&&!g?Q[L]=this.translate(U,{...s,defaultValue:gx(F)?F[L]:void 0,joinArrays:!1,ns:l}):Q[L]=this.translate(U,{...s,joinArrays:!1,ns:l}),Q[L]===U&&(Q[L]=V[L])}g=Q}}else if(w&&Ie(v)&&Array.isArray(g))g=g.join(v),g&&(g=this.extendTranslation(g,t,s,r));else{let W=!1,Q=!1;!this.isValidLookup(g)&&S&&(W=!0,g=F),this.isValidLookup(g)||(Q=!0,g=o);const L=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Q?void 0:g,U=S&&F!==g&&this.options.updateMissing;if(Q||W||U){if(this.logger.log(U?"updateKey":"missingKey",h,d,o,U?F:g),a){const ee=this.resolve(o,{...s,keySeparator:!1});ee&&ee.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Y=[];const O=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&O&&O[0])for(let ee=0;ee<O.length;ee++)Y.push(O[ee]);else this.options.saveMissingTo==="all"?Y=this.languageUtils.toResolveHierarchy(s.lng||this.language):Y.push(s.lng||this.language);const _=(ee,ie,k)=>{var Re;const ge=S&&k!==g?k:L;this.options.missingKeyHandler?this.options.missingKeyHandler(ee,d,ie,ge,U,s):(Re=this.backendConnector)!=null&&Re.saveMissing&&this.backendConnector.saveMissing(ee,d,ie,ge,U,s),this.emit("missingKey",ee,d,ie,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&T?Y.forEach(ee=>{const ie=this.pluralResolver.getSuffixes(ee,s);j&&s[`defaultValue${this.options.pluralSeparator}zero`]&&ie.indexOf(`${this.options.pluralSeparator}zero`)<0&&ie.push(`${this.options.pluralSeparator}zero`),ie.forEach(k=>{_([ee],o+k,s[`defaultValue${k}`]||F)})}):_(Y,o,F))}g=this.extendTranslation(g,t,s,f,r),Q&&g===o&&this.options.appendNamespaceToMissingKey&&(g=`${d}${c}${o}`),(Q||W)&&this.options.parseMissingKeyHandler&&(g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${d}${c}${o}`:o,W?g:void 0,s))}return i?(f.res=g,f.usedParams=this.getUsedParamsDetails(s),f):g}extendTranslation(t,n,r,s,i){var l,d;if((l=this.i18nFormat)!=null&&l.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const c=Ie(t)&&(((d=r==null?void 0:r.interpolation)==null?void 0:d.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let h;if(c){const f=t.match(this.interpolator.nestingRegexp);h=f&&f.length}let m=r.replace&&!Ie(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(m={...this.options.interpolation.defaultVariables,...m}),t=this.interpolator.interpolate(t,m,r.lng||this.language||s.usedLng,r),c){const f=t.match(this.interpolator.nestingRegexp),g=f&&f.length;h<g&&(r.nest=!1)}!r.lng&&s&&s.res&&(r.lng=this.language||s.usedLng),r.nest!==!1&&(t=this.interpolator.nest(t,(...f)=>(i==null?void 0:i[0])===f[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${f[0]} in key: ${n[0]}`),null):this.translate(...f,n),r)),r.interpolation&&this.interpolator.reset()}const a=r.postProcess||this.options.postProcess,o=Ie(a)?[a]:a;return t!=null&&(o!=null&&o.length)&&r.applyPostProcessor!==!1&&(t=zA.handle(o,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),t}resolve(t,n={}){let r,s,i,a,o;return Ie(t)&&(t=[t]),t.forEach(l=>{if(this.isValidLookup(r))return;const d=this.extractFromKey(l,n),c=d.key;s=c;let h=d.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const m=n.count!==void 0&&!Ie(n.count),f=m&&!n.ordinal&&n.count===0,g=n.context!==void 0&&(Ie(n.context)||typeof n.context=="number")&&n.context!=="",y=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);h.forEach(x=>{var E,v;this.isValidLookup(r)||(o=x,!px[`${y[0]}-${x}`]&&((E=this.utils)!=null&&E.hasLoadedNamespace)&&!((v=this.utils)!=null&&v.hasLoadedNamespace(o))&&(px[`${y[0]}-${x}`]=!0,this.logger.warn(`key "${s}" for languages "${y.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),y.forEach(w=>{var C;if(this.isValidLookup(r))return;a=w;const T=[c];if((C=this.i18nFormat)!=null&&C.addLookupKeys)this.i18nFormat.addLookupKeys(T,c,w,x,n);else{let D;m&&(D=this.pluralResolver.getSuffix(w,n.count,n));const j=`${this.options.pluralSeparator}zero`,F=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(m&&(T.push(c+D),n.ordinal&&D.indexOf(F)===0&&T.push(c+D.replace(F,this.options.pluralSeparator)),f&&T.push(c+j)),g){const V=`${c}${this.options.contextSeparator}${n.context}`;T.push(V),m&&(T.push(V+D),n.ordinal&&D.indexOf(F)===0&&T.push(V+D.replace(F,this.options.pluralSeparator)),f&&T.push(V+j))}}let S;for(;S=T.pop();)this.isValidLookup(r)||(i=S,r=this.getResource(w,x,S,n))}))})}),{res:r,usedKey:s,exactUsedKey:i,usedLng:a,usedNS:o}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,r,s={}){var i;return(i=this.i18nFormat)!=null&&i.getResource?this.i18nFormat.getResource(t,n,r,s):this.resourceStore.getResource(t,n,r,s)}getUsedParamsDetails(t={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=t.replace&&!Ie(t.replace);let s=r?t.replace:t;if(r&&typeof t.count<"u"&&(s.count=t.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!r){s={...s};for(const i of n)delete s[i]}return s}static hasDefaultValue(t){const n="defaultValue";for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&n===r.substring(0,n.length)&&t[r]!==void 0)return!0;return!1}}class yx{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=vr.create("languageUtils")}getScriptPartFromCode(t){if(t=zo(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=zo(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(Ie(t)&&t.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(t)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(r=>{if(n)return;const s=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(s))&&(n=s)}),!n&&this.options.supportedLngs&&t.forEach(r=>{if(n)return;const s=this.getScriptPartFromCode(r);if(this.isSupportedCode(s))return n=s;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(a=>{if(a===i)return a;if(!(a.indexOf("-")<0&&i.indexOf("-")<0)&&(a.indexOf("-")>0&&i.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===i||a.indexOf(i)===0&&i.length>1))return a})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),Ie(t)&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let r=t[n];return r||(r=t[this.getScriptPartFromCode(n)]),r||(r=t[this.formatLanguageCode(n)]),r||(r=t[this.getLanguagePartFromCode(n)]),r||(r=t.default),r||[]}toResolveHierarchy(t,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],t),s=[],i=a=>{a&&(this.isSupportedCode(a)?s.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return Ie(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(t))):Ie(t)&&i(this.formatLanguageCode(t)),r.forEach(a=>{s.indexOf(a)<0&&i(this.formatLanguageCode(a))}),s}}const bx={zero:0,one:1,two:2,few:3,many:4,other:5},xx={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class jG{constructor(t,n={}){this.languageUtils=t,this.options=n,this.logger=vr.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,n){this.rules[t]=n}clearCache(){this.pluralRulesCache={}}getRule(t,n={}){const r=zo(t==="dev"?"en":t),s=n.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:r,type:s});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let a;try{a=new Intl.PluralRules(r,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),xx;if(!t.match(/-|_/))return xx;const l=this.languageUtils.getLanguagePartFromCode(t);a=this.getRule(l,n)}return this.pluralRulesCache[i]=a,a}needsPlural(t,n={}){let r=this.getRule(t,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(t,n,r={}){return this.getSuffixes(t,r).map(s=>`${n}${s}`)}getSuffixes(t,n={}){let r=this.getRule(t,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((s,i)=>bx[s]-bx[i]).map(s=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(t,n,r={}){const s=this.getRule(t,r);return s?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s.select(n)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",n,r))}}const vx=(e,t,n,r=".",s=!0)=>{let i=kG(e,t,n);return!i&&s&&Ie(n)&&(i=Ef(e,n,r),i===void 0&&(i=Ef(t,n,r))),i},Yd=e=>e.replace(/\$/g,"$$$$");class FG{constructor(t={}){var n;this.logger=vr.create("interpolator"),this.options=t,this.format=((n=t==null?void 0:t.interpolation)==null?void 0:n.format)||(r=>r),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:s,prefix:i,prefixEscaped:a,suffix:o,suffixEscaped:l,formatSeparator:d,unescapeSuffix:c,unescapePrefix:h,nestingPrefix:m,nestingPrefixEscaped:f,nestingSuffix:g,nestingSuffixEscaped:y,nestingOptionsSeparator:x,maxReplaces:E,alwaysFormat:v}=t.interpolation;this.escape=n!==void 0?n:RG,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=i?Ti(i):a||"{{",this.suffix=o?Ti(o):l||"}}",this.formatSeparator=d||",",this.unescapePrefix=c?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=m?Ti(m):f||Ti("$t("),this.nestingSuffix=g?Ti(g):y||Ti(")"),this.nestingOptionsSeparator=x||",",this.maxReplaces=E||1e3,this.alwaysFormat=v!==void 0?v:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,n,r,s){var f;let i,a,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},d=g=>{if(g.indexOf(this.formatSeparator)<0){const v=vx(n,l,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(v,void 0,r,{...s,...n,interpolationkey:g}):v}const y=g.split(this.formatSeparator),x=y.shift().trim(),E=y.join(this.formatSeparator).trim();return this.format(vx(n,l,x,this.options.keySeparator,this.options.ignoreJSONStructure),E,r,{...s,...n,interpolationkey:x})};this.resetRegExp();const c=(s==null?void 0:s.missingInterpolationHandler)||this.options.missingInterpolationHandler,h=((f=s==null?void 0:s.interpolation)==null?void 0:f.skipOnVariables)!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>Yd(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?Yd(this.escape(g)):Yd(g)}].forEach(g=>{for(o=0;i=g.regex.exec(t);){const y=i[1].trim();if(a=d(y),a===void 0)if(typeof c=="function"){const E=c(t,i,s);a=Ie(E)?E:""}else if(s&&Object.prototype.hasOwnProperty.call(s,y))a="";else if(h){a=i[0];continue}else this.logger.warn(`missed to pass in variable ${y} for interpolating ${t}`),a="";else!Ie(a)&&!this.useRawValueToEscape&&(a=cx(a));const x=g.safeValue(a);if(t=t.replace(i[0],x),h?(g.regex.lastIndex+=a.length,g.regex.lastIndex-=i[0].length):g.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),t}nest(t,n,r={}){let s,i,a;const o=(l,d)=>{const c=this.nestingOptionsSeparator;if(l.indexOf(c)<0)return l;const h=l.split(new RegExp(`${c}[ ]*{`));let m=`{${h[1]}`;l=h[0],m=this.interpolate(m,a);const f=m.match(/'/g),g=m.match(/"/g);(((f==null?void 0:f.length)??0)%2===0&&!g||g.length%2!==0)&&(m=m.replace(/'/g,'"'));try{a=JSON.parse(m),d&&(a={...d,...a})}catch(y){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,y),`${l}${c}${m}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,l};for(;s=this.nestingRegexp.exec(t);){let l=[];a={...r},a=a.replace&&!Ie(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let d=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){const c=s[1].split(this.formatSeparator).map(h=>h.trim());s[1]=c.shift(),l=c,d=!0}if(i=n(o.call(this,s[1].trim(),a),a),i&&s[0]===t&&!Ie(i))return i;Ie(i)||(i=cx(i)),i||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${t}`),i=""),d&&(i=l.reduce((c,h)=>this.format(c,h,r.lng,{...r,interpolationkey:s[1].trim()}),i.trim())),t=t.replace(s[0],i),this.regexp.lastIndex=0}return t}}const BG=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const s=r[1].substring(0,r[1].length-1);t==="currency"&&s.indexOf(":")<0?n.currency||(n.currency=s.trim()):t==="relativetime"&&s.indexOf(":")<0?n.range||(n.range=s.trim()):s.split(";").forEach(a=>{if(a){const[o,...l]=a.split(":"),d=l.join(":").trim().replace(/^'+|'+$/g,""),c=o.trim();n[c]||(n[c]=d),d==="false"&&(n[c]=!1),d==="true"&&(n[c]=!0),isNaN(d)||(n[c]=parseInt(d,10))}})}return{formatName:t,formatOptions:n}},Ex=e=>{const t={};return(n,r,s)=>{let i=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(i={...i,[s.interpolationkey]:void 0});const a=r+JSON.stringify(i);let o=t[a];return o||(o=e(zo(r),s),t[a]=o),o(n)}},UG=e=>(t,n,r)=>e(zo(n),r)(t);class HG{constructor(t={}){this.logger=vr.create("formatter"),this.options=t,this.init(t)}init(t,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?Ex:UG;this.formats={number:r((s,i)=>{const a=new Intl.NumberFormat(s,{...i});return o=>a.format(o)}),currency:r((s,i)=>{const a=new Intl.NumberFormat(s,{...i,style:"currency"});return o=>a.format(o)}),datetime:r((s,i)=>{const a=new Intl.DateTimeFormat(s,{...i});return o=>a.format(o)}),relativetime:r((s,i)=>{const a=new Intl.RelativeTimeFormat(s,{...i});return o=>a.format(o,i.range||"day")}),list:r((s,i)=>{const a=new Intl.ListFormat(s,{...i});return o=>a.format(o)})}}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=Ex(n)}format(t,n,r,s={}){const i=n.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(o=>o.indexOf(")")>-1)){const o=i.findIndex(l=>l.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,o)].join(this.formatSeparator)}return i.reduce((o,l)=>{var h;const{formatName:d,formatOptions:c}=BG(l);if(this.formats[d]){let m=o;try{const f=((h=s==null?void 0:s.formatParams)==null?void 0:h[s.interpolationkey])||{},g=f.locale||f.lng||s.locale||s.lng||r;m=this.formats[d](o,g,{...c,...s,...f})}catch(f){this.logger.warn(f)}return m}else this.logger.warn(`there was no format function for ${d}`);return o},t)}}const $G=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class VG extends Vc{constructor(t,n,r,s={}){var i,a;super(),this.backend=t,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=s,this.logger=vr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],(a=(i=this.backend)==null?void 0:i.init)==null||a.call(i,r,s.backend,s)}queueLoad(t,n,r,s){const i={},a={},o={},l={};return t.forEach(d=>{let c=!0;n.forEach(h=>{const m=`${d}|${h}`;!r.reload&&this.store.hasResourceBundle(d,h)?this.state[m]=2:this.state[m]<0||(this.state[m]===1?a[m]===void 0&&(a[m]=!0):(this.state[m]=1,c=!1,a[m]===void 0&&(a[m]=!0),i[m]===void 0&&(i[m]=!0),l[h]===void 0&&(l[h]=!0)))}),c||(o[d]=!0)}),(Object.keys(i).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(i),pending:Object.keys(a),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}loaded(t,n,r){const s=t.split("|"),i=s[0],a=s[1];n&&this.emit("failedLoading",i,a,n),!n&&r&&this.store.addResourceBundle(i,a,r,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&r&&(this.state[t]=0);const o={};this.queue.forEach(l=>{NG(l.loaded,[i],a),$G(l,t),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(d=>{o[d]||(o[d]={});const c=l.loaded[d];c.length&&c.forEach(h=>{o[d][h]===void 0&&(o[d][h]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(l=>!l.done)}read(t,n,r,s=0,i=this.retryTimeout,a){if(!t.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:r,tried:s,wait:i,callback:a});return}this.readingCalls++;const o=(d,c)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(d&&c&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,r,s+1,i*2,a)},i);return}a(d,c)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const d=l(t,n);d&&typeof d.then=="function"?d.then(c=>o(null,c)).catch(o):o(null,d)}catch(d){o(d)}return}return l(t,n,o)}prepareLoading(t,n,r={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();Ie(t)&&(t=this.languageUtils.toResolveHierarchy(t)),Ie(n)&&(n=[n]);const i=this.queueLoad(t,n,r,s);if(!i.toLoad.length)return i.pending.length||s(),null;i.toLoad.forEach(a=>{this.loadOne(a)})}load(t,n,r){this.prepareLoading(t,n,{},r)}reload(t,n,r){this.prepareLoading(t,n,{reload:!0},r)}loadOne(t,n=""){const r=t.split("|"),s=r[0],i=r[1];this.read(s,i,"read",void 0,void 0,(a,o)=>{a&&this.logger.warn(`${n}loading namespace ${i} for language ${s} failed`,a),!a&&o&&this.logger.log(`${n}loaded namespace ${i} for language ${s}`,o),this.loaded(t,a,o)})}saveMissing(t,n,r,s,i,a={},o=()=>{}){var l,d,c,h,m;if((d=(l=this.services)==null?void 0:l.utils)!=null&&d.hasLoadedNamespace&&!((h=(c=this.services)==null?void 0:c.utils)!=null&&h.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((m=this.backend)!=null&&m.create){const f={...a,isUpdate:i},g=this.backend.create.bind(this.backend);if(g.length<6)try{let y;g.length===5?y=g(t,n,r,s,f):y=g(t,n,r,s),y&&typeof y.then=="function"?y.then(x=>o(null,x)).catch(o):o(null,y)}catch(y){o(y)}else g(t,n,r,s,o,f)}!t||!t[0]||this.store.addResource(t[0],n,r,s)}}}const wx=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),Ie(e[1])&&(t.defaultValue=e[1]),Ie(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(r=>{t[r]=n[r]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Tx=e=>{var t,n;return Ie(e.ns)&&(e.ns=[e.ns]),Ie(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Ie(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),((n=(t=e.supportedLngs)==null?void 0:t.indexOf)==null?void 0:n.call(t,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e},$l=()=>{},zG=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class qo extends Vc{constructor(t={},n){if(super(),this.options=Tx(t),this.services={},this.logger=vr,this.modules={external:[]},zG(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(t={},n){this.isInitializing=!0,typeof t=="function"&&(n=t,t={}),t.defaultNS==null&&t.ns&&(Ie(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const r=wx();this.options={...r,...this.options,...Tx(t)},this.options.interpolation={...r.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const s=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?vr.init(s(this.modules.logger),this.options):vr.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:d=HG;const c=new yx(this.options);this.store=new mx(this.options.resources,this.options);const h=this.services;h.logger=vr,h.resourceStore=this.store,h.languageUtils=c,h.pluralResolver=new jG(c,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),d&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(h.formatter=s(d),h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new FG(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new VG(s(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",(m,...f)=>{this.emit(m,...f)}),this.modules.languageDetector&&(h.languageDetector=s(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=s(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new Uu(this.services,this.options),this.translator.on("*",(m,...f)=>{this.emit(m,...f)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,n||(n=$l),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=(...c)=>this.store[d](...c)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=(...c)=>(this.store[d](...c),this)});const o=Wa(),l=()=>{const d=(c,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(h),n(c,h)};if(this.languages&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),o}loadResources(t,n=$l){var i,a;let r=n;const s=Ie(t)?t:this.language;if(typeof t=="function"&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if((s==null?void 0:s.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const o=[],l=d=>{if(!d||d==="cimode")return;this.services.languageUtils.toResolveHierarchy(d).forEach(h=>{h!=="cimode"&&o.indexOf(h)<0&&o.push(h)})};s?l(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>l(c)),(a=(i=this.options.preload)==null?void 0:i.forEach)==null||a.call(i,d=>l(d)),this.services.backendConnector.load(o,this.options.ns,d=>{!d&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(d)})}else r(null)}reloadResources(t,n,r){const s=Wa();return typeof t=="function"&&(r=t,t=void 0),typeof n=="function"&&(r=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),r||(r=$l),this.services.backendConnector.reload(t,n,i=>{s.resolve(),r(i)}),s}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&zA.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,n){this.isLanguageChangingTo=t;const r=Wa();this.emit("languageChanging",t);const s=o=>{this.language=o,this.languages=this.services.languageUtils.toResolveHierarchy(o),this.resolvedLanguage=void 0,this.setResolvedLanguage(o)},i=(o,l)=>{l?this.isLanguageChangingTo===t&&(s(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,r.resolve((...d)=>this.t(...d)),n&&n(o,(...d)=>this.t(...d))},a=o=>{var c,h;!t&&!o&&this.services.languageDetector&&(o=[]);const l=Ie(o)?o:o&&o[0],d=this.store.hasLanguageSomeTranslations(l)?l:this.services.languageUtils.getBestMatchFromCodes(Ie(o)?[o]:o);d&&(this.language||s(d),this.translator.language||this.translator.changeLanguage(d),(h=(c=this.services.languageDetector)==null?void 0:c.cacheUserLanguage)==null||h.call(c,d)),this.loadResources(d,m=>{i(m,d)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(t),r}getFixedT(t,n,r){const s=(i,a,...o)=>{let l;typeof a!="object"?l=this.options.overloadTranslationOptionHandler([i,a].concat(o)):l={...a},l.lng=l.lng||s.lng,l.lngs=l.lngs||s.lngs,l.ns=l.ns||s.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||s.keyPrefix);const d=this.options.keySeparator||".";let c;return l.keyPrefix&&Array.isArray(i)?c=i.map(h=>`${l.keyPrefix}${d}${h}`):c=l.keyPrefix?`${l.keyPrefix}${d}${i}`:i,this.t(c,l)};return Ie(t)?s.lng=t:s.lngs=t,s.ns=n,s.keyPrefix=r,s}t(...t){var n;return(n=this.translator)==null?void 0:n.translate(...t)}exists(...t){var n;return(n=this.translator)==null?void 0:n.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const a=(o,l)=>{const d=this.services.backendConnector.state[`${o}|${l}`];return d===-1||d===0||d===2};if(n.precheck){const o=n.precheck(this,a);if(o!==void 0)return o}return!!(this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(r,t)&&(!s||a(i,t)))}loadNamespaces(t,n){const r=Wa();return this.options.ns?(Ie(t)&&(t=[t]),t.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}loadLanguages(t,n){const r=Wa();Ie(t)&&(t=[t]);const s=this.options.preload||[],i=t.filter(a=>s.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return i.length?(this.options.preload=s.concat(i),this.loadResources(a=>{r.resolve(),n&&n(a)}),r):(n&&n(),Promise.resolve())}dir(t){var s,i;if(t||(t=this.resolvedLanguage||(((s=this.languages)==null?void 0:s.length)>0?this.languages[0]:this.language)),!t)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((i=this.services)==null?void 0:i.languageUtils)||new yx(wx());return n.indexOf(r.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},n){return new qo(t,n)}cloneInstance(t={},n=$l){const r=t.forkResourceStore;r&&delete t.forkResourceStore;const s={...this.options,...t,isClone:!0},i=new qo(s);if((t.debug!==void 0||t.prefix!==void 0)&&(i.logger=i.logger.clone(t)),["store","services","language"].forEach(o=>{i[o]=this[o]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r){const o=Object.keys(this.store.data).reduce((l,d)=>(l[d]={...this.store.data[d]},l[d]=Object.keys(l[d]).reduce((c,h)=>(c[h]={...l[d][h]},c),l[d]),l),{});i.store=new mx(o,s),i.services.resourceStore=i.store}return i.translator=new Uu(i.services,s),i.translator.on("*",(o,...l)=>{i.emit(o,...l)}),i.init(s,n),i.translator.options=s,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Gt=qo.createInstance();Gt.createInstance=qo.createInstance;Gt.createInstance;Gt.dir;Gt.init;Gt.loadResources;Gt.reloadResources;Gt.use;Gt.changeLanguage;Gt.getFixedT;Gt.t;Gt.exists;Gt.setDefaultNamespace;Gt.hasLoadedNamespace;Gt.loadNamespaces;Gt.loadLanguages;const{slice:qG,forEach:GG}=[];function WG(e){return GG.call(qG.call(arguments,1),t=>{if(t)for(const n in t)e[n]===void 0&&(e[n]=t[n])}),e}function YG(e){return typeof e!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(e))}const _x=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,KG=function(e,t){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},s=encodeURIComponent(t);let i=`${e}=${s}`;if(r.maxAge>0){const a=r.maxAge-0;if(Number.isNaN(a))throw new Error("maxAge should be a Number");i+=`; Max-Age=${Math.floor(a)}`}if(r.domain){if(!_x.test(r.domain))throw new TypeError("option domain is invalid");i+=`; Domain=${r.domain}`}if(r.path){if(!_x.test(r.path))throw new TypeError("option path is invalid");i+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");i+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(i+="; HttpOnly"),r.secure&&(i+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(i+="; Partitioned"),i},Sx={create(e,t,n,r){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(s.expires=new Date,s.expires.setTime(s.expires.getTime()+n*60*1e3)),r&&(s.domain=r),document.cookie=KG(e,t,s)},read(e){const t=`${e}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let s=n[r];for(;s.charAt(0)===" ";)s=s.substring(1,s.length);if(s.indexOf(t)===0)return s.substring(t.length,s.length)}return null},remove(e,t){this.create(e,"",-1,t)}};var XG={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&typeof document<"u")return Sx.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:n,cookieMinutes:r,cookieDomain:s,cookieOptions:i}=t;n&&typeof document<"u"&&Sx.create(n,e,r,s,i)}},QG={name:"querystring",lookup(e){var r;let{lookupQuerystring:t}=e,n;if(typeof window<"u"){let{search:s}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(s=window.location.hash.substring(window.location.hash.indexOf("?")));const a=s.substring(1).split("&");for(let o=0;o<a.length;o++){const l=a[o].indexOf("=");l>0&&a[o].substring(0,l)===t&&(n=a[o].substring(l+1))}}return n}},JG={name:"hash",lookup(e){var s;let{lookupHash:t,lookupFromHashIndex:n}=e,r;if(typeof window<"u"){const{hash:i}=window.location;if(i&&i.length>2){const a=i.substring(1);if(t){const o=a.split("&");for(let l=0;l<o.length;l++){const d=o[l].indexOf("=");d>0&&o[l].substring(0,d)===t&&(r=o[l].substring(d+1))}}if(r)return r;if(!r&&n>-1){const o=i.match(/\/([a-zA-Z-]*)/g);return Array.isArray(o)?(s=o[typeof n=="number"?n:0])==null?void 0:s.replace("/",""):void 0}}}return r}};let _i=null;const Cx=()=>{if(_i!==null)return _i;try{if(_i=typeof window<"u"&&window.localStorage!==null,!_i)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{_i=!1}return _i};var ZG={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&Cx())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:n}=t;n&&Cx()&&window.localStorage.setItem(n,e)}};let Si=null;const Ax=()=>{if(Si!==null)return Si;try{if(Si=typeof window<"u"&&window.sessionStorage!==null,!Si)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{Si=!1}return Si};var eW={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&Ax())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:n}=t;n&&Ax()&&window.sessionStorage.setItem(n,e)}},tW={name:"navigator",lookup(e){const t=[];if(typeof navigator<"u"){const{languages:n,userLanguage:r,language:s}=navigator;if(n)for(let i=0;i<n.length;i++)t.push(n[i]);r&&t.push(r),s&&t.push(s)}return t.length>0?t:void 0}},nW={name:"htmlTag",lookup(e){let{htmlTag:t}=e,n;const r=t||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},rW={name:"path",lookup(e){var s;let{lookupFromPathIndex:t}=e;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?(s=n[typeof t=="number"?t:0])==null?void 0:s.replace("/",""):void 0}},sW={name:"subdomain",lookup(e){var s,i;let{lookupFromSubdomainIndex:t}=e;const n=typeof t=="number"?t+1:1,r=typeof window<"u"&&((i=(s=window.location)==null?void 0:s.hostname)==null?void 0:i.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[n]}};let qA=!1;try{document.cookie,qA=!0}catch{}const GA=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];qA||GA.splice(1,1);const iW=()=>({order:GA,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e});class WA{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(t,n)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t,this.options=WG(n,this.options||{},iW()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=s=>s.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(XG),this.addDetector(QG),this.addDetector(ZG),this.addDetector(eW),this.addDetector(tW),this.addDetector(nW),this.addDetector(rW),this.addDetector(sW),this.addDetector(JG)}addDetector(t){return this.detectors[t.name]=t,this}detect(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return t.forEach(r=>{if(this.detectors[r]){let s=this.detectors[r].lookup(this.options);s&&typeof s=="string"&&(s=[s]),s&&(n=n.concat(s))}}),n=n.filter(r=>r!=null&&!YG(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||n.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(t,this.options)}))}}WA.type="languageDetector";const aW={home:"Home",dashboard:"Dashboard",signIn:"Sign In",signUp:"Sign Up",signOut:"Sign Out",account:"Account Settings"},oW={title:"Host a Killer Party Tonight.",subtitle:"Generate custom murder mysteries with characters, clues, and everything you need.",subtitleAuth:"Tell us what you'd like to create and we'll make it happen.",placeholder:"What kind of murder mystery would you like to host?",placeholderAuth:"What kind of murder mystery would you like to create today?",themes:{"1920sSpeakeasy":"1920s Speakeasy",hollywoodMurder:"Hollywood Murder",castleMystery:"Castle Mystery",sciFiMystery:"Sci-Fi Mystery",artGalleryOpening:"Art Gallery Opening",bakeryCompetition:"Bakery Competition",mountainSkiResort:"Mountain Ski Resort",luxuryTrainJourney:"Luxury Train Journey",historicUniversity:"Historic University",pokerTournament:"Poker Tournament",barbieDreamworld:"Barbie Dreamworld",dystopianWaterworld:"Dystopian Waterworld",jungleSteampunk:"Jungle Steampunk",magicalBakery:"Magical Bakery",gamingTournament:"Gaming Tournament",synthwave80s:"Synthwave 80s",beachResort:"Beach Resort",operaHouse:"Opera House",wineCountry:"Wine Country",safariAdventure:"Safari Adventure",fashionShow:"Fashion Show",casinoNight:"Casino Night",fairyTaleKingdom:"Fairy Tale Kingdom",spaceColony:"Space Colony",superheroAcademy:"Superhero Academy",underwaterCity:"Underwater City",wildWestSaloon:"Wild West Saloon",vikingFeast:"Viking Feast",candyKingdom:"Candy Kingdom",dragonsLair:"Dragon's Lair",timeTravelersBall:"Time Travelers' Ball",atlantisRising:"Atlantis Rising",toyBoxAdventure:"Toy Box Adventure",vampireMasquerade:"Vampire Masquerade",dimensionHopping:"Dimension Hopping",cyberpunkNightclub:"Cyberpunk Nightclub",ghostShip:"Ghost Ship",sentientPlantColony:"Sentient Plant Colony"}},lW={step1:{title:"Describe ideal murder mystery.",description:"Tell us what theme and features you want in your mystery."},step2:{title:"The Mystery Machine creates your first version instantly.",description:"Our AI generates a complete mystery with characters and clues."},step3:{title:"Talk to the editor to design and perfect your idea.",description:"Refine the mystery with the AI assistant until it's perfect."},step4:{title:"Generate PDF guides for you and your friends",description:"Download everything you need to host an amazing party."}},uW={title:"Everything You Need Included",step1:{step:"Step 1",title:"Customizable Storylines",content:"Create your own unique murder mystery scenario, from classic themes to dreamed up reality."},step2:{step:"Step 2",title:"Character Profiles",content:"Detailed character backgrounds, motivations, and secrets for all participants."},step3:{step:"Step 3",title:"Host Guide",content:"Easy-to-follow step-by-step instructions to host a memorable murder mystery event."}},cW={title:"What Others Are Saying",testimonial1:{text:"My friends still talk about our murder mystery night. The characters were so detailed and the plot twists were perfect!",author:"Jessica Davis",role:"Party Host"},testimonial2:{text:"So easy to set up! I was worried about hosting for 12 people, but the materials made it simple and everyone had a blast.",author:"Mark Klein",role:"Corporate Event Planner"},testimonial3:{text:"Third murder mystery party using this service and they keep getting better. The customization options are amazing.",author:"Amanda Smith",role:"Birthday Celebrant"}},dW={title:"Need More Help?",description:"Visit our comprehensive support center for FAQs, hosting tips, and more information about using our Murder Mystery Generator.",button:"Visit Support Center"},hW={tagline:"Craft captivating murder mysteries at the speed of imagination.",quickLinks:"Quick Links",company:"Company",links:{home:"Home",support:"Support",contact:"Contact",privacy:"Privacy Policy"},copyright:"Murder Mystery Generator, Inc. All rights reserved."},fW={buttons:{createNew:"Create New Mystery",getStarted:"Get Started",learnMore:"Learn More",tryNow:"Try Now",continue:"Continue",cancel:"Cancel",save:"Save",delete:"Delete",edit:"Edit",close:"Close"},labels:{loading:"Loading...",error:"Error",success:"Success",warning:"Warning",info:"Information"},messages:{welcome:"Welcome!",thankYou:"Thank you!",comingSoon:"Coming Soon",notFound:"Not Found"}},mW={navigation:aW,hero:oW,howItWorks:lW,features:uW,testimonials:cW,support:dW,footer:hW,common:fW},pW={home:"Inicio",dashboard:"Panel",signIn:"Iniciar Sesin",signUp:"Registrarse",signOut:"Cerrar Sesin",account:"Configuracin de Cuenta"},gW={title:"Organiza una Fiesta Mortal Esta Noche.",subtitle:"Genera misterios de asesinatos personalizados con personajes, pistas y todo lo que necesitas.",subtitleAuth:"Dinos qu te gustara crear y lo haremos realidad.",placeholder:"Qu tipo de misterio de asesinato te gustara organizar?",placeholderAuth:"Qu tipo de misterio de asesinato te gustara crear hoy?",themes:{"1920sSpeakeasy":"Speakeasy de los 20s",hollywoodMurder:"Asesinato en Hollywood",castleMystery:"Misterio en el Castillo",sciFiMystery:"Misterio de Ciencia Ficcin",artGalleryOpening:"Inauguracin de Galera",bakeryCompetition:"Competencia de Panadera",mountainSkiResort:"Resort de Esqu Montaoso",luxuryTrainJourney:"Viaje en Tren de Lujo",historicUniversity:"Universidad Histrica",pokerTournament:"Torneo de Pker",barbieDreamworld:"Mundo de Ensueo Barbie",dystopianWaterworld:"Mundo Acutico Distpico",jungleSteampunk:"Selva Steampunk",magicalBakery:"Panadera Mgica",gamingTournament:"Torneo de Videojuegos",synthwave80s:"Synthwave de los 80",beachResort:"Resort de Playa",operaHouse:"Casa de pera",wineCountry:"Regin Vincola",safariAdventure:"Aventura Safari",fashionShow:"Desfile de Moda",casinoNight:"Noche de Casino",fairyTaleKingdom:"Reino de Cuentos",spaceColony:"Colonia Espacial",superheroAcademy:"Academia de Superhroes",underwaterCity:"Ciudad Submarina",wildWestSaloon:"Cantina del Oeste",vikingFeast:"Banquete Vikingo",candyKingdom:"Reino de Dulces",dragonsLair:"Guarida del Dragn",timeTravelersBall:"Baile de Viajeros del Tiempo",atlantisRising:"El Resurgir de Atlntida",toyBoxAdventure:"Aventura en la Caja de Juguetes",vampireMasquerade:"Baile de Mscaras Vamprico",dimensionHopping:"Salto Dimensional",cyberpunkNightclub:"Club Nocturno Cyberpunk",ghostShip:"Barco Fantasma",sentientPlantColony:"Colonia de Plantas Conscientes"}},yW={step1:{title:"Describe tu misterio de asesinato ideal.",description:"Dinos qu tema y caractersticas quieres en tu misterio."},step2:{title:"La Mquina del Misterio crea tu primera versin al instante.",description:"Nuestra IA genera un misterio completo con personajes y pistas."},step3:{title:"Habla con el editor para disear y perfeccionar tu idea.",description:"Refina el misterio con el asistente de IA hasta que sea perfecto."},step4:{title:"Genera guas PDF para ti y tus amigos",description:"Descarga todo lo que necesitas para organizar una fiesta increble."}},bW={title:"Todo lo que Necesitas Incluido",step1:{step:"Paso 1",title:"Historias Personalizables",content:"Crea tu propio escenario nico de misterio de asesinato, desde temas clsicos hasta realidades soadas."},step2:{step:"Paso 2",title:"Perfiles de Personajes",content:"Trasfondos detallados, motivaciones y secretos de personajes para todos los participantes."},step3:{step:"Paso 3",title:"Gua del Anfitrin",content:"Instrucciones paso a paso fciles de seguir para organizar un evento memorable de misterio de asesinato."}},xW={title:"Lo que Dicen los Dems",testimonial1:{text:"Mis amigos an hablan de nuestra noche de misterio de asesinato. Los personajes estaban tan detallados y los giros de la trama fueron perfectos!",author:"Jessica Davis",role:"Anfitriona de Fiesta"},testimonial2:{text:"Muy fcil de configurar! Estaba preocupado por organizar para 12 personas, pero los materiales lo hicieron simple y todos se divirtieron muchsimo.",author:"Mark Klein",role:"Planificador de Eventos Corporativos"},testimonial3:{text:"Tercera fiesta de misterio de asesinato usando este servicio y siguen mejorando. Las opciones de personalizacin son increbles.",author:"Amanda Smith",role:"Celebrante de Cumpleaos"}},vW={title:"Necesitas Ms Ayuda?",description:"Visita nuestro centro de soporte integral para preguntas frecuentes, consejos de organizacin y ms informacin sobre el uso de nuestro Generador de Misterios de Asesinato.",button:"Visitar Centro de Soporte"},EW={tagline:"Crea misterios de asesinatos cautivadores a la velocidad de la imaginacin.",quickLinks:"Enlaces Rpidos",company:"Empresa",links:{home:"Inicio",support:"Soporte",contact:"Contacto",privacy:"Poltica de Privacidad"},copyright:"Murder Mystery Generator, Inc. Todos los derechos reservados."},wW={buttons:{createNew:"Crear Nuevo Misterio",getStarted:"Comenzar",learnMore:"Saber Ms",tryNow:"Probar Ahora",continue:"Continuar",cancel:"Cancelar",save:"Guardar",delete:"Eliminar",edit:"Editar",close:"Cerrar"},labels:{loading:"Cargando...",error:"Error",success:"xito",warning:"Advertencia",info:"Informacin"},messages:{welcome:"Bienvenido!",thankYou:"Gracias!",comingSoon:"Prximamente",notFound:"No Encontrado"}},TW={navigation:pW,hero:gW,howItWorks:yW,features:bW,testimonials:xW,support:vW,footer:EW,common:wW},_W={home:"Accueil",dashboard:"Tableau de Bord",signIn:"Se Connecter",signUp:"S'Inscrire",signOut:"Se Dconnecter",account:"Paramtres du Compte"},SW={title:"Organisez une Soire Criminelle Ce Soir.",subtitle:"Gnrez des enqutes policires personnalises avec des personnages, des indices et tout ce dont vous avez besoin.",subtitleAuth:"Dites-nous ce que vous aimeriez crer et nous le raliserons.",placeholder:"Quel type d'enqute policire aimeriez-vous organiser ?",placeholderAuth:"Quel type d'enqute policire aimeriez-vous crer aujourd'hui ?",themes:{"1920sSpeakeasy":"Speakeasy des Annes 20",hollywoodMurder:"Meurtre  Hollywood",castleMystery:"Mystre au Chteau",sciFiMystery:"Mystre Science-Fiction",artGalleryOpening:"Vernissage de Galerie",bakeryCompetition:"Concours de Boulangerie",mountainSkiResort:"Station de Ski de Montagne",luxuryTrainJourney:"Voyage en Train de Luxe",historicUniversity:"Universit Historique",pokerTournament:"Tournoi de Poker",barbieDreamworld:"Monde de Rve Barbie",dystopianWaterworld:"Monde Aquatique Dystopique",jungleSteampunk:"Jungle Steampunk",magicalBakery:"Boulangerie Magique",gamingTournament:"Tournoi de Jeux Vido",synthwave80s:"Synthwave des Annes 80",beachResort:"Station Balnaire",operaHouse:"Opra",wineCountry:"Rgion Viticole",safariAdventure:"Aventure Safari",fashionShow:"Dfil de Mode",casinoNight:"Soire Casino",fairyTaleKingdom:"Royaume de Contes de Fes",spaceColony:"Colonie Spatiale",superheroAcademy:"Acadmie de Super-Hros",underwaterCity:"Ville Sous-Marine",wildWestSaloon:"Saloon du Far West",vikingFeast:"Festin Viking",candyKingdom:"Royaume des Bonbons",dragonsLair:"Antre du Dragon",timeTravelersBall:"Bal des Voyageurs Temporels",atlantisRising:"Le Rveil d'Atlantis",toyBoxAdventure:"Aventure dans la Bote  Jouets",vampireMasquerade:"Bal Masqu Vampirique",dimensionHopping:"Saut Dimensionnel",cyberpunkNightclub:"Club Cyberpunk",ghostShip:"Navire Fantme",sentientPlantColony:"Colonie de Plantes Conscientes"}},CW={step1:{title:"Dcrivez votre enqute policire idale.",description:"Dites-nous quel thme et quelles fonctionnalits vous voulez dans votre mystre."},step2:{title:"La Machine  Mystres cre votre premire version instantanment.",description:"Notre IA gnre un mystre complet avec des personnages et des indices."},step3:{title:"Parlez  l'diteur pour concevoir et perfectionner votre ide.",description:"Affinez le mystre avec l'assistant IA jusqu' ce qu'il soit parfait."},step4:{title:"Gnrez des guides PDF pour vous et vos amis",description:"Tlchargez tout ce dont vous avez besoin pour organiser une soire incroyable."}},AW={title:"Tout ce Dont Vous Avez Besoin Inclus",step1:{step:"tape 1",title:"Histoires Personnalisables",content:"Crez votre propre scnario unique d'enqute policire, des thmes classiques aux ralits imagines."},step2:{step:"tape 2",title:"Profils de Personnages",content:"Histoires dtailles, motivations et secrets des personnages pour tous les participants."},step3:{step:"tape 3",title:"Guide de l'Hte",content:"Instructions tape par tape faciles  suivre pour organiser un vnement mmorable d'enqute policire."}},NW={title:"Ce que Disent les Autres",testimonial1:{text:"Mes amis parlent encore de notre soire enqute policire. Les personnages taient si dtaills et les rebondissements parfaits !",author:"Jessica Davis",role:"Htesse de Soire"},testimonial2:{text:"Si facile  organiser ! J'tais inquiet d'organiser pour 12 personnes, mais les matriaux ont rendu cela simple et tout le monde s'est amus.",author:"Mark Klein",role:"Organisateur d'vnements d'Entreprise"},testimonial3:{text:"Troisime soire enqute policire avec ce service et elles ne cessent de s'amliorer. Les options de personnalisation sont incroyables.",author:"Amanda Smith",role:"Ftarde d'Anniversaire"}},kW={title:"Besoin d'Aide Supplmentaire ?",description:"Visitez notre centre de support complet pour les FAQ, conseils d'organisation et plus d'informations sur l'utilisation de notre Gnrateur d'Enqutes Policires.",button:"Visiter le Centre de Support"},IW={tagline:"Crez des enqutes policires captivantes  la vitesse de l'imagination.",quickLinks:"Liens Rapides",company:"Entreprise",links:{home:"Accueil",support:"Support",contact:"Contact",privacy:"Politique de Confidentialit"},copyright:"Murder Mystery Generator, Inc. Tous droits rservs."},RW={buttons:{createNew:"Crer Nouveau Mystre",getStarted:"Commencer",learnMore:"En Savoir Plus",tryNow:"Essayer Maintenant",continue:"Continuer",cancel:"Annuler",save:"Sauvegarder",delete:"Supprimer",edit:"Modifier",close:"Fermer"},labels:{loading:"Chargement...",error:"Erreur",success:"Succs",warning:"Avertissement",info:"Information"},messages:{welcome:"Bienvenue !",thankYou:"Merci !",comingSoon:"Bientt Disponible",notFound:"Non Trouv"}},PW={navigation:_W,hero:SW,howItWorks:CW,features:AW,testimonials:NW,support:kW,footer:IW,common:RW},OW={home:"Startseite",dashboard:"Dashboard",signIn:"Anmelden",signUp:"Registrieren",signOut:"Abmelden",account:"Kontoeinstellungen"},DW={title:"Veranstalten Sie Heute Abend eine Mrderische Party.",subtitle:"Erstellen Sie individuelle Kriminalrtsel mit Charakteren, Hinweisen und allem was Sie brauchen.",subtitleAuth:"Sagen Sie uns, was Sie erstellen mchten, und wir machen es mglich.",placeholder:"Welche Art von Kriminalrtsel mchten Sie veranstalten?",placeholderAuth:"Welche Art von Kriminalrtsel mchten Sie heute erstellen?",themes:{"1920sSpeakeasy":"1920er Speakeasy",hollywoodMurder:"Hollywood Mord",castleMystery:"Schloss Mysterium",sciFiMystery:"Sci-Fi Mysterium",artGalleryOpening:"Galerie Erffnung",bakeryCompetition:"Bckerei Wettbewerb",mountainSkiResort:"Berg Skigebiet",luxuryTrainJourney:"Luxus Zugreise",historicUniversity:"Historische Universitt",pokerTournament:"Poker Turnier",barbieDreamworld:"Barbie Traumwelt",dystopianWaterworld:"Dystopische Wasserwelt",jungleSteampunk:"Dschungel Steampunk",magicalBakery:"Magische Bckerei",gamingTournament:"Gaming Turnier",synthwave80s:"Synthwave 80er",beachResort:"Strand Resort",operaHouse:"Opernhaus",wineCountry:"Weinland",safariAdventure:"Safari Abenteuer",fashionShow:"Modenschau",casinoNight:"Casino Nacht",fairyTaleKingdom:"Mrchen Knigreich",spaceColony:"Weltraum Kolonie",superheroAcademy:"Superhelden Akademie",underwaterCity:"Unterwasser Stadt",wildWestSaloon:"Wilder Westen Saloon",vikingFeast:"Wikinger Fest",candyKingdom:"Sigkeiten Knigreich",dragonsLair:"Drachen Hhle",timeTravelersBall:"Zeitreisenden Ball",atlantisRising:"Atlantis Erwachen",toyBoxAdventure:"Spielzeugkiste Abenteuer",vampireMasquerade:"Vampir Maskenball",dimensionHopping:"Dimensions Sprung",cyberpunkNightclub:"Cyberpunk Nachtclub",ghostShip:"Geisterschiff",sentientPlantColony:"Bewusste Pflanzen Kolonie"}},MW={step1:{title:"Beschreiben Sie Ihr ideales Kriminalrtsel.",description:"Sagen Sie uns, welches Thema und welche Funktionen Sie in Ihrem Mysterium wollen."},step2:{title:"Die Mysterium-Maschine erstellt sofort Ihre erste Version.",description:"Unsere KI generiert ein vollstndiges Mysterium mit Charakteren und Hinweisen."},step3:{title:"Sprechen Sie mit dem Editor, um Ihre Idee zu gestalten und zu perfektionieren.",description:"Verfeinern Sie das Mysterium mit dem KI-Assistenten, bis es perfekt ist."},step4:{title:"Erstellen Sie PDF-Leitfden fr Sie und Ihre Freunde",description:"Laden Sie alles herunter, was Sie brauchen, um eine fantastische Party zu veranstalten."}},LW={title:"Alles was Sie Brauchen Enthalten",step1:{step:"Schritt 1",title:"Anpassbare Geschichten",content:"Erstellen Sie Ihr eigenes einzigartiges Kriminalrtsel-Szenario, von klassischen Themen bis hin zu ertrumten Realitten."},step2:{step:"Schritt 2",title:"Charakter Profile",content:"Detaillierte Charakterhintergrnde, Motivationen und Geheimnisse fr alle Teilnehmer."},step3:{step:"Schritt 3",title:"Gastgeber Leitfaden",content:"Einfach zu befolgende Schritt-fr-Schritt-Anweisungen, um ein unvergessliches Kriminalrtsel-Event zu veranstalten."}},jW={title:"Was Andere Sagen",testimonial1:{text:"Meine Freunde sprechen immer noch ber unseren Kriminalrtsel-Abend. Die Charaktere waren so detailliert und die Wendungen perfekt!",author:"Jessica Davis",role:"Party Gastgeberin"},testimonial2:{text:"So einfach aufzubauen! Ich war besorgt, fr 12 Personen zu organisieren, aber die Materialien machten es einfach und alle hatten Spa.",author:"Mark Klein",role:"Firmenveranstaltungs Planer"},testimonial3:{text:"Dritte Kriminalrtsel-Party mit diesem Service und sie werden immer besser. Die Anpassungsoptionen sind erstaunlich.",author:"Amanda Smith",role:"Geburtstags Feiernde"}},FW={title:"Brauchen Sie Mehr Hilfe?",description:"Besuchen Sie unser umfassendes Support-Center fr FAQs, Gastgeber-Tipps und weitere Informationen zur Nutzung unseres Kriminalrtsel-Generators.",button:"Support-Center Besuchen"},BW={tagline:"Erstellen Sie fesselnde Kriminalrtsel mit der Geschwindigkeit der Vorstellungskraft.",quickLinks:"Schnelle Links",company:"Unternehmen",links:{home:"Startseite",support:"Support",contact:"Kontakt",privacy:"Datenschutz-Bestimmungen"},copyright:"Murder Mystery Generator, Inc. Alle Rechte vorbehalten."},UW={buttons:{createNew:"Neues Mysterium Erstellen",getStarted:"Loslegen",learnMore:"Mehr Erfahren",tryNow:"Jetzt Probieren",continue:"Weiter",cancel:"Abbrechen",save:"Speichern",delete:"Lschen",edit:"Bearbeiten",close:"Schlieen"},labels:{loading:"Ldt...",error:"Fehler",success:"Erfolg",warning:"Warnung",info:"Information"},messages:{welcome:"Willkommen!",thankYou:"Danke!",comingSoon:"Bald Verfgbar",notFound:"Nicht Gefunden"}},HW={navigation:OW,hero:DW,howItWorks:MW,features:LW,testimonials:jW,support:FW,footer:BW,common:UW},$W={},VW={},zW={},qW={},GW={},WW={},YW={},KW={},XW={},QW={en:{translation:mW},es:{translation:TW},fr:{translation:PW},de:{translation:HW},ko:{translation:$W},ja:{translation:VW},"zh-cn":{translation:zW},nl:{translation:qW},da:{translation:GW},sv:{translation:WW},fi:{translation:YW},it:{translation:KW},pt:{translation:XW}};Gt.use(WA).use(XO).init({resources:QW,lng:"en",fallbackLng:"en",supportedLngs:["en","es","fr","de","ko","ja","zh-cn","nl","da","sv","fi","it","pt"],detection:{order:["localStorage","navigator","htmlTag"],caches:["localStorage"],lookupLocalStorage:"i18nextLng",lookupFromPathIndex:0,lookupFromSubdomainIndex:0},interpolation:{escapeValue:!1},debug:!1,keySeparator:".",nsSeparator:":",defaultNS:"translation",react:{useSuspense:!1}});const JW=typeof window<"u";if(JW){const e=document.getElementById("root");e&&Qx(e).render(u.jsx(_G,{}))}
//# sourceMappingURL=main-Bhw34Zfn.js.map
